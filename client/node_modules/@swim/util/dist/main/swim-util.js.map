{"version":3,"file":"swim-util.js","sources":["../../main/String.ts","../../main/ByteOrder.ts","../../main/Random.ts","../../main/Murmur3.ts","../../main/Objects.ts","../../main/Any.ts","../../main/Cursor.ts","../../../../../node_modules/tslib/tslib.es6.js","../../main/CursorEmpty.ts","../../main/CursorUnary.ts","../../main/CursorArray.ts","../../main/AssertException.ts","../../main/Assert.ts","../../main/Severity.ts","../../main/HashGenCacheMap.ts","../../main/HashGenCacheSet.ts"],"sourcesContent":["// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nfunction codePointAt(this: String, index: number): number | undefined {\n  const size = this.length;\n  index = index ? Number(index) : 0; // Coerce to number.\n  if (index !== index) { // Convert NaN to zero.\n    index = 0;\n  }\n  if (index >= 0 && index < size) {\n    const c1 = this.charCodeAt(index);\n    if (c1 <= 0xd7ff || c1 >= 0xe000) { // U+0000..U+D7FF | U+E000..U+FFFF\n      return c1;\n    } else if (c1 <= 0xdbff && index + 1 < size) {\n      const c2 = this.charCodeAt(index + 1);\n      if (c2 >= 0xdc00 && c2 <= 0xdfff) { // U+10000..U+10FFFF\n        return ((c1 & 0x03ff) << 10 + c2 & 0x03ff) + 0x10000;\n      }\n    }\n  }\n  return void 0;\n}\n\nfunction offsetByCodePoints(this: String, index: number, count: number): number {\n  if (count > 0) {\n    const size = this.length;\n    while (count > 0 && index < size) {\n      const c1 = this.charCodeAt(index);\n      if (c1 <= 0xd7ff || c1 >= 0xe000) { // U+0000..U+D7FF | U+E000..U+FFFF\n        index += 1;\n      } else if (c1 <= 0xdbff && index + 1 < size) {\n        const c2 = this.charCodeAt(index + 1);\n        if (c2 >= 0xdc00 && c2 <= 0xdfff) { // U+10000..U+10FFFF\n          index += 2;\n        } else {\n          index += 1;\n        }\n      } else {\n        index += 1;\n      }\n      count -= 1;\n    }\n  } else if (count < 0) {\n    while (count < 0 && index > 0) {\n      const c2 = this.charCodeAt(index - 1);\n      if (c2 <= 0xd7ff || c2 >= 0xe000) { // U+0000..U+D7FF | U+E000..U+FFFF\n        index -= 1;\n      } else if (c2 >= 0xdc00 && c2 <= 0xdfff && index - 1 > 0) {\n        const c1 = this.charCodeAt(index - 2);\n        if (c1 >= 0xd800 && c1 <= 0xdfff) { // U+10000..U+10FFFF\n          index -= 2;\n        } else {\n          index -= 1;\n        }\n      } else {\n        index -= 1;\n      }\n      count -= 1;\n    }\n  }\n  return index;\n}\n\nif (!String.prototype.codePointAt) {\n  Object.defineProperty(String.prototype, \"codePointAt\", {\n    value: codePointAt,\n    configurable: true,\n    writable: true,\n  });\n}\n\nif (!String.prototype.offsetByCodePoints) {\n  Object.defineProperty(String.prototype, \"offsetByCodePoints\", {\n    value: offsetByCodePoints,\n    configurable: true,\n    writable: true,\n  });\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * Endianness of multi-byte datums.\n */\nexport const enum ByteOrder {\n  /**\n   * Most significant byte first.\n   */\n  BigEndian = \"BE\",\n  /**\n   * Least significant byte first.\n   */\n  LittleEndian = \"LE\",\n}\n\nfunction nativeOrder(): ByteOrder {\n  const bom = new ArrayBuffer(2);\n  new Uint16Array(bom)[0] = 0xfeff;\n  const b = new Uint8Array(bom);\n  if (b[0] === 0xfe && b[1] === 0xff) {\n    return ByteOrder.BigEndian;\n  } else if (b[0] === 0xff && b[1] === 0xfe) {\n    return ByteOrder.LittleEndian;\n  } else {\n    throw new Error();\n  }\n}\n\n/**\n * `ByteOrder` of the host machine.\n */\nexport const NativeOrder: ByteOrder = nativeOrder();\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/** @hidden */\nconst crypto = (\n  typeof window !== \"undefined\" &&\n  (window.crypto || (window as any).msCrypto)\n) as RandomSource | undefined;\n\n/** @hidden */\nfunction fillBytesCrypto(typedArray: Int8Array | Uint8Array\n                                   | Int16Array | Uint16Array\n                                   | Int32Array | Uint32Array): void {\n  crypto!.getRandomValues(typedArray);\n}\n\n/** @hidden */\nfunction fillBytesMath(typedArray: Int8Array | Uint8Array\n                                 | Int16Array | Uint16Array\n                                 | Int32Array | Uint32Array): void {\n  if (typedArray instanceof Int8Array) {\n    for (let i = 0; i < typedArray.length; i += 1) {\n      typedArray[i] = 128 - Math.round(Math.random() * 256);\n    }\n  } else if (typedArray instanceof Uint8Array) {\n    for (let i = 0; i < typedArray.length; i += 1) {\n      typedArray[i] = Math.round(Math.random() * 256);\n    }\n  } else if (typedArray instanceof Int16Array) {\n    for (let i = 0; i < typedArray.length; i += 1) {\n      typedArray[i] = 32768 - Math.round(Math.random() * 65536);\n    }\n  } else if (typedArray instanceof Uint16Array) {\n    for (let i = 0; i < typedArray.length; i += 1) {\n      typedArray[i] = Math.round(Math.random() * 65536);\n    }\n  } else if (typedArray instanceof Int32Array) {\n    for (let i = 0; i < typedArray.length; i += 1) {\n      typedArray[i] = 2147483648 - Math.round(Math.random() * 4294967296);\n    }\n  } else if (typedArray instanceof Uint32Array) {\n    for (let i = 0; i < typedArray.length; i += 1) {\n      typedArray[i] = Math.round(Math.random() * 4294967296);\n    }\n  } else {\n    throw new TypeError(\"\" + typedArray);\n  }\n}\n\n/** @hidden */\nexport class Random {\n  private constructor() {\n  }\n\n  static fillBytes = crypto ? fillBytesCrypto : fillBytesMath;\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {ByteOrder, NativeOrder} from \"./ByteOrder\";\n\nconst hashArrayBuffer = new ArrayBuffer(8);\nconst hashFloat64Array = new Float64Array(hashArrayBuffer);\nconst hashInt32Array = new Int32Array(hashArrayBuffer);\n\n/**\n * Left-rotates the bits in a 32-bit `value` by `distance` bits.\n */\nfunction rotl(value: number, distance: number): number {\n  return (value << distance) | (value >>> (32 - distance));\n}\n\n/**\n * 32-bit [MurmurHash](https://en.wikipedia.org/wiki/MurmurHash) algorithm,\n * version 3.\n */\nexport class Murmur3 {\n  private constructor() {\n  }\n\n  /**\n   * Returns the hash code of the name of a prototype object `value`, or for a\n   * primitive value.\n   */\n  static seed(value: object | string | number | boolean | null | undefined) {\n    if (typeof value === \"object\" && value) {\n      if (value.constructor && typeof (value.constructor as any).name === \"string\") {\n        value = (value.constructor as any).name as string;\n      } else {\n        value = value.toString();\n      }\n    }\n    return Murmur3.hash(value as any);\n  }\n\n  /**\n   * Returns the hash code of a primitive `value`.\n   */\n  static hash(value: Uint8Array | string | number | boolean | null | undefined): number {\n    if (value instanceof Uint8Array || typeof value === \"string\") {\n      return Murmur3.mash(Murmur3.mix(0, value));\n    } else if (typeof value === \"number\") {\n      if (~~value === value) {\n        return ~~value;\n      }\n      hashFloat64Array[0] = value;\n      return hashInt32Array[0] ^ hashInt32Array[1];\n    } else if (typeof value === \"boolean\") {\n      return value ? 3 : 2;\n    } else if (value === null) {\n      return 1;\n    } else if (value === undefined) {\n      return 0;\n    } else {\n      throw new TypeError(\"\" + value);\n    }\n  }\n\n  /** @hidden */\n  static mixUint8ArrayBE(code: number, array: Uint8Array): number {\n    let offset = 0;\n    const limit = array.length;\n    while (offset + 3 < limit) {\n      const word = (array[offset    ] & 0xff) << 24 | (array[offset + 1] & 0xff) << 16\n                 | (array[offset + 2] & 0xff) <<  8 |  array[offset + 3] & 0xff;\n      code = Murmur3.mix(code, word);\n      offset += 4;\n    }\n    if (offset < limit) {\n      let word = (array[offset] & 0xff) << 24;\n      if (offset + 1 < limit) {\n        word |= (array[offset + 1] & 0xff) << 16;\n        if (offset + 2 < limit) {\n          word |= (array[offset + 2] & 0xff) << 8;\n          //assert offset + 3 === limit;\n        }\n      }\n      word = ((word & 0xffff) * 0xcc9e2d51) + (((word >>> 16) * 0xcc9e2d51 & 0xffff) << 16) & 0xffffffff;\n      word = rotl(word, 15);\n      word = ((word & 0xffff) * 0x1b873593) + (((word >>> 16) * 0x1b873593 & 0xffff) << 16) & 0xffffffff;\n      code ^= word;\n    }\n    return code ^ limit;\n  }\n  /** @hidden */\n  static mixUInt8ArrayLE(code: number, array: Uint8Array): number {\n    let offset = 0;\n    const limit = array.length;\n    while (offset + 3 < limit) {\n      const word =  array[offset    ] & 0xff        | (array[offset + 1] & 0xff) <<  8\n                 | (array[offset + 2] & 0xff) << 16 | (array[offset + 3] & 0xff) << 24;\n      code = Murmur3.mix(code, word);\n      offset += 4;\n    }\n    if (offset < limit) {\n      let word = array[offset] & 0xff;\n      if (offset + 1 < limit) {\n        word |= (array[offset + 1] & 0xff) << 8;\n        if (offset + 2 < limit) {\n          word |= (array[offset + 2] & 0xff) << 16;\n          //assert offset + 3 === limit;\n        }\n      }\n      word = ((word & 0xffff) * 0xcc9e2d51) + (((word >>> 16) * 0xcc9e2d51 & 0xffff) << 16) & 0xffffffff;\n      word = rotl(word, 15);\n      word = ((word & 0xffff) * 0x1b873593) + (((word >>> 16) * 0x1b873593 & 0xffff) << 16) & 0xffffffff;\n      code ^= word;\n    }\n    return code ^ limit;\n  }\n\n  /** @hidden */\n  static mixStringBE(code: number, string: string): number {\n    let word = 0;\n    let k = 32;\n    let i = 0;\n    const n = string.length;\n    let utf8Length = 0;\n    while (i < n) {\n      let c = string.codePointAt(i);\n      if (c === void 0) {\n        c = string.charCodeAt(i);\n      }\n      if (c >= 0 && c <= 0x7f) { // U+0000..U+007F\n        k -= 8;\n        word |= c << k;\n        if (k === 0) { code = Murmur3.mix(code, word); word = 0; k = 32; }\n        utf8Length += 1;\n      } else if (c >= 0x80 && c <= 0x7ff) { // U+0080..U+07FF\n        k -= 8;\n        word |= (0xc0 | (c >>> 6)) << k;\n        if (k === 0) { code = Murmur3.mix(code, word); word = 0; k = 32; }\n        k -= 8;\n        word |= (0x80 | (c & 0x3f)) << k;\n        if (k === 0) { code = Murmur3.mix(code, word); word = 0; k = 32; }\n        utf8Length += 2;\n      } else if (c >= 0x0800 && c <= 0xffff || // U+0800..U+D7FF\n                 c >= 0xe000 && c <= 0xffff) { // U+E000..U+FFFF\n        k -= 8;\n        word |= (0xe0 | (c  >>> 12)) << k;\n        if (k === 0) { code = Murmur3.mix(code, word); word = 0; k = 32; }\n        k -= 8;\n        word |= (0x80 | ((c >>>  6) & 0x3f)) << k;\n        if (k === 0) { code = Murmur3.mix(code, word); word = 0; k = 32; }\n        k -= 8;\n        word |= (0x80 | (c & 0x3f)) << k;\n        if (k === 0) { code = Murmur3.mix(code, word); word = 0; k = 32; }\n        utf8Length += 3;\n      } else if (c >= 0x10000 && c <= 0x10ffff) { // U+10000..U+10FFFF\n        k -= 8;\n        word |= (0xf0 | (c  >>> 18)) << k;\n        if (k === 0) { code = Murmur3.mix(code, word); word = 0; k = 32; }\n        k -= 8;\n        word |= (0x80 | ((c >>> 12) & 0x3f)) << k;\n        if (k === 0) { code = Murmur3.mix(code, word); word = 0; k = 32; }\n        k -= 8;\n        word |= (0x80 | ((c >>>  6) & 0x3f)) << k;\n        if (k === 0) { code = Murmur3.mix(code, word); word = 0; k = 32; }\n        k -= 8;\n        word |= (0x80 | (c & 0x3f)) << k;\n        if (k === 0) { code = Murmur3.mix(code, word); word = 0; k = 32; }\n        utf8Length += 4;\n      } else { // surrogate or invalid code point\n        k -= 8;\n        word |= 0xef << k;\n        if (k === 0) { code = Murmur3.mix(code, word); word = 0; k = 32; }\n        k -= 8;\n        word |= 0xbf << k;\n        if (k === 0) { code = Murmur3.mix(code, word); word = 0; k = 32; }\n        k -= 8;\n        word |= 0xbd << k;\n        if (k === 0) { code = Murmur3.mix(code, word); word = 0; k = 32; }\n        utf8Length += 3;\n      }\n      i = string.offsetByCodePoints(i, 1);\n    }\n    if (k !== 32) {\n      word = ((word & 0xffff) * 0xcc9e2d51) + (((word >>> 16) * 0xcc9e2d51 & 0xffff) << 16) & 0xffffffff;\n      word = rotl(word, 15);\n      word = ((word & 0xffff) * 0x1b873593) + (((word >>> 16) * 0x1b873593 & 0xffff) << 16) & 0xffffffff;\n      code ^= word;\n    }\n    return code ^ utf8Length;\n  }\n  /** @hidden */\n  static mixStringLE(code: number, string: string): number {\n    let word = 0;\n    let k = 0;\n    let i = 0;\n    const n = string.length;\n    let utf8Length = 0;\n    while (i < n) {\n      let c = string.codePointAt(i);\n      if (c === void 0) {\n        c = string.charCodeAt(i);\n      }\n      if (c >= 0 && c <= 0x7f) { // U+0000..U+007F\n        word |= c << k;\n        k += 8;\n        if (k === 32) { code = Murmur3.mix(code, word); word = 0; k = 0; }\n        utf8Length += 1;\n      } else if (c >= 0x80 && c <= 0x7ff) { // U+0080..U+07FF\n        word |= (0xc0 | (c >>> 6)) << k;\n        k += 8;\n        if (k === 32) { code = Murmur3.mix(code, word); word = 0; k = 0; }\n        word |= (0x80 | (c & 0x3f)) << k;\n        k += 8;\n        if (k === 32) { code = Murmur3.mix(code, word); word = 0; k = 0; }\n        utf8Length += 2;\n      } else if (c >= 0x0800 && c <= 0xffff || // U+0800..U+D7FF\n                 c >= 0xe000 && c <= 0xffff) { // U+E000..U+FFFF\n        word |= (0xe0 | (c  >>> 12)) << k;\n        k += 8;\n        if (k === 32) { code = Murmur3.mix(code, word); word = 0; k = 0; }\n        word |= (0x80 | ((c >>>  6) & 0x3f)) << k;\n        k += 8;\n        if (k === 32) { code = Murmur3.mix(code, word); word = 0; k = 0; }\n        word |= (0x80 | (c & 0x3f)) << k;\n        k += 8;\n        if (k === 32) { code = Murmur3.mix(code, word); word = 0; k = 0; }\n        utf8Length += 3;\n      } else if (c >= 0x10000 && c <= 0x10ffff) { // U+10000..U+10FFFF\n        word |= (0xf0 | (c  >>> 18)) << k;\n        k += 8;\n        if (k === 32) { code = Murmur3.mix(code, word); word = 0; k = 0; }\n        word |= (0x80 | ((c >>> 12) & 0x3f)) << k;\n        k += 8;\n        if (k === 32) { code = Murmur3.mix(code, word); word = 0; k = 0; }\n        word |= (0x80 | ((c >>>  6) & 0x3f)) << k;\n        k += 8;\n        if (k === 32) { code = Murmur3.mix(code, word); word = 0; k = 0; }\n        word |= (0x80 | (c & 0x3f)) << k;\n        k += 8;\n        if (k === 32) { code = Murmur3.mix(code, word); word = 0; k = 0; }\n        utf8Length += 4;\n      } else { // surrogate or invalid code point\n        word |= 0xef << k;\n        k += 8;\n        if (k === 32) { code = Murmur3.mix(code, word); word = 0; k = 0; }\n        word |= 0xbf << k;\n        k += 8;\n        if (k === 32) { code = Murmur3.mix(code, word); word = 0; k = 0; }\n        word |= 0xbd << k;\n        k += 8;\n        if (k === 32) { code = Murmur3.mix(code, word); word = 0; k = 0; }\n        utf8Length += 3;\n      }\n      i = string.offsetByCodePoints(i, 1);\n    }\n    if (k !== 32) {\n      word = ((word & 0xffff) * 0xcc9e2d51) + (((word >>> 16) * 0xcc9e2d51 & 0xffff) << 16) & 0xffffffff;\n      word = rotl(word, 15);\n      word = ((word & 0xffff) * 0x1b873593) + (((word >>> 16) * 0x1b873593 & 0xffff) << 16) & 0xffffffff;\n      code ^= word;\n    }\n    return code ^ utf8Length;\n  }\n\n  /**\n   * Mixes a new hash `value` into the accumulated hash `code`.  If {@code\n   * value} is an array; mixes each consecutive 4-byte word in the into the\n   * accumulated hash `code`.  If {@code value} is a string, mixes each\n   * consecutive 4-byte word in its UTF-8 encoding into the accumulated hash\n   * {@code code}.\n   */\n  static mix(code: number, value: number | string | Uint8Array): number {\n    if (typeof value === \"number\") {\n      value = ((value & 0xffff) * 0xcc9e2d51) + (((value >>> 16) * 0xcc9e2d51 & 0xffff) << 16) & 0xffffffff;\n      value = rotl(value, 15);\n      value = ((value & 0xffff) * 0x1b873593) + (((value >>> 16) * 0x1b873593 & 0xffff) << 16) & 0xffffffff;\n      code ^= value;\n      code = rotl(code, 13);\n      code = ((code & 0xffff) * 5) + (((code >>> 16) * 5 & 0xffff) << 16) & 0xffffffff;\n      code = ((code & 0xffff) + 0x6b64) + (((code >>> 16) + 0xe654 & 0xffff) << 16);\n      return code;\n    } else if (typeof value === \"string\") {\n      if (NativeOrder === ByteOrder.BigEndian) {\n        return Murmur3.mixStringBE(code, value);\n      } else if (NativeOrder === ByteOrder.LittleEndian) {\n        return Murmur3.mixStringLE(code, value);\n      }\n    } else if (value instanceof Uint8Array) {\n      if (NativeOrder === ByteOrder.BigEndian) {\n        return Murmur3.mixUint8ArrayBE(code, value);\n      } else if (NativeOrder === ByteOrder.LittleEndian) {\n        return Murmur3.mixUInt8ArrayLE(code, value);\n      }\n    }\n    throw new TypeError(\"\" + value);\n  }\n\n  /**\n   * Finalizes a hash `code`.\n   */\n  static mash(code: number): number {\n    code ^= code >>> 16;\n    code = ((code & 0xffff) * 0x85ebca6b) + (((code >>> 16) * 0x85ebca6b & 0xffff) << 16) & 0xffffffff;\n    code ^= code >>> 13;\n    code = ((code & 0xffff) * 0xc2b2ae35) + (((code >>> 16) * 0xc2b2ae35 & 0xffff) << 16) & 0xffffffff;\n    code ^= code >>> 16;\n    return code >>> 0;\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Comparable} from \"./Comparable\";\nimport {Equals} from \"./Equals\";\nimport {HashCode} from \"./HashCode\";\nimport {Murmur3} from \"./Murmur3\";\n\n/**\n * Utilities for comparing, equating, and hashing structural values.\n * A structural value is typed by object structure, rather than by name.\n */\nexport class Objects {\n  private constructor() {\n  }\n\n  /**\n   * Returns the relative order of two structural values.  Returns `-1` if `x`\n   * orders before `y`; returns `1` if `x` orders after `y`; returns `0` if `x`\n   * and `y` are equivalent; and returns `NaN` if `x` is not comparable to `y`.\n   */\n  static compare(x: unknown, y: unknown): 0 | 1 | -1 {\n    if (x instanceof Date) {\n      x = x.getTime();\n    }\n    if (y instanceof Date) {\n      y = y.getTime();\n    }\n\n    if (x === void 0) {\n      if (y === void 0) {\n        return 0;\n      } else {\n        return 1;\n      }\n    } else if (x === null) {\n      if (y === void 0) {\n        return -1;\n      } else if (y === null) {\n        return 0;\n      } else {\n        return 1;\n      }\n    } else if (typeof x === \"number\") {\n      if (y === void 0 || y === null) {\n        return -1;\n      } else if (typeof y === \"number\") {\n        return x < y ? -1 : x > y ? 1 : isNaN(y) ? (isNaN(x) ? 0 : -1) : isNaN(x) ? 1 : 0;\n      } else {\n        return 1;\n      }\n    } else if (typeof x === \"string\") {\n      if (y === void 0 || y === null || typeof y === \"number\") {\n        return -1;\n      } else if (typeof y === \"string\") {\n        return x < y ? -1 : x > y ? 1 : 0;\n      } else {\n        return 1;\n      }\n    } else if (typeof x === \"object\" && typeof (x as any).compareTo === \"function\") {\n      const order = (x as Comparable<any>).compareTo(y);\n      return order < 0 ? -1 : order > 0 ? 1 : 0;\n    } else if (Array.isArray(x)) {\n      if (y === void 0 || y === null || typeof y === \"number\" || typeof y === \"string\") {\n        return -1;\n      } else if (Array.isArray(y)) {\n        return Objects.compareArray(x, y);\n      } else {\n        return 1;\n      }\n    } else {\n      if (y === void 0 || y === null || typeof y === \"number\" || typeof y === \"string\" || Array.isArray(y)) {\n        return -1;\n      } else {\n        return Objects.compareObject(x as any, y as any);\n      }\n    }\n  }\n\n  /**\n   * Returns the relative order of two arrays of structural values.  Returns\n   * `-1` if `x` orders before `y`; returns `1` if `x` orders after `y`;\n   * returns `0` if `x` and `y` are equivalent; and returns `NaN` if `x` is not\n   * comparable to `y`.\n   */\n  static compareArray(x: ReadonlyArray<any>, y: ReadonlyArray<any>): 0 | 1 | -1 {\n    const p = x.length as number;\n    const q = y.length as number;\n    let order = 0 as 0 | 1 | -1;\n    for (let i = 0, n = Math.min(p, q); i < n && order === 0; i += 1) {\n      order = Objects.compare(x[i], y[i]);\n    }\n    return order !== 0 ? order : p > q ? 1 : p < q ? -1 : 0;\n  }\n\n  /**\n   * Returns the relative order of two structural objects.  Returns `-1` if `x`\n   * orders before `y`; returns `1` if `x` orders after `y`; returns `0` if `x`\n   * and `y` are equivalent; and returns `NaN` if `x` is not comparable to `y`.\n   */\n  static compareObject(x: Object, y: Object): 0 | 1 | -1 {\n    const xKeys = Object.keys(x);\n    const yKeys = Object.keys(y);\n    const p = xKeys.length;\n    const q = yKeys.length;\n    const n = Math.min(p, q);\n    let order = 0 as 0 | 1 | -1;\n    for (let i = 0; i < n && order === 0; i += 1) {\n      const xKey = xKeys[i];\n      const yKey = yKeys[i];\n      order = Objects.compare(xKey, yKey);\n      if (order === 0) {\n        order = Objects.compare((x as any)[xKey], (y as any)[yKey]);\n      }\n    }\n    return order !== 0 ? order : p > q ? 1 : p < q ? -1 : 0;\n  }\n\n  /**\n   * Compares two structural values for equality.  Returns `true` if `x` and\n   * `y` are structurally equal, otherwise returns `false`.\n   */\n  static equal(x: unknown, y: unknown): boolean {\n    if (x instanceof Date) {\n      x = x.getTime();\n    }\n    if (y instanceof Date) {\n      y = y.getTime();\n    }\n\n    if (x === y) {\n      return true;\n    } else if (typeof x === \"number\") {\n      if (typeof y === \"number\") {\n        return isNaN(x) && isNaN(y);\n      }\n    } else if (typeof x === \"object\" && x && typeof (x as any).equals === \"function\") {\n      return (x as Equals).equals(y);\n    } else if (Array.isArray(x)) {\n      if (Array.isArray(y)) {\n        return Objects.equalArray(x, y);\n      }\n    } else if (typeof x === \"object\" && x) {\n      if (typeof y === \"object\" && y) {\n        return Objects.equalObject(x, y);\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Compares two arrays of structural values for equality.  Returns `true` if\n   * `x` and `y` are structurally equal, otherwise returns `false`.\n   */\n  static equalArray(x: ReadonlyArray<any>, y: ReadonlyArray<any>): boolean {\n    const n = x.length;\n    if (n !== y.length) {\n      return false;\n    }\n    for (let i = 0; i < n; i += 1) {\n      if (!Objects.equal(x[i], y[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Compares two structural objects for equality.  Returns `true` if `x` and\n   * `y` are structurally equal, otherwise returns `false`.\n   */\n  static equalObject(x: Object, y: Object): boolean {\n    const xKeys = Object.keys(x);\n    const yKeys = Object.keys(y);\n    const n = xKeys.length;\n    if (n !== yKeys.length) {\n      return false;\n    }\n    for (let i = 0; i < n; i += 1) {\n      const key = xKeys[i];\n      if (key !== yKeys[i] || !Objects.equal((x as any)[key], (y as any)[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Returns a hash code for a structural value.\n   */\n  static hash(x: unknown): number {\n    if (x === void 0 || x === null || typeof x === \"boolean\"\n        || typeof x === \"number\" || typeof x === \"string\") {\n      return Murmur3.hash(x as any);\n    } else if (typeof x === \"object\" && typeof (x as any).hashCode === \"function\") {\n      return (x as HashCode).hashCode();\n    } else if (Array.isArray(x)) {\n      return Objects.hashArray(x);\n    } else if (typeof x === \"object\") {\n      return Objects.hashObject(x as any);\n    } else {\n      throw new TypeError(\"\" + x);\n    }\n  }\n\n  /**\n   * Returns a hash code for an array of structural values.\n   */\n  static hashArray(x: ReadonlyArray<any>): number {\n    let h = 0;\n    const n = x.length;\n    for (let i = 0; i < n; i += 1) {\n      h = Murmur3.mix(h, Objects.hash(x[i]));\n    }\n    return Murmur3.mash(h);\n  }\n\n  /**\n   * Returns a hash code for a structural object.\n   */\n  static hashObject(x: Object): number {\n    let h = 0;\n    const keys = Object.keys(x);\n    const n = keys.length;\n    for (let i = 0; i < n; i += 1) {\n      const key = keys[i];\n      h = Murmur3.mix(Murmur3.mix(h, Murmur3.hash(key)), (x as any)[key]);\n    }\n    return Murmur3.mash(h);\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nexport interface FromAny<T, U = T> {\n  fromAny(value: T | U): T;\n}\n\n/** @hidden */\nexport const FromAny = {\n  is<T, U = T>(object: unknown): object is FromAny<T, U> {\n    if (typeof object === \"object\" && object || typeof object === \"function\") {\n      return typeof (object as FromAny<T, U>).fromAny === \"function\";\n    }\n    return false;\n  },\n};\n\nexport interface ToAny<T> {\n  toAny(): T;\n}\n\n/** @hidden */\nexport const ToAny = {\n  is<T>(object: unknown): object is ToAny<T> {\n    if (typeof object === \"object\" && object) {\n      return typeof (object as ToAny<T>).toAny === \"function\";\n    }\n    return false;\n  },\n};\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Iterator} from \"./Iterator\";\nimport {CursorEmpty} from \"./CursorEmpty\";\nimport {CursorUnary} from \"./CursorUnary\";\nimport {CursorArray} from \"./CursorArray\";\n\nexport abstract class Cursor<T> implements Iterator<T> {\n  abstract isEmpty(): boolean;\n\n  abstract head(): T;\n\n  abstract step(): void;\n\n  abstract skip(count: number): void;\n\n  abstract hasNext(): boolean;\n\n  abstract nextIndex(): number;\n\n  abstract next(): {value?: T, done: boolean};\n\n  abstract hasPrevious(): boolean;\n\n  abstract previousIndex(): number;\n\n  abstract previous(): {value?: T, done: boolean};\n\n  set(newValue: T): void {\n    throw new Error(\"immutable\");\n  }\n\n  delete(): void {\n    throw new Error(\"immutable\");\n  }\n\n  private static _empty?: Cursor<any>;\n  static empty<T>(): Cursor<T> {\n    if (!Cursor._empty) {\n      Cursor._empty = new Cursor.Empty();\n    }\n    return Cursor._empty;\n  }\n\n  static unary<T>(value: T): Cursor<T> {\n    return new Cursor.Unary<T>(value);\n  }\n\n  static array<T>(array: ReadonlyArray<T>, index: number = 0, limit: number = array.length): Cursor<T> {\n    return new Cursor.Array<T>(array, index, limit);\n  }\n\n  // Forward type declarations\n  /** @hidden */\n  static Empty: typeof CursorEmpty; // defined by CursorEmpty\n  /** @hidden */\n  static Unary: typeof CursorUnary; // defined by CursorUnary\n  /** @hidden */\n  static Array: typeof CursorArray; // defined by CursorArray\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Cursor} from \"./Cursor\";\n\n/** @hidden */\nexport class CursorEmpty extends Cursor<any> {\n  isEmpty(): boolean {\n    return true;\n  }\n\n  head(): any {\n    throw new Error(\"empty\");\n  }\n\n  step(): void {\n    throw new Error(\"empty\");\n  }\n\n  skip(count: number): void {\n    // nop\n  }\n\n  hasNext(): boolean {\n    return false;\n  }\n\n  nextIndex(): number {\n    return 0;\n  }\n\n  next(): {value?: any, done: boolean} {\n    return {done: true};\n  }\n\n  hasPrevious(): boolean {\n    return false;\n  }\n\n  previousIndex(): number {\n    return -1;\n  }\n\n  previous(): {value?: any, done: boolean} {\n    return {done: true};\n  }\n}\nCursor.Empty = CursorEmpty;\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Cursor} from \"./Cursor\";\n\n/** @hidden */\nexport class CursorUnary<T> extends Cursor<T> {\n  private readonly _value: T;\n  private _index: number;\n\n  constructor(value: T) {\n    super();\n    this._value = value;\n    this._index = 0;\n  }\n\n  isEmpty(): boolean {\n    return this._index !== 0;\n  }\n\n  head(): T {\n    if (this._index === 0) {\n      return this._value;\n    } else {\n      throw new Error(\"empty\");\n    }\n  }\n\n  step(): void {\n    if (this._index === 0) {\n      this._index = 1;\n    } else {\n      throw new Error(\"empty\");\n    }\n  }\n\n  skip(count: number): void {\n    this._index = Math.min(Math.max(0, this._index + count), 1);\n  }\n\n  hasNext(): boolean {\n    return this._index === 0;\n  }\n\n  nextIndex(): number {\n    return this._index;\n  }\n\n  next(): {value?: T, done: boolean} {\n    if (this._index === 0) {\n      this._index = 1;\n      return {value: this._value, done: true};\n    } else {\n      return {done: true};\n    }\n  }\n\n  hasPrevious(): boolean {\n    return this._index === 1;\n  }\n\n  previousIndex(): number {\n    return this._index - 1;\n  }\n\n  previous(): {value?: T, done: boolean} {\n    if (this._index === 1) {\n      this._index = 0;\n      return {value: this._value, done: true};\n    } else {\n      return {done: true};\n    }\n  }\n}\nCursor.Unary = CursorUnary;\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Cursor} from \"./Cursor\";\n\n/** @hidden */\nexport class CursorArray<T> extends Cursor<T> {\n  private readonly _array: ReadonlyArray<T>;\n  private _index: number;\n  private _limit: number;\n\n  constructor(array: ReadonlyArray<T>, index: number, limit: number) {\n    super();\n    this._array = array;\n    this._index = index;\n    this._limit = limit;\n  }\n\n  isEmpty(): boolean {\n    return this._index >= this._limit;\n  }\n\n  head(): T {\n    if (this._index < this._limit) {\n      return this._array[this._index];\n    } else {\n      throw new Error(\"empty\");\n    }\n  }\n\n  step(): void {\n    if (this._index < this._limit) {\n      this._index = 1;\n    } else {\n      throw new Error(\"empty\");\n    }\n  }\n\n  skip(count: number): void {\n    this._index = Math.min(this._index + count, this._limit);\n  }\n\n  hasNext(): boolean {\n    return this._index < this._limit;\n  }\n\n  nextIndex(): number {\n    return this._index;\n  }\n\n  next(): {value?: T, done: boolean} {\n    const index = this._index;\n    if (index < this._limit) {\n      this._index = index + 1;\n      return {value: this._array[index], done: this._index === this._limit};\n    } else {\n      this._index = this._limit;\n      return {done: true};\n    }\n  }\n\n  hasPrevious(): boolean {\n    return this._index > 0;\n  }\n\n  previousIndex(): number {\n    return this._index - 1;\n  }\n\n  previous(): {value?: T, done: boolean} {\n    const index = this._index - 1;\n    if (index >= 0) {\n      this._index = index;\n      return {value: this._array[index], done: index === 0};\n    } else {\n      this._index = 0;\n      return {done: true};\n    }\n  }\n}\nCursor.Array = CursorArray;\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * Exception thrown when an [[Assert]] fails.\n */\nexport class AssertException extends Error {\n  constructor(message?: string) {\n    super(message);\n    (this as any).__proto__ = AssertException.prototype;\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Objects} from \"./Objects\";\nimport {AssertException} from \"./AssertException\";\n\n/**\n * Type that implements common assertion functions.\n */\nexport interface Assert {\n  /**\n   * Asserts that `condition` is truthy.\n   *\n   * @throws [[AssertException]] with `message` if `condition` is falsy.\n   */\n  ok(condition: unknown, message?: string): void;\n\n  /**\n   * Asserts that `condition` is falsy.\n   *\n   * @throws [[AssertException]] with `message` if `condition` is truthy.\n   */\n  notOk(condition: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` is [[Objects.equal structurally equal]] to `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` is not structurally equal to `rhs`.\n   */\n  equal(lhs: unknown, rhs: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` is not [[Objects.equal structurally equal]] to `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` is structurally equal to `rhs`.\n   */\n  notEqual(lhs: unknown, rhs: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` is identical (`===`) to `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` is not identical (`!==`) to `rhs`.\n   */\n  identity(lhs: unknown, rhs: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` is not identical (`!==`) to `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` is identical (`===`) to `rhs`.\n   */\n  notIdentity(lhs: unknown, rhs: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` [[Objects.compare structurally orders before]] `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` does not structurally order before `rhs`.\n   */\n  compareLessThan(lhs: unknown, rhs: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` does not [[Objects.compare structurally order before]] `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` does structurally order before `rhs`.\n   */\n  compareNotLessThan(lhs: unknown, rhs: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` [[Objects.compare structurally orders before or the same as]] `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` does not structurally order before or the same as `rhs`.\n   */\n  compareLessThanOrEqual(lhs: unknown, rhs: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` does not [[Objects.compare structurally order before or the same as]] `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` does structurally order before or the same as `rhs`.\n   */\n  compareNotLessThanOrEqual(lhs: unknown, rhs: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` [[Objects.compare structurally orders the same as]] `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` does not structurally order before or the same as `rhs`.\n   */\n  compareEqual(lhs: unknown, rhs: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` does not [[Objects.compare structurally order the same as]] `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` does structurally order before or the same as `rhs`.\n   */\n  compareNotEqual(lhs: unknown, rhs: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` [[Objects.compare structurally orders after or the same as]] `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` does not structurally order after or the same as `rhs`.\n   */\n  compareGreaterThanOrEqual(lhs: unknown, rhs: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` does not [[Objects.compare structurally order after or the same as]] `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` does structurally order after or the same as `rhs`.\n   */\n  compareNotGreaterThanOrEqual(lhs: unknown, rhs: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` [[Objects.compare structurally orders after]] `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` does not structurally order after `rhs`.\n   */\n  compareGreaterThan(lhs: unknown, rhs: unknown, message?: string): void;\n\n  /**\n   * Asserts that `lhs` does not [[Objects.compare structurally order after]] `rhs`.\n   *\n   * @throws [[AssertException]] with `message` if `lhs` does structurally order after `rhs`.\n   */\n  compareNotGreaterThan(lhs: unknown, rhs: unknown, message?: string): void;\n}\n\n/**\n * General `Assert` implementation.  When called as a function, asserts that\n * `condition` is truthy.\n *\n * @throws [[AssertException]] with `message` if `condition` is falsy.\n */\nexport const assert = function (condition: unknown, message?: string): void {\n  if (!condition) {\n    throw new AssertException(message);\n  }\n} as Assert & ((condition: unknown, message?: string) => void);\n\nassert.ok = function (condition: unknown, message?: string): void {\n  if (!condition) {\n    throw new AssertException(message);\n  }\n};\n\nassert.notOk = function (condition: unknown, message?: string): void {\n  if (condition) {\n    throw new AssertException(message);\n  }\n};\n\nassert.equal = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (!Objects.equal(lhs, rhs)) {\n    throw new AssertException(message);\n  }\n};\n\nassert.notEqual = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (Objects.equal(lhs, rhs)) {\n    throw new AssertException(message);\n  }\n};\n\nassert.identity = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (lhs !== rhs) {\n    throw new AssertException(message);\n  }\n};\n\nassert.notIdentity = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (lhs === rhs) {\n    throw new AssertException(message);\n  }\n};\n\nassert.compareLessThan = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (!(Objects.compare(lhs, rhs) < 0)) {\n    throw new AssertException(message);\n  }\n};\n\nassert.compareNotLessThan = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (Objects.compare(lhs, rhs) < 0) {\n    throw new AssertException(message);\n  }\n};\n\nassert.compareLessThanOrEqual = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (!(Objects.compare(lhs, rhs) <= 0)) {\n    throw new AssertException(message);\n  }\n};\n\nassert.compareNotLessThanOrEqual = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (Objects.compare(lhs, rhs) <= 0) {\n    throw new AssertException(message);\n  }\n};\n\nassert.compareEqual = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (!(Objects.compare(lhs, rhs) === 0)) {\n    throw new AssertException(message);\n  }\n};\n\nassert.compareNotEqual = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (Objects.compare(lhs, rhs) === 0) {\n    throw new AssertException(message);\n  }\n};\n\nassert.compareGreaterThanOrEqual = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (!(Objects.compare(lhs, rhs) >= 0)) {\n    throw new AssertException(message);\n  }\n};\n\nassert.compareNotGreaterThanOrEqual = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (Objects.compare(lhs, rhs) >= 0) {\n    throw new AssertException(message);\n  }\n};\n\nassert.compareGreaterThan = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (!(Objects.compare(lhs, rhs) > 0)) {\n    throw new AssertException(message);\n  }\n};\n\nassert.compareNotGreaterThan = function (lhs: unknown, rhs: unknown, message?: string): void {\n  if (Objects.compare(lhs, rhs) > 0) {\n    throw new AssertException(message);\n  }\n};\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Comparable} from \"./Comparable\";\nimport {HashCode} from \"./HashCode\";\nimport {Murmur3} from \"./Murmur3\";\n\n/**\n * Level of importance.  Used for log levels and diagnostic classifications.\n */\nexport class Severity implements Comparable<Severity>, HashCode {\n  /** @hidden */\n  readonly _level: number;\n  /** @hidden */\n  readonly _label: string;\n\n  private constructor(level: number, label: string) {\n    this._level = level;\n    this._label = label;\n  }\n\n  /**\n   * Returns the integer level of importance of this `Severity`, with higher\n   * levels signifying greater importance.\n   *\n   * @return an integer between `0` and `7`, inclusive.  One of `TRACE_LEVEL`,\n   *         `DEBUG_LEVEL`, `INFO_LEVEL`, `NOTE_LEVEL`, `WARNING_LEVEL`,\n   *         `ERROR_LEVEL`, `ALERT_LEVEL`, `FATAL_LEVEL`.\n   */\n  level(): number {\n    return this._level;\n  }\n\n  /**\n   * Returns a descriptive label for this `Severity`.\n   */\n  label(): string;\n\n  /**\n   * Returns a new `Severity` with the same level as this `Severity`, but with\n   * a new descriptive `label`.\n   */\n  label(label: string): Severity;\n\n  label(label?: string): string | Severity {\n    if (label === void 0) {\n      return this._label;\n    } else {\n      return Severity.create(this._level, label);\n    }\n  }\n\n  /**\n   * Returns `true` if this `Severity` has `TRACE_LEVEL` of importance.\n   */\n  isTrace(): boolean {\n    return this._level === Severity.TRACE_LEVEL;\n  }\n\n  /**\n   * Returns `true` if this `Severity` has `DEBUG_LEVEL` of importance.\n   */\n  isDebug(): boolean {\n    return this._level === Severity.DEBUG_LEVEL;\n  }\n\n  /**\n   * Returns `true` if this `Severity` has `INFO_LEVEL` of importance.\n   */\n  isInfo(): boolean {\n    return this._level === Severity.INFO_LEVEL;\n  }\n\n  /**\n   * Returns `true` if this `Severity` has `NOTE_LEVEL` of importance.\n   */\n  isNote(): boolean {\n    return this._level === Severity.NOTE_LEVEL;\n  }\n\n  /**\n   * Returns `true` if this `Severity` has `WARNING_LEVEL` of importance.\n   */\n  isWarning(): boolean {\n    return this._level === Severity.WARNING_LEVEL;\n  }\n\n  /**\n   * Returns `true` if this `Severity` has `ERROR_LEVEL` of importance.\n   */\n  isError(): boolean {\n    return this._level === Severity.ERROR_LEVEL;\n  }\n\n  /**\n   * Returns `true` if this `Severity` has `ALERT_LEVEL` of importance.\n   */\n  isAlert(): boolean {\n    return this._level === Severity.ALERT_LEVEL;\n  }\n\n  /**\n   * Returns `true` if this `Severity` has `FATAL_LEVEL` of importance.\n   */\n  isFatal(): boolean {\n    return this._level === Severity.FATAL_LEVEL;\n  }\n\n  compareTo(that: Severity): number {\n    if (this === that) {\n      return 0;\n    } else if (this._level < that._level) {\n      return -1;\n    } else if (this._level > that._level) {\n      return 1;\n    } else {\n      return this._label.localeCompare(that._label);\n    }\n  }\n\n  equals(that: unknown): boolean {\n    if (this === that) {\n      return true;\n    } else if (that instanceof Severity) {\n      return this._level === that._level && this._label === that._label;\n    }\n    return false;\n  }\n\n  hashCode(): number {\n    if (Severity._hashSeed === void 0) {\n      Severity._hashSeed = Murmur3.seed(Severity);\n    }\n    return Murmur3.mash(Murmur3.mix(Murmur3.mix(Severity._hashSeed,\n        this._level), Murmur3.hash(this._label)));\n  }\n\n  toString(): string {\n    return this._label;\n  }\n\n  static readonly TRACE_LEVEL: number = 0;\n  static readonly DEBUG_LEVEL: number = 1;\n  static readonly INFO_LEVEL: number = 2;\n  static readonly NOTE_LEVEL: number = 3;\n  static readonly WARNING_LEVEL: number = 4;\n  static readonly ERROR_LEVEL: number = 5;\n  static readonly ALERT_LEVEL: number = 6;\n  static readonly FATAL_LEVEL: number = 7;\n\n  private static _hashSeed?: number;\n  private static _trace?: Severity;\n  private static _debug?: Severity;\n  private static _info?: Severity;\n  private static _note?: Severity;\n  private static _warning?: Severity;\n  private static _error?: Severity;\n  private static _alert?: Severity;\n  private static _fatal?: Severity;\n\n  /**\n   * Returns a `Severity` with the given importance `level`, and optional\n   * descriptive `label`.\n   *\n   * @throws `Error` if `level` is not a valid level of importance.\n   */\n  static create(level: number, label?: string): Severity {\n    switch (level) {\n      case Severity.TRACE_LEVEL: return Severity.trace(label);\n      case Severity.DEBUG_LEVEL: return Severity.debug(label);\n      case Severity.INFO_LEVEL: return Severity.info(label);\n      case Severity.NOTE_LEVEL: return Severity.note(label);\n      case Severity.WARNING_LEVEL: return Severity.warning(label);\n      case Severity.ERROR_LEVEL: return Severity.error(label);\n      case Severity.ALERT_LEVEL: return Severity.alert(label);\n      case Severity.FATAL_LEVEL: return Severity.fatal(label);\n      default: throw new Error(\"\" + level);\n    }\n  }\n\n  /**\n   * Returns a `Severity` with `TRACE_LEVEL` of importance, and an optional\n   * descriptive `label`.\n   */\n  static trace(label: string = \"trace\"): Severity {\n    if (label === \"trace\") {\n      if (!Severity._trace) {\n        Severity._trace = new Severity(Severity.TRACE_LEVEL, label);\n      }\n      return Severity._trace;\n    } else {\n      return new Severity(Severity.TRACE_LEVEL, label);\n    }\n  }\n\n  /**\n   * Returns a `Severity` with `DEBUG_LEVEL` of importance, and an optional\n   * descriptive `label`.\n   */\n  static debug(label: string = \"debug\"): Severity {\n    if (label === \"debug\") {\n      if (!Severity._debug) {\n        Severity._debug = new Severity(Severity.DEBUG_LEVEL, label);\n      }\n      return Severity._debug;\n    } else {\n      return new Severity(Severity.DEBUG_LEVEL, label);\n    }\n  }\n\n  /**\n   * Returns a `Severity` with `INFO_LEVEL` of importance, and an optional\n   * descriptive `label`.\n   */\n  static info(label: string = \"info\"): Severity {\n    if (label === \"info\") {\n      if (!Severity._info) {\n        Severity._info = new Severity(Severity.INFO_LEVEL, label);\n      }\n      return Severity._info;\n    } else {\n      return new Severity(Severity.INFO_LEVEL, label);\n    }\n  }\n\n  /**\n   * Returns a `Severity` with `NOTE_LEVEL` of importance, and an optional\n   * descriptive `label`.\n   */\n  static note(label: string = \"note\"): Severity {\n    if (label === \"note\") {\n      if (!Severity._note) {\n        Severity._note = new Severity(Severity.NOTE_LEVEL, label);\n      }\n      return Severity._note;\n    } else {\n      return new Severity(Severity.NOTE_LEVEL, label);\n    }\n  }\n\n  /**\n   * Returns a `Severity` with `WARNING_LEVEL` of importance, and an optional\n   * descriptive `label`.\n   */\n  static warning(label: string = \"warning\"): Severity {\n    if (label === \"warning\") {\n      if (!Severity._warning) {\n        Severity._warning = new Severity(Severity.WARNING_LEVEL, label);\n      }\n      return Severity._warning;\n    } else {\n      return new Severity(Severity.WARNING_LEVEL, label);\n    }\n  }\n\n  /**\n   * Returns a `Severity` with `ERROR_LEVEL` of importance, and an optional\n   * descriptive `label`.\n   */\n  static error(label: string = \"error\"): Severity {\n    if (label === \"error\") {\n      if (!Severity._error) {\n        Severity._error = new Severity(Severity.ERROR_LEVEL, label);\n      }\n      return Severity._error;\n    } else {\n      return new Severity(Severity.ERROR_LEVEL, label);\n    }\n  }\n\n  /**\n   * Returns a `Severity` with `ALERT_LEVEL` of importance, and an optional\n   * descriptive `label`.\n   */\n  static alert(label: string = \"alert\"): Severity {\n    if (label === \"alert\") {\n      if (!Severity._alert) {\n        Severity._alert = new Severity(Severity.ALERT_LEVEL, label);\n      }\n      return Severity._alert;\n    } else {\n      return new Severity(Severity.ALERT_LEVEL, label);\n    }\n  }\n\n  /**\n   * Returns a `Severity` with `FATAL_LEVEL` of importance, and an optional\n   * descriptive `label`.\n   */\n  static fatal(label: string = \"fatal\"): Severity {\n    if (label === \"fatal\") {\n      if (!Severity._fatal) {\n        Severity._fatal = new Severity(Severity.FATAL_LEVEL, label);\n      }\n      return Severity._fatal;\n    } else {\n      return new Severity(Severity.FATAL_LEVEL, label);\n    }\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Objects} from \"./Objects\";\n\n/**\n * A hashed generational cache map discards the least recently used value\n * with the worst hit rate per hash bucket.  HashGenCacheMap is a concurrent\n * and lock-free LRFU cache, with O(1) access time.\n *\n * Maintaining four \"generations\" of cached values per hash bucket, the cache\n * discards from the younger generations based on least recent usage, and\n * promotes younger generations to older generations based on most frequent\n * usage.  Cache misses count as negative usage of the older generations,\n * biasing the cache against least recently used values with poor hit rates.\n */\nexport class HashGenCacheMap<K, V> {\n  /** @hidden */\n  readonly _buckets: Array<HashGenCacheMapBucket<K, V> | undefined>;\n  /** @hidden */\n  _gen4Hits: number;\n  /** @hidden */\n  _gen3Hits: number;\n  /** @hidden */\n  _gen2Hits: number;\n  /** @hidden */\n  _gen1Hits: number;\n  /** @hidden */\n  _misses: number;\n\n  constructor(size: number) {\n    this._buckets = new Array(size);\n    this._gen4Hits = 0;\n    this._gen3Hits = 0;\n    this._gen2Hits = 0;\n    this._gen1Hits = 0;\n    this._misses = 0;\n  }\n\n  get(key: K): V | undefined {\n    if (this._buckets.length === 0) {\n      return void 0;\n    }\n    const index = Math.abs(Objects.hash(key)) % this._buckets.length;\n    const bucket = this._buckets[index];\n    if (!bucket) {\n      return void 0;\n    }\n\n    const gen4Key = bucket._gen4Key;\n    if (gen4Key !== void 0 && Objects.equal(key, gen4Key)) {\n      const gen4Val = bucket._gen4Val;\n      if (gen4Val !== void 0) {\n        this._gen4Hits += 1;\n        bucket._gen4Weight++;\n        return gen4Val;\n      } else {\n        bucket._gen4Key = void 0;\n      }\n    }\n\n    const gen3Key = bucket._gen3Key;\n    if (gen3Key !== void 0 && Objects.equal(key, gen3Key)) {\n      const gen3Val = bucket._gen3Val;\n      if (gen3Val !== void 0) {\n        this._gen3Hits += 1;\n        if (bucket._gen3Weight++ > bucket._gen4Weight) {\n          this._buckets[index] = new HashGenCacheMapBucket(\n              bucket._gen3Key, bucket._gen3Val, bucket._gen3Weight,\n              bucket._gen4Key, bucket._gen4Val, bucket._gen4Weight,\n              bucket._gen2Key, bucket._gen2Val, bucket._gen2Weight,\n              bucket._gen1Key, bucket._gen1Val, bucket._gen1Weight);\n        }\n        return gen3Val;\n      } else {\n        bucket._gen3Key = void 0;\n      }\n    }\n\n    const gen2Key = bucket._gen2Key;\n    if (gen2Key !== void 0 && Objects.equal(key, gen2Key)) {\n      const gen2Val = bucket._gen2Val;\n      if (gen2Val !== void 0) {\n        this._gen2Hits += 1;\n        if (bucket._gen2Weight++ > bucket._gen3Weight) {\n          this._buckets[index] = new HashGenCacheMapBucket(\n              bucket._gen4Key, bucket._gen4Val, bucket._gen4Weight,\n              bucket._gen2Key, bucket._gen2Val, bucket._gen2Weight,\n              bucket._gen3Key, bucket._gen3Val, bucket._gen3Weight,\n              bucket._gen1Key, bucket._gen1Val, bucket._gen1Weight);\n        }\n        return gen2Val;\n      } else {\n        bucket._gen2Key = void 0;\n      }\n    }\n\n    const gen1Key = bucket._gen1Key;\n    if (gen1Key !== void 0 && Objects.equal(key, gen1Key)) {\n      const gen1Val = bucket._gen1Val;\n      if (gen1Val !== void 0) {\n        this._gen1Hits += 1;\n        if (bucket._gen1Weight++ > bucket._gen2Weight) {\n          this._buckets[index] = new HashGenCacheMapBucket(\n              bucket._gen4Key, bucket._gen4Val, bucket._gen4Weight,\n              bucket._gen3Key, bucket._gen3Val, bucket._gen3Weight,\n              bucket._gen1Key, bucket._gen1Val, bucket._gen1Weight,\n              bucket._gen2Key, bucket._gen2Val, bucket._gen2Weight);\n        }\n        return gen1Val;\n      } else {\n        bucket._gen1Key = void 0;\n      }\n    }\n\n    this._misses += 1;\n    return void 0;\n  }\n\n  put(key: K, value: V): V {\n    if (this._buckets.length === 0) {\n      return value;\n    }\n    const index = Math.abs(Objects.hash(key)) % this._buckets.length;\n    const bucket = this._buckets[index] || new HashGenCacheMapBucket();\n\n    let gen4Key = bucket._gen4Key;\n    if (gen4Key !== void 0 && Objects.equal(key, gen4Key)) {\n      const gen4Val = bucket._gen4Val;\n      if (gen4Val !== void 0) {\n        this._gen4Hits += 1;\n        bucket._gen4Weight++;\n        return gen4Val;\n      } else {\n        bucket._gen4Key = void 0;\n        gen4Key = void 0;\n      }\n    }\n\n    let gen3Key = bucket._gen3Key;\n    if (gen3Key !== void 0 && Objects.equal(key, gen3Key)) {\n      const gen3Val = bucket._gen3Val;\n      if (gen3Val !== void 0) {\n        this._gen3Hits += 1;\n        if (bucket._gen3Weight++ > bucket._gen4Weight) {\n          this._buckets[index] = new HashGenCacheMapBucket(\n              bucket._gen3Key, bucket._gen3Val, bucket._gen3Weight,\n              bucket._gen4Key, bucket._gen4Val, bucket._gen4Weight,\n              bucket._gen2Key, bucket._gen2Val, bucket._gen2Weight,\n              bucket._gen1Key, bucket._gen1Val, bucket._gen1Weight);\n        }\n        return gen3Val;\n      } else {\n        bucket._gen3Key = void 0;\n        gen3Key = void 0;\n      }\n    }\n\n    let gen2Key = bucket._gen2Key;\n    if (gen2Key !== void 0 && Objects.equal(key, gen2Key)) {\n      const gen2Val = bucket._gen2Val;\n      if (gen2Val !== void 0) {\n        this._gen2Hits += 1;\n        if (bucket._gen2Weight++ > bucket._gen3Weight) {\n          this._buckets[index] = new HashGenCacheMapBucket(\n              bucket._gen4Key, bucket._gen4Val, bucket._gen4Weight,\n              bucket._gen2Key, bucket._gen2Val, bucket._gen2Weight,\n              bucket._gen3Key, bucket._gen3Val, bucket._gen3Weight,\n              bucket._gen1Key, bucket._gen1Val, bucket._gen1Weight);\n        }\n        return gen2Val;\n      } else {\n        bucket._gen2Key = void 0;\n        gen2Key = void 0;\n      }\n    }\n\n    let gen1Key = bucket._gen1Key;\n    if (gen1Key !== void 0 && Objects.equal(key, gen1Key)) {\n      const gen1Val = bucket._gen1Val;\n      if (gen1Val !== void 0) {\n        this._gen1Hits += 1;\n        if (bucket._gen1Weight++ > bucket._gen2Weight) {\n          this._buckets[index] = new HashGenCacheMapBucket(\n              bucket._gen4Key, bucket._gen4Val, bucket._gen4Weight,\n              bucket._gen3Key, bucket._gen3Val, bucket._gen3Weight,\n              bucket._gen1Key, bucket._gen1Val, bucket._gen1Weight,\n              bucket._gen2Key, bucket._gen2Val, bucket._gen2Weight);\n        }\n        return gen1Val;\n      } else {\n        bucket._gen1Key = void 0;\n        gen1Key = void 0;\n      }\n    }\n\n    this._misses += 1;\n    if (gen4Key === void 0) {\n      this._buckets[index] = new HashGenCacheMapBucket(\n          bucket._gen3Key, bucket._gen3Val, bucket._gen3Weight,\n          bucket._gen2Key, bucket._gen2Val, bucket._gen2Weight,\n          bucket._gen1Key, bucket._gen1Val, bucket._gen1Weight,\n          key, value, 1);\n    } else if (gen3Key === void 0) {\n      this._buckets[index] = new HashGenCacheMapBucket(\n          bucket._gen4Key, bucket._gen4Val, bucket._gen4Weight,\n          bucket._gen2Key, bucket._gen2Val, bucket._gen2Weight,\n          bucket._gen1Key, bucket._gen1Val, bucket._gen1Weight,\n          key, value, 1);\n    } else if (gen2Key === void 0) {\n      this._buckets[index] = new HashGenCacheMapBucket(\n          bucket._gen4Key, bucket._gen4Val, bucket._gen4Weight,\n          bucket._gen3Key, bucket._gen3Val, bucket._gen3Weight,\n          bucket._gen1Key, bucket._gen1Val, bucket._gen1Weight,\n          key, value, 1);\n    } else if (gen1Key === void 0) {\n      this._buckets[index] = new HashGenCacheMapBucket(\n          bucket._gen4Key, bucket._gen4Val, bucket._gen4Weight,\n          bucket._gen3Key, bucket._gen3Val, bucket._gen3Weight,\n          bucket._gen2Key, bucket._gen2Val, bucket._gen2Weight,\n          key, value, 1);\n    } else {\n      // Penalize older gens for thrash. Promote gen1 to prevent nacent gens\n      // from flip-flopping. If sacrificed gen2 was worth keeping, it likely\n      // would have already been promoted.\n      this._buckets[index] = new HashGenCacheMapBucket(\n          bucket._gen4Key, bucket._gen4Val, bucket._gen4Weight - 1,\n          bucket._gen3Key, bucket._gen3Val, bucket._gen3Weight - 1,\n          bucket._gen1Key, bucket._gen1Val, bucket._gen1Weight,\n          key, value, 1);\n    }\n\n    return value;\n  }\n\n  remove(key: K): V | undefined {\n    if (this._buckets.length === 0) {\n      return void 0;\n    }\n    const index = Math.abs(Objects.hash(key)) % this._buckets.length;\n    const bucket = this._buckets[index];\n    if (!bucket) {\n      return void 0;\n    }\n\n    const gen4Key = bucket._gen4Key;\n    if (gen4Key !== void 0 && Objects.equal(key, gen4Key)) {\n      const gen4Val = bucket._gen4Val;\n      this._buckets[index] = new HashGenCacheMapBucket(\n          bucket._gen3Key, bucket._gen3Val, bucket._gen3Weight,\n          bucket._gen2Key, bucket._gen2Val, bucket._gen2Weight,\n          bucket._gen1Key, bucket._gen1Val, bucket._gen1Weight,\n          void 0, void 0, 0);\n      return gen4Val;\n    }\n\n    const gen3Key = bucket._gen3Key;\n    if (gen3Key !== void 0 && Objects.equal(key, gen3Key)) {\n      const gen3Val = bucket._gen3Val;\n      this._buckets[index] = new HashGenCacheMapBucket(\n          bucket._gen4Key, bucket._gen4Val, bucket._gen4Weight,\n          bucket._gen2Key, bucket._gen2Val, bucket._gen2Weight,\n          bucket._gen1Key, bucket._gen1Val, bucket._gen1Weight,\n          void 0, void 0, 0);\n      return gen3Val;\n    }\n\n    const gen2Key = bucket._gen2Key;\n    if (gen2Key !== void 0 && Objects.equal(key, gen2Key)) {\n      const gen2Val = bucket._gen2Val;\n      this._buckets[index] = new HashGenCacheMapBucket(\n          bucket._gen4Key, bucket._gen4Val, bucket._gen4Weight,\n          bucket._gen3Key, bucket._gen3Val, bucket._gen3Weight,\n          bucket._gen1Key, bucket._gen1Val, bucket._gen1Weight,\n          void 0, void 0, 0);\n      return gen2Val;\n    }\n\n    const gen1Key = bucket._gen1Key;\n    if (gen1Key !== void 0 && Objects.equal(key, gen1Key)) {\n      const gen1Val = bucket._gen1Val;\n      this._buckets[index] = new HashGenCacheMapBucket(\n          bucket._gen4Key, bucket._gen4Val, bucket._gen4Weight,\n          bucket._gen3Key, bucket._gen3Val, bucket._gen3Weight,\n          bucket._gen2Key, bucket._gen2Val, bucket._gen2Weight,\n          void 0, void 0, 0);\n      return gen1Val;\n    }\n\n    return void 0;\n  }\n\n  clear(): void {\n    for (let i = 0; i < this._buckets.length; i += 1) {\n      this._buckets[i] = void 0;\n    }\n  }\n\n  /** @hidden */\n  hits(): number {\n    return this._gen4Hits + this._gen3Hits + this._gen2Hits + this._gen1Hits;\n  }\n\n  hitRatio(): number {\n    const hits = this.hits();\n    return hits / (hits + this._misses);\n  }\n}\n\n/** @hidden */\nexport class HashGenCacheMapBucket<K, V> {\n  /** @hidden */\n  _gen4Key: K | undefined;\n  /** @hidden */\n  _gen4Val: V | undefined;\n  /** @hidden */\n  _gen4Weight: number;\n  /** @hidden */\n  _gen3Key: K | undefined;\n  /** @hidden */\n  _gen3Val: V | undefined;\n  /** @hidden */\n  _gen3Weight: number;\n  /** @hidden */\n  _gen2Key: K | undefined;\n  /** @hidden */\n  _gen2Val: V | undefined;\n  /** @hidden */\n  _gen2Weight: number;\n  /** @hidden */\n  _gen1Key: K | undefined;\n  /** @hidden */\n  _gen1Val: V | undefined;\n  /** @hidden */\n  _gen1Weight: number;\n\n  constructor(gen4Key?: K, gen4Val?: V, gen4Weight: number = 0,\n              gen3Key?: K, gen3Val?: V, gen3Weight: number = 0,\n              gen2Key?: K, gen2Val?: V, gen2Weight: number = 0,\n              gen1Key?: K, gen1Val?: V, gen1Weight: number = 0) {\n    this._gen4Key = gen4Key;\n    this._gen4Val = gen4Val;\n    this._gen4Weight = gen4Weight;\n    this._gen3Key = gen3Key;\n    this._gen3Val = gen3Val;\n    this._gen3Weight = gen3Weight;\n    this._gen2Key = gen2Key;\n    this._gen2Val = gen2Val;\n    this._gen2Weight = gen2Weight;\n    this._gen1Key = gen1Key;\n    this._gen1Val = gen1Val;\n    this._gen1Weight = gen1Weight;\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Objects} from \"./Objects\";\n\n/**\n * A hashed generational cache set discards the least recently used value\n * with the worst hit rate per hash bucket.  HashGenCacheSet is a concurrent\n * and lock-free LRFU cache, with O(1) access time.\n *\n * Maintaining four \"generations\" of cached values per hash bucket, the cache\n * discards from the younger generations based on least recent usage, and\n * promotes younger generations to older generations based on most frequent\n * usage.  Cache misses count as negative usage of the older generations,\n * biasing the cache against least recently used values with poor hit rates.\n *\n * The cache soft references the older generations, and weak references the\n * younger generations; the garbage collector can reclaim the entire cache,\n * but will preferentially wipe the younger cache generations before the older\n * cache generations.\n */\nexport class HashGenCacheSet<T> {\n  readonly _buckets: Array<HashGenCacheSetBucket<T> | undefined>;\n  _gen4Hits: number;\n  _gen3Hits: number;\n  _gen2Hits: number;\n  _gen1Hits: number;\n  _misses: number;\n\n  constructor(size: number) {\n    this._buckets = new Array(size);\n    this._gen4Hits = 0;\n    this._gen3Hits = 0;\n    this._gen2Hits = 0;\n    this._gen1Hits = 0;\n    this._misses = 0;\n  }\n\n  put(value: T): T {\n    if (this._buckets.length === 0) {\n      return value;\n    }\n    const index = Math.abs(Objects.hash(value)) % this._buckets.length;\n    const bucket = this._buckets[index] || new HashGenCacheSetBucket<T>();\n\n    const gen4Val = bucket._gen4Val;\n    if (gen4Val !== void 0 && Objects.equal(value, gen4Val)) {\n      this._gen4Hits += 1;\n      bucket._gen4Weight++;\n      return gen4Val;\n    }\n\n    const gen3Val = bucket._gen3Val;\n    if (gen3Val !== void 0 && Objects.equal(value, gen3Val)) {\n      this._gen3Hits += 1;\n      if (bucket._gen3Weight++ > bucket._gen4Weight) {\n        this._buckets[index] = new HashGenCacheSetBucket<T>(\n            bucket._gen3Val, bucket._gen3Weight,\n            bucket._gen4Val, bucket._gen4Weight,\n            bucket._gen2Val, bucket._gen2Weight,\n            bucket._gen1Val, bucket._gen1Weight);\n      }\n      return gen3Val;\n    }\n\n    const gen2Val = bucket._gen2Val;\n    if (gen2Val !== void 0 && Objects.equal(value, gen2Val)) {\n      this._gen2Hits += 1;\n      if (bucket._gen2Weight++ > bucket._gen3Weight) {\n        this._buckets[index] = new HashGenCacheSetBucket<T>(\n            bucket._gen4Val, bucket._gen4Weight,\n            bucket._gen2Val, bucket._gen2Weight,\n            bucket._gen3Val, bucket._gen3Weight,\n            bucket._gen1Val, bucket._gen1Weight);\n      }\n      return gen2Val;\n    }\n\n    const gen1Val = bucket._gen1Val;\n    if (gen1Val !== void 0 && Objects.equal(value, gen1Val)) {\n      this._gen1Hits += 1;\n      if (bucket._gen1Weight++ > bucket._gen2Weight) {\n        this._buckets[index] = new HashGenCacheSetBucket<T>(\n            bucket._gen4Val, bucket._gen4Weight,\n            bucket._gen3Val, bucket._gen3Weight,\n            bucket._gen1Val, bucket._gen1Weight,\n            bucket._gen2Val, bucket._gen2Weight);\n      }\n      return gen1Val;\n    }\n\n    this._misses += 1;\n    if (gen4Val === void 0) {\n      this._buckets[index] = new HashGenCacheSetBucket<T>(\n          bucket._gen3Val, bucket._gen3Weight,\n          bucket._gen2Val, bucket._gen2Weight,\n          bucket._gen1Val, bucket._gen1Weight,\n          value, 1);\n    } else if (gen3Val === void 0) {\n      this._buckets[index] = new HashGenCacheSetBucket<T>(\n          bucket._gen4Val, bucket._gen4Weight,\n          bucket._gen2Val, bucket._gen2Weight,\n          bucket._gen1Val, bucket._gen1Weight,\n          value, 1);\n    } else if (gen2Val === void 0) {\n      this._buckets[index] = new HashGenCacheSetBucket<T>(\n          bucket._gen4Val, bucket._gen4Weight,\n          bucket._gen3Val, bucket._gen3Weight,\n          bucket._gen1Val, bucket._gen1Weight,\n          value, 1);\n    } else if (gen1Val === void 0) {\n      this._buckets[index] = new HashGenCacheSetBucket<T>(\n          bucket._gen4Val, bucket._gen4Weight,\n          bucket._gen3Val, bucket._gen3Weight,\n          bucket._gen2Val, bucket._gen2Weight,\n          value, 1);\n    } else {\n      // Penalize older gens for thrash. Promote gen1 to prevent nacent gens\n      // from flip-flopping. If sacrificed gen2 was worth keeping, it likely\n      // would have already been promoted.\n      this._buckets[index] = new HashGenCacheSetBucket<T>(\n          bucket._gen4Val, bucket._gen4Weight - 1,\n          bucket._gen3Val, bucket._gen3Weight - 1,\n          bucket._gen1Val, bucket._gen1Weight,\n          value, 1);\n    }\n\n    return value;\n  }\n\n  remove(value: T): boolean {\n    if (this._buckets.length === 0) {\n      return false;\n    }\n    const index = Math.abs(Objects.hash(value)) % this._buckets.length;\n    const bucket = this._buckets[index];\n    if (!bucket) {\n      return false;\n    }\n\n    const gen4Val = bucket._gen4Val;\n    if (gen4Val !== void 0 && Objects.equal(value, gen4Val)) {\n      this._buckets[index] = new HashGenCacheSetBucket<T>(\n          bucket._gen3Val, bucket._gen3Weight,\n          bucket._gen2Val, bucket._gen2Weight,\n          bucket._gen1Val, bucket._gen1Weight,\n          void 0, 0);\n      return true;\n    }\n\n    const gen3Val = bucket._gen3Val;\n    if (gen3Val !== void 0 && Objects.equal(value, gen3Val)) {\n      this._buckets[index] = new HashGenCacheSetBucket<T>(\n          bucket._gen4Val, bucket._gen4Weight,\n          bucket._gen2Val, bucket._gen2Weight,\n          bucket._gen1Val, bucket._gen1Weight,\n          void 0, 0);\n      return true;\n    }\n\n    const gen2Val = bucket._gen2Val;\n    if (gen2Val !== void 0 && Objects.equal(value, gen2Val)) {\n      this._buckets[index] = new HashGenCacheSetBucket<T>(\n          bucket._gen4Val, bucket._gen4Weight,\n          bucket._gen3Val, bucket._gen3Weight,\n          bucket._gen1Val, bucket._gen1Weight,\n          void 0, 0);\n      return true;\n    }\n\n    const gen1Val = bucket._gen1Val;\n    if (gen1Val !== void 0 && Objects.equal(value, gen1Val)) {\n      this._buckets[index] = new HashGenCacheSetBucket<T>(\n          bucket._gen4Val, bucket._gen4Weight,\n          bucket._gen3Val, bucket._gen3Weight,\n          bucket._gen2Val, bucket._gen2Weight,\n          void 0, 0);\n      return true;\n    }\n\n    return false;\n  }\n\n  clear(): void {\n    for (let i = 0; i < this._buckets.length; i += 1) {\n      this._buckets[i] = void 0;\n    }\n  }\n\n  /** @hidden */\n  hits(): number {\n    return this._gen4Hits + this._gen3Hits + this._gen2Hits + this._gen1Hits;\n  }\n\n  hitRatio(): number {\n    const hits = this.hits();\n    return hits / (hits + this._misses);\n  }\n}\n\n/** @hidden */\nexport class HashGenCacheSetBucket<T> {\n  /** @hidden */\n  _gen4Val: T | undefined;\n  /** @hidden */\n  _gen4Weight: number;\n  /** @hidden */\n  _gen3Val: T | undefined;\n  /** @hidden */\n  _gen3Weight: number;\n  /** @hidden */\n  _gen2Val: T | undefined;\n  /** @hidden */\n  _gen2Weight: number;\n  /** @hidden */\n  _gen1Val: T | undefined;\n  /** @hidden */\n  _gen1Weight: number;\n\n  constructor(gen4Val?: T, gen4Weight: number = 0,\n              gen3Val?: T, gen3Weight: number = 0,\n              gen2Val?: T, gen2Weight: number = 0,\n              gen1Val?: T, gen1Weight: number = 0) {\n    this._gen4Val = gen4Val;\n    this._gen4Weight = gen4Weight;\n    this._gen3Val = gen3Val;\n    this._gen3Weight = gen3Weight;\n    this._gen2Val = gen2Val;\n    this._gen2Weight = gen2Weight;\n    this._gen1Val = gen1Val;\n    this._gen1Weight = gen1Weight;\n  }\n}\n"],"names":["ByteOrder"],"mappings":"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"}