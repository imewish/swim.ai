// swim-structure-3.10.2; copyright 2015-2020 SWIM.AI inc.
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@swim/util"),require("@swim/codec")):"function"==typeof define&&define.amd?define(["exports","@swim/util","@swim/codec"],e):e((t=t||self).swim=t.swim||{},t.swim,t.swim)}(this,(function(t,e,r){"use strict";var n=function(){function t(){}return t.prototype.updated=function(e,r){var n=t.Record.create(2);return n.push(this),n.set(e,r),n},t.prototype.updatedAttr=function(e,r){var n=t.Record.create(2);return n.push(this),n.setAttr(e,r),n},t.prototype.updatedSlot=function(e,r){var n=t.Record.create(2);return n.push(this),n.setSlot(e,r),n},t.prototype.appended=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.Record.create(1+arguments.length);return n.push(this),n.push.apply(n,arguments),n},t.prototype.prepended=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.Record.create(arguments.length+1);return n.push.apply(n,arguments),n.push(this),n},t.prototype.concat=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.Record.create();n.push(this);for(var o=0,i=arguments.length;o<i;o+=1)t.fromAny(arguments[o]).forEach((function(t){n.push(t)}));return n},t.prototype.lt=function(e){return e=t.fromAny(e),this.compareTo(e)<0?t.Bool.from(!0):t.absent()},t.prototype.le=function(e){return e=t.fromAny(e),this.compareTo(e)<=0?t.Bool.from(!0):t.absent()},t.prototype.eq=function(e){return e=t.fromAny(e),this.equals(e)?t.Bool.from(!0):t.absent()},t.prototype.ne=function(e){return e=t.fromAny(e),this.equals(e)?t.absent():t.Bool.from(!0)},t.prototype.ge=function(e){return e=t.fromAny(e),this.compareTo(e)>=0?t.Bool.from(!0):t.absent()},t.prototype.gt=function(e){return e=t.fromAny(e),this.compareTo(e)>0?t.Bool.from(!0):t.absent()},t.prototype.invoke=function(e){return t.absent()},t.prototype.filter=function(e){var r=t.Selector.literal(this);return r.filter.apply(r,arguments)},t.prototype.max=function(t){return this.compareTo(t)>=0?this:t},t.prototype.min=function(t){return this.compareTo(t)<=0?this:t},t.prototype.evaluate=function(t){return this},t.prototype.substitute=function(t){return this},t.prototype.cast=function(t,e){var r=t.cast(this);return void 0===r&&(r=e),r},t.prototype.coerce=function(t,e){var r=t.cast(this);return void 0===r&&(r=t.unit()),void 0===r&&(r=e),r},t.prototype.precedence=function(){return 11},t.prototype.forEach=function(t,e){return t.call(e,this,0)},t.prototype.iterator=function(){return e.Cursor.unary(this)},t.prototype.display=function(t){this.debug(t)},t.prototype.toString=function(){return r.Format.debug(this)},t.empty=function(){return t.Record.empty()},t.extant=function(){return t.Extant.extant()},t.absent=function(){return t.Absent.absent()},t.fromAny=function(e){return e instanceof t?e:t.Value.fromAny(e)},t.globalScope=function(){return t._globalScope||(t._globalScope=t.Record.create(1).slot("math",t.MathModule.scope()).commit()),t._globalScope},t}(),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function i(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function u(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],u=0,s=i.length;u<s;u++,o++)n[o]=i[u];return n}var s=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.isDefined=function(){return!0},e.prototype.isDistinct=function(){return!0},e.prototype.toValue=function(){return this.value},e.prototype.tag=function(){},e.prototype.target=function(){return this.value},e.prototype.flattened=function(){return n.Value.absent()},e.prototype.unflattened=function(){return n.Record.of(this)},e.prototype.header=function(t){return n.Value.absent()},e.prototype.headers=function(t){},e.prototype.head=function(){return n.absent()},e.prototype.tail=function(){return n.Record.empty()},e.prototype.body=function(){return n.Value.absent()},Object.defineProperty(e.prototype,"length",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return!1},e.prototype.get=function(t){return n.Value.absent()},e.prototype.getAttr=function(t){return n.Value.absent()},e.prototype.getSlot=function(t){return n.Value.absent()},e.prototype.getField=function(t){},e.prototype.getItem=function(t){return n.absent()},e.prototype.deleted=function(t){return this},e.prototype.conditional=function(t,e){return t=n.fromAny(t)},e.prototype.or=function(t){return this},e.prototype.and=function(t){return t=n.fromAny(t)},e.prototype.lambda=function(t){return n.Value.absent()},e.prototype.stringValue=function(t){return this.value.stringValue(t)},e.prototype.numberValue=function(t){return this.value.numberValue(t)},e.prototype.booleanValue=function(t){return this.value.booleanValue(t)},e.of=function(t,e){var r;return"string"==typeof t?r=t:t instanceof n.Text&&(r=t.value),void 0!==r&&64===r.charCodeAt(0)?(arguments[0]=r.slice(1),n.Attr.of.apply(void 0,arguments)):n.Slot.of.apply(void 0,arguments)},e.fromAny=function(t){if(t instanceof e)return t;if(t&&"object"==typeof t){if(void 0!==t.$key)return e.of(t.$key,t.$value);for(var r in t)return e.of(r,t[r])}throw new TypeError(""+t)},e.IMMUTABLE=1,e}(n);n.Field=s;var a=function(t){function e(r){var n=t.call(this,r)||this;return n.__proto__=e.prototype,n}return i(e,t),e}(Error),p=function(){function t(t){this._maxScopeDepth=t}return t.prototype.maxScopeDepth=function(t){return void 0===t?this._maxScopeDepth:this.copy(t)},t.prototype.copy=function(e){return new t(e)},t.prototype.canEqual=function(e){return e instanceof t},t.prototype.equals=function(e){return this===e||e instanceof t&&(e.canEqual(this)&&this._maxScopeDepth===e._maxScopeDepth)},t.prototype.hashCode=function(){return void 0===t._hashSeed&&(t._hashSeed=e.Murmur3.seed(t)),e.Murmur3.mash(e.Murmur3.mix(t._hashSeed,this._maxScopeDepth))},t.prototype.debug=function(t){t=t.write("new").write(32).write("InterpreterSettings").write(40).debug(this._maxScopeDepth).write(41)},t.prototype.toString=function(){return r.Format.debug(this)},t.standard=function(){if(!t._standard){t._standard=new t(1024)}return t._standard},t}(),h=function(){function t(t,e,r){void 0===t&&(t=p.standard()),void 0===e&&(e=null),void 0===r&&(r=0),this._settings=t,this._scopeStack=e,this._scopeDepth=r}return t.prototype.settings=function(t){return void 0===t?this._settings:(this._settings=t,this)},t.prototype.scopeDepth=function(){return this._scopeDepth},t.prototype.peekScope=function(){var t=this._scopeDepth;if(t<=0)throw new a("scope stack empty");return this._scopeStack[t-1]},t.prototype.getScope=function(t){if(t<0||t>=this._scopeDepth)throw new RangeError(""+t);return this._scopeStack[t]},t.prototype.pushScope=function(e){var r=this._scopeDepth;if(r>=this._settings._maxScopeDepth)throw new a("scope stack overflow");var n,o=this._scopeStack;if(null===o||r+1>o.length){if(n=new Array(t.expand(r+1)),null!=o)for(var i=0;i<r;i+=1)n[i]=o[i];this._scopeStack=n}else n=o;n[r]=e,this._scopeDepth=r+1},t.prototype.popScope=function(){var t=this._scopeDepth;if(t<=0)throw new a("scope stack empty");var e=this._scopeStack,r=e[t-1];return e[t-1]=void 0,this._scopeDepth=t-1,r},t.prototype.swapScope=function(t){var e=this._scopeDepth;if(e<=0)throw new a("scope stack empty");var r=this._scopeStack,n=r[e-1];return r[e-1]=t,n},t.prototype.willOperate=function(t){},t.prototype.didOperate=function(t,e){},t.prototype.willSelect=function(t){},t.prototype.didSelect=function(t,e){},t.prototype.willTransform=function(t){},t.prototype.didTransform=function(t,e){},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var o=arguments.length,i=new Array(t.expand(o)),u=0;u<o;u+=1){var s=n.fromAny(arguments[u]);i[u]=s}return new t(p.standard(),i,o)},t.fromAny=function(e,r){if(void 0===r&&(r=n.globalScope()),!(e instanceof t)){var o=e;e=new t,r&&e.pushScope(r),void 0!==o&&e.pushScope(n.fromAny(o))}return e},t.expand=function(t){return t=Math.max(32,t)-1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1},t}(),c=function(t){function r(e,r,o){void 0===r&&(r=n.Value.extant()),void 0===o&&(o=0);var i=t.call(this)||this;return i._key=e,i._value=r,i._flags=o,i}return i(r,t),r.prototype.isConstant=function(){return this._key.isConstant()&&this._value.isConstant()},Object.defineProperty(r.prototype,"name",{get:function(){return this._key.value},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),r.prototype.setValue=function(t){if(0!=(this._flags&s.IMMUTABLE))throw new Error("immutable");var e=this._value;return this._value=t,e},r.prototype.updatedValue=function(t){return new r(this._key,t)},r.prototype.bitwiseOr=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.BitwiseOrOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.bitwiseOr(t._value):t instanceof n.Value?this._value.bitwiseOr(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.bitwiseXor=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.BitwiseXorOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.bitwiseXor(t._value):t instanceof n.Value?this._value.bitwiseXor(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.bitwiseAnd=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.BitwiseAndOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.bitwiseAnd(t._value):t instanceof n.Value?this._value.bitwiseAnd(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.plus=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.PlusOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.plus(t._value):t instanceof n.Value?this._value.plus(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.minus=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.MinusOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.minus(t._value):t instanceof n.Value?this._value.minus(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.times=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.TimesOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.times(t._value):t instanceof n.Value?this._value.times(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.divide=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.DivideOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.divide(t._value):t instanceof n.Value?this._value.divide(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.modulo=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.ModuloOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.modulo(t._value):t instanceof n.Value?this._value.modulo(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.not=function(){var t=this._value.not();return t.isDefined()?new r(this._key,t):n.absent()},r.prototype.bitwiseNot=function(){var t=this._value.bitwiseNot();return t.isDefined()?new r(this._key,t):n.absent()},r.prototype.negative=function(){var t=this._value.negative();return t.isDefined()?new r(this._key,t):n.absent()},r.prototype.positive=function(){var t=this._value.positive();return t.isDefined()?new r(this._key,t):n.absent()},r.prototype.inverse=function(){var t=this._value.inverse();return t.isDefined()?new r(this._key,t):n.absent()},r.prototype.evaluate=function(t){t=h.fromAny(t);var e=this._key.evaluate(t).toValue(),o=this._value.evaluate(t).toValue();return e===this._key&&o===this._value?this:e.isDefined()&&o.isDefined()?e instanceof n.Text?new r(e,o):new n.Slot(e,o):n.absent()},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._key.substitute(t).toValue(),o=this._value.substitute(t).toValue();return e===this._key&&o===this._value?this:e.isDefined()&&o.isDefined()?e instanceof n.Text?new r(e,o):new n.Slot(e,o):n.absent()},r.prototype.toAny=function(){var t={};return t["@"+this._key.value]=this._value.toAny(),t},r.prototype.isAliased=function(){return!1},r.prototype.isMutable=function(){return 0==(this._flags&s.IMMUTABLE)},r.prototype.alias=function(){this._flags|=s.IMMUTABLE},r.prototype.branch=function(){return 0!=(this._flags&s.IMMUTABLE)?new r(this._key,this._value,this._flags&~s.IMMUTABLE):this},r.prototype.clone=function(){return new r(this._key.clone(),this._value.clone())},r.prototype.commit=function(){return 0==(this._flags&s.IMMUTABLE)&&(this._flags|=s.IMMUTABLE,this._value.commit()),this},r.prototype.typeOrder=function(){return 1},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._key.compareTo(t._key);return 0===n&&(n=this._value.compareTo(t._value)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.keyEquals=function(t){return"string"==typeof t?this._key.value===t:t instanceof s?this._key.equals(t.key):this._key.equals(t)},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._key.equals(t._key)&&this._value.equals(t._value))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._key.hashCode()),this._value.hashCode()))},r.prototype.debug=function(t){t=t.write("Attr").write(46).write("of").write(40).display(this.key),this.value instanceof n.Extant||(t=t.write(44).write(32).display(this.value)),t=t.write(41)},r.prototype.display=function(t){this.debug(t)},r.of=function(t,e){return new r(t=n.Text.fromAny(t),e=arguments.length>=2?n.Value.fromAny(e):n.Value.extant())},r}(s);n.Attr=c;var f=function(t){function r(e,r,o){void 0===r&&(r=n.Value.extant()),void 0===o&&(o=0);var i=t.call(this)||this;return i._key=e.commit(),i._value=r,i._flags=o,i}return i(r,t),Object.defineProperty(r.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),r.prototype.isConstant=function(){return this._key.isConstant()&&this._value.isConstant()},r.prototype.setValue=function(t){if(0!=(this._flags&s.IMMUTABLE))throw new Error("immutable");var e=this._value;return this._value=t,e},r.prototype.updatedValue=function(t){return new r(this._key,t)},r.prototype.bitwiseOr=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.BitwiseOrOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.bitwiseOr(t._value):t instanceof n.Value?this._value.bitwiseOr(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.bitwiseXor=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.BitwiseXorOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.bitwiseXor(t._value):t instanceof n.Value?this._value.bitwiseXor(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.bitwiseAnd=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.BitwiseAndOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.bitwiseAnd(t._value):t instanceof n.Value?this._value.bitwiseAnd(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.plus=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.PlusOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.plus(t._value):t instanceof n.Value?this._value.plus(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.minus=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.MinusOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.minus(t._value):t instanceof n.Value?this._value.minus(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.times=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.TimesOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.times(t._value):t instanceof n.Value?this._value.times(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.divide=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.DivideOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.divide(t._value):t instanceof n.Value?this._value.divide(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.modulo=function(t){return(t=n.fromAny(t))instanceof n.Expression?new n.ModuloOperator(this,t):(e=t instanceof r&&this._key.equals(t._key)?this._value.modulo(t._value):t instanceof n.Value?this._value.modulo(t):n.Value.absent()).isDefined()?new r(this._key,e):n.absent();var e},r.prototype.not=function(){var t=this._value.not();return t.isDefined()?new r(this._key,t):n.absent()},r.prototype.bitwiseNot=function(){var t=this._value.bitwiseNot();return t.isDefined()?new r(this._key,t):n.absent()},r.prototype.negative=function(){var t=this._value.negative();return t.isDefined()?new r(this._key,t):n.absent()},r.prototype.positive=function(){var t=this._value.positive();return t.isDefined()?new r(this._key,t):n.absent()},r.prototype.inverse=function(){var t=this._value.inverse();return t.isDefined()?new r(this._key,t):n.absent()},r.prototype.evaluate=function(t){t=h.fromAny(t);var e=this._key.evaluate(t).toValue(),o=this._value.evaluate(t).toValue();return e===this._key&&o===this._value?this:e.isDefined()&&o.isDefined()?new r(e,o):n.absent()},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._key.substitute(t).toValue(),o=this._value.substitute(t).toValue();return e===this._key&&o===this._value?this:e.isDefined()&&o.isDefined()?new r(e,o):n.absent()},r.prototype.toAny=function(){var t={};return this._key instanceof n.Text?t[this._key.value]=this._value.toAny():(t.$key=this._key.toAny(),t.$value=this._value.toAny()),t},r.prototype.isAliased=function(){return!1},r.prototype.isMutable=function(){return 0==(this._flags&s.IMMUTABLE)},r.prototype.alias=function(){this._flags|=s.IMMUTABLE},r.prototype.branch=function(){return 0!=(this._flags&s.IMMUTABLE)?new r(this._key,this._value,this._flags&~s.IMMUTABLE):this},r.prototype.clone=function(){return new r(this._key.clone(),this._value.clone())},r.prototype.commit=function(){return 0==(this._flags&s.IMMUTABLE)&&(this._flags|=s.IMMUTABLE,this._value.commit()),this},r.prototype.typeOrder=function(){return 2},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._key.compareTo(t._key);return 0===n&&(n=this._value.compareTo(t._value)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.keyEquals=function(t){return"string"==typeof t&&this._key instanceof n.Text?this._key.value===t:t instanceof s?this._key.equals(t.key):this._key.equals(t)},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._key.equals(t._key)&&this._value.equals(t._value))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._key.hashCode()),this._value.hashCode()))},r.prototype.debug=function(t){t=t.write("Slot").write(46).write("of").write(40).display(this.key),this.value instanceof n.Extant||(t=t.write(44).write(32).display(this.value)),t=t.write(41)},r.prototype.display=function(t){this.debug(t)},r.of=function(t,e){return new r(t=n.Value.fromAny(t),e=arguments.length>=2?n.Value.fromAny(e):n.Value.extant())},r}(s);n.Slot=f;var l=function(){function t(){this._record=null,this._value=null}return t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,n=arguments.length;r<n;r+=1){var o=arguments[r];if(o instanceof s)return this.pushField(o);if(o instanceof d)return this.pushValue(o);throw new TypeError(""+o)}},t.prototype.pushField=function(t){null===this._record&&(this._record=n.Record.create(),null!==this._value&&(this._record.push(this._value),this._value=null)),this._record.push(t)},t.prototype.pushValue=function(t){null!=this._record?this._record.push(t):null==this._value?this._value=t:(this._record=n.Record.create(),this._record.push(this._value),this._value=null,this._record.push(t))},t.prototype.bind=function(){return null!==this._record?this._record:null!==this._value?this._value:d.absent()},t}(),d=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.isDefined=function(){return!0},e.prototype.isDistinct=function(){return!0},Object.defineProperty(e.prototype,"key",{get:function(){return e.absent()},enumerable:!0,configurable:!0}),e.prototype.toValue=function(){return this},e.prototype.tag=function(){},e.prototype.target=function(){return this},e.prototype.flattened=function(){return this},e.prototype.unflattened=function(){return e.Record.of(this)},e.prototype.header=function(t){return e.absent()},e.prototype.headers=function(t){},e.prototype.head=function(){return n.absent()},e.prototype.tail=function(){return e.Record.empty()},e.prototype.body=function(){return e.extant()},Object.defineProperty(e.prototype,"length",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return!1},e.prototype.get=function(t){return e.absent()},e.prototype.getAttr=function(t){return e.absent()},e.prototype.getSlot=function(t){return e.absent()},e.prototype.getField=function(t){},e.prototype.getItem=function(t){return n.absent()},e.prototype.deleted=function(t){return this},e.prototype.conditional=function(t,e){return t=n.fromAny(t)},e.prototype.or=function(t){return this},e.prototype.and=function(t){return t=n.fromAny(t)},e.prototype.bitwiseOr=function(t){if((t=n.fromAny(t))instanceof n.Expression)return new n.BitwiseOrOperator(this,t);if(t instanceof n.Attr){if((e=this.bitwiseOr(t.value)).isDefined())return new n.Attr(t.key,e)}else if(t instanceof n.Slot){var e;if((e=this.bitwiseOr(t.value)).isDefined())return new n.Slot(t.key,e)}return n.absent()},e.prototype.bitwiseXor=function(t){if((t=n.fromAny(t))instanceof n.Expression)return new n.BitwiseXorOperator(this,t);if(t instanceof n.Attr){if((e=this.bitwiseXor(t.value)).isDefined())return new n.Attr(t.key,e)}else if(t instanceof n.Slot){var e;if((e=this.bitwiseXor(t.value)).isDefined())return new n.Slot(t.key,e)}return n.absent()},e.prototype.bitwiseAnd=function(t){if((t=n.fromAny(t))instanceof n.Expression)return new n.BitwiseAndOperator(this,t);if(t instanceof n.Attr){if((e=this.bitwiseAnd(t.value)).isDefined())return new n.Attr(t.key,e)}else if(t instanceof n.Slot){var e;if((e=this.bitwiseAnd(t.value)).isDefined())return new n.Slot(t.key,e)}return n.absent()},e.prototype.lt=function(e){return(e=n.fromAny(e))instanceof n.Expression?new n.LtOperator(this,e):t.prototype.lt.call(this,e)},e.prototype.le=function(e){return(e=n.fromAny(e))instanceof n.Expression?new n.LeOperator(this,e):t.prototype.le.call(this,e)},e.prototype.eq=function(e){return(e=n.fromAny(e))instanceof n.Expression?new n.EqOperator(this,e):t.prototype.eq.call(this,e)},e.prototype.ne=function(e){return(e=n.fromAny(e))instanceof n.Expression?new n.NeOperator(this,e):t.prototype.ne.call(this,e)},e.prototype.ge=function(e){return(e=n.fromAny(e))instanceof n.Expression?new n.GeOperator(this,e):t.prototype.ge.call(this,e)},e.prototype.gt=function(e){return(e=n.fromAny(e))instanceof n.Expression?new n.GtOperator(this,e):t.prototype.gt.call(this,e)},e.prototype.plus=function(t){if((t=n.fromAny(t))instanceof n.Expression)return new n.PlusOperator(this,t);if(t instanceof n.Attr){if((e=this.plus(t.value)).isDefined())return new n.Attr(t.key,e)}else if(t instanceof n.Slot){var e;if((e=this.plus(t.value)).isDefined())return new n.Slot(t.key,e)}return n.absent()},e.prototype.minus=function(t){if((t=n.fromAny(t))instanceof n.Expression)return new n.MinusOperator(this,t);if(t instanceof n.Attr){if((e=this.minus(t.value)).isDefined())return new n.Attr(t.key,e)}else if(t instanceof n.Slot){var e;if((e=this.minus(t.value)).isDefined())return new n.Slot(t.key,e)}return n.absent()},e.prototype.times=function(t){if((t=n.fromAny(t))instanceof n.Expression)return new n.TimesOperator(this,t);if(t instanceof n.Attr){if((e=this.times(t.value)).isDefined())return new n.Attr(t.key,e)}else if(t instanceof n.Slot){var e;if((e=this.times(t.value)).isDefined())return new n.Slot(t.key,e)}return n.absent()},e.prototype.divide=function(t){if((t=n.fromAny(t))instanceof n.Expression)return new n.DivideOperator(this,t);if(t instanceof n.Attr){if((e=this.divide(t.value)).isDefined())return new n.Attr(t.key,e)}else if(t instanceof n.Slot){var e;if((e=this.divide(t.value)).isDefined())return new n.Slot(t.key,e)}return n.absent()},e.prototype.modulo=function(t){if((t=n.fromAny(t))instanceof n.Expression)return new n.ModuloOperator(this,t);if(t instanceof n.Attr){if((e=this.modulo(t.value)).isDefined())return new n.Attr(t.key,e)}else if(t instanceof n.Slot){var e;if((e=this.modulo(t.value)).isDefined())return new n.Slot(t.key,e)}return n.absent()},e.prototype.not=function(){return e.absent()},e.prototype.bitwiseNot=function(){return e.absent()},e.prototype.negative=function(){return e.absent()},e.prototype.positive=function(){return e.absent()},e.prototype.inverse=function(){return e.absent()},e.prototype.lambda=function(t){return new n.LambdaFunc(this,t)},e.prototype.stringValue=function(t){return t},e.prototype.numberValue=function(t){return t},e.prototype.booleanValue=function(t){return t},e.prototype.isAliased=function(){return!1},e.prototype.isMutable=function(){return!1},e.prototype.alias=function(){},e.prototype.branch=function(){return this},e.prototype.clone=function(){return this},e.prototype.commit=function(){return this},e.prototype.keyEquals=function(t){return!1},e.builder=function(){return new l},e.empty=function(){return e.Record.empty()},e.extant=function(){return e.Extant.extant()},e.absent=function(){return e.Absent.absent()},e.fromAny=function(t){if(t instanceof e)return t;if(void 0===t)return e.Absent.absent();if(null===t)return e.Extant.extant();if("boolean"==typeof t)return e.Bool.from(t);if("number"==typeof t)return e.Num.from(t);if("string"==typeof t)return e.Text.from(t);if(t instanceof Uint8Array)return e.Data.wrap(t);if(Array.isArray(t))return e.Record.fromArray(t);if("object"==typeof t)return e.Record.fromObject(t);throw new TypeError(""+t)},e}(n);n.Value=d;var y=function(t){function e(e,r,n,o){void 0===r&&(r=0),void 0===n&&(n=e.length),void 0===o&&(o=r);var i=t.call(this)||this;return i._record=e,i._lower=r,i._upper=n,i._index=o,i._direction=0,i}return i(e,t),e.prototype.isEmpty=function(){return this._index>=this._upper},e.prototype.head=function(){if(this._direction=0,this._index<this._upper)return this._record.getItem(this._index);throw new Error("empty")},e.prototype.step=function(){if(this._direction=0,!(this._index<this._upper))throw new Error("empty");this._index+=1},e.prototype.skip=function(t){this._index=Math.min(Math.max(this._lower,this._index+t,this._upper))},e.prototype.hasNext=function(){return this._index<this._upper},e.prototype.nextIndex=function(){return this._index-this._lower},e.prototype.next=function(){this._direction=1;var t=this._index;return t<this._upper?(this._index=t+1,{value:this._record.getItem(t),done:this._index===this._upper}):(this._index=this._upper,{done:!0})},e.prototype.hasPrevious=function(){return this._index>this._lower},e.prototype.previousIndex=function(){return this._index-this._lower-1},e.prototype.previous=function(){this._direction=-1;var t=this._index-1;return t>=this._lower?(this._index=t,{value:this._record.getItem(t),done:t===this._lower}):(this._index=0,{done:!0})},e.prototype.set=function(t){this._direction>0?this._record.setItem(this._index-1,t):this._record.setItem(this._index,t)},e.prototype.delete=function(){this._direction>0&&(this._index-=1),this._record.splice(this._index,1),this._direction=0},e}(e.Cursor),_=function(t){function r(){return t.call(this)||this}return i(r,t),r.prototype.isArray=function(){return 0===this.fieldCount()},r.prototype.isObject=function(){return 0===this.valueCount()},r.prototype.fieldCount=function(){var t=0;return this.forEach((function(e){e instanceof n.Field&&(t+=1)}),this),t},r.prototype.valueCount=function(){var t=0;return this.forEach((function(e){e instanceof d&&(t+=1)}),this),t},r.prototype.isConstant=function(){return void 0===this.forEach((function(t){return!!t.isConstant()&&void 0}),this)},r.prototype.tag=function(){var t=this.head();if(t instanceof n.Attr)return t.key.value},r.prototype.target=function(){var t,e,o=!1;return this.forEach((function(i){i instanceof n.Attr?o=!0:void 0===t&&i instanceof d?t=i:(void 0===e&&(e=r.create(),void 0!==t&&e.push(t)),e.push(i))}),this),void 0===t?d.extant():void 0===e?t:o?e:this},r.prototype.flattened=function(){if(this.isEmpty())return d.extant();var t=this.iterator(),e=t.head();return t.step(),t.isEmpty()&&e instanceof d?e:this.branch()},r.prototype.unflattened=function(){return this},r.prototype.header=function(t){var e=this.head();return e instanceof n.Attr&&e.key.value===t?e.value:d.absent()},r.prototype.headers=function(t){var e=this.head();if(e instanceof n.Attr&&e.key.value===t){var o=e.value;return o instanceof r?o:r.of(o)}},r.prototype.head=function(){return this.forEach((function(t){return t}),this)||n.absent()},r.prototype.tail=function(){var t=r.create();return this.forEach((function(e,r){r>0&&t.push(e)}),this),t},r.prototype.body=function(){var t=this.tail();return t.isEmpty()?d.absent():t.flattened()},r.prototype.has=function(t){return t=d.fromAny(t),this.forEach((function(e){return!!(e instanceof n.Field&&e.key.equals(t))||void 0}),this)||!1},r.prototype.indexOf=function(t,e){void 0===e&&(e=0),t=n.fromAny(t),e<0&&(e=Math.max(0,this.length+e));var r=this.forEach((function(r,n){return n>=e&&t.equals(r)?n:void 0}),this);return void 0!==r?r:-1},r.prototype.lastIndexOf=function(t,e){t=n.fromAny(t);var r=this.length;for(void 0===e?e=r-1:e<0&&(e=r+e),e=Math.min(e,r-1);e>=0;){if(t.equals(this.getItem(e)))return e;e-=1}return-1},r.prototype.get=function(t){return t=d.fromAny(t),this.forEach((function(e){return e instanceof n.Field&&e.key.equals(t)?e.value:void 0}),this)||d.absent()},r.prototype.getAttr=function(t){return t=d.Text.fromAny(t),this.forEach((function(e){return e instanceof n.Attr&&e.key.equals(t)?e.value:void 0}),this)||d.absent()},r.prototype.getSlot=function(t){return t=d.fromAny(t),this.forEach((function(e){return e instanceof n.Slot&&e.key.equals(t)?e.value:void 0}),this)||d.absent()},r.prototype.getField=function(t){return t=d.fromAny(t),this.forEach((function(e){return e instanceof n.Field&&e.key.equals(t)?e:void 0}),this)},r.prototype.set=function(t,e){t=d.fromAny(t),e=d.fromAny(e);for(var r=this.iterator();!r.isEmpty();){var o=r.head();if(o instanceof n.Field&&o.key.equals(t))return o.isMutable()?o.setValue(e):r.set(o.updatedValue(e)),this;r.step()}return this.push(new n.Slot(t,e)),this},r.prototype.setAttr=function(t,e){t=d.Text.fromAny(t),e=d.fromAny(e);for(var r=this.iterator();!r.isEmpty();){var o=r.head();if(o instanceof n.Field&&o.key.equals(t))return o instanceof n.Attr&&o.isMutable()?o.setValue(e):r.set(new n.Attr(t,e)),this;r.step()}return this.push(new n.Attr(t,e)),this},r.prototype.setSlot=function(t,e){t=d.fromAny(t),e=d.fromAny(e);for(var r=this.iterator();!r.isEmpty();){var o=r.head();if(o instanceof n.Field&&o.key.equals(t))return o instanceof n.Slot&&o.isMutable()?o.setValue(e):r.set(new n.Slot(t,e)),this;r.step()}return this.push(new n.Slot(t,e)),this},r.prototype.updated=function(t,e){t=d.fromAny(t),e=d.fromAny(e);for(var r=this.isMutable()?this:this.branch(),o=r.iterator();!o.isEmpty();){var i=o.head();if(i.key.equals(t))return i instanceof n.Field&&i.isMutable()?i.setValue(e):o.set(new n.Slot(t,e)),r;o.step()}return r.push(new n.Slot(t,e)),r},r.prototype.updatedAttr=function(t,e){t=d.Text.fromAny(t),e=d.fromAny(e);for(var r=this.isMutable()?this:this.branch(),o=r.iterator();!o.isEmpty();){var i=o.head();if(i.key.equals(t))return i instanceof n.Attr&&i.isMutable()?i.setValue(e):o.set(new n.Attr(t,e)),r;o.step()}return r.push(new n.Attr(t,e)),r},r.prototype.updatedSlot=function(t,e){t=d.fromAny(t),e=d.fromAny(e);for(var r=this.isMutable()?this:this.branch(),o=r.iterator();!o.isEmpty();){var i=o.head();if(i.key.equals(t))return i instanceof n.Slot&&i.isMutable()?i.setValue(e):o.set(new n.Slot(t,e)),r;o.step()}return r.push(new n.Slot(t,e)),r},r.prototype.appended=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.isMutable()?this:this.branch();return r.push.apply(r,arguments),r},r.prototype.prepended=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.isMutable()?this:this.branch();return r.splice.apply(r,Array.prototype.concat.apply([0,0],arguments)),r},r.prototype.deleted=function(t){var e=this.isMutable()?this:this.branch();return e.delete(t),e},r.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=this.isMutable()?this:this.branch(),o=0,i=arguments.length;o<i;o+=1)n.fromAny(arguments[o]).forEach((function(t){r.push(t)}));return r},r.prototype.slice=function(t,e){return this.subRecord.apply(this,arguments).branch()},r.prototype.attr=function(t,e){return this.push(n.Attr.of.apply(void 0,arguments)),this},r.prototype.slot=function(t,e){return this.push(n.Slot.of.apply(void 0,arguments)),this},r.prototype.item=function(t){return this.push(t),this},r.prototype.items=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.push.apply(this,arguments),this},r.prototype.evaluate=function(t){t=h.fromAny(t);var e=r.create();t.pushScope(e);var n=!1;return this.forEach((function(r){var o=r.evaluate(t);o.isDefined()&&e.push(o),r!==o&&(n=!0)}),this),t.popScope(),n?e:this},r.prototype.substitute=function(t){t=h.fromAny(t);var e=r.create();t.pushScope(e);var n=!1;return this.forEach((function(r){var o=r.substitute(t);o.isDefined()&&e.push(o),r!==o&&(n=!0)}),this),t.popScope(),n?e:this},r.prototype.stringValue=function(t){var e="";return void 0===this.forEach((function(t){if(t instanceof d){var r=t.stringValue();if(void 0!==r)return void(e+=r)}return null}),this)?e:void 0},r.prototype.toAny=function(){return!this.isEmpty()&&this.isArray()?this.toArray():this.toObject()},r.prototype.toArray=function(){var t=new Array(this.length);return this.forEach((function(e,r){e instanceof d?t[r]=e.toAny():e instanceof n.Field&&(t[r]={$key:e.key.toAny(),$value:e.value.toAny()})}),this),t},r.prototype.toObject=function(){var t={};return this.forEach((function(e,r){e instanceof n.Attr?t["@"+e.key.value]=e.value.toAny():e instanceof n.Slot?e.key instanceof d.Text?t[e.key.value]=e.value.toAny():t["$"+r]={$key:e.key.toAny(),$value:e.value.toAny()}:e instanceof d&&(t["$"+r]=e.toAny())}),this),t},r.prototype.isAliased=function(){return!1},r.prototype.isMutable=function(){return!0},r.prototype.alias=function(){},r.prototype.branch=function(){var t=r.create();return this.forEach((function(e){t.push(e)}),this),t},r.prototype.clone=function(){var t=r.create();return this.forEach((function(e){t.push(e.clone())}),this),t},r.prototype.commit=function(){return this},r.prototype.bind=function(){return this},r.prototype.subRecord=function(t,e){var r=this.length;void 0===t?t=0:t<0&&(t=r+t),t=Math.min(Math.max(0,t),r),void 0===e?e=r:e<0&&(e=r+e);var n=d.Record.create();return this.forEach((function(r,o){return o<t?void 0:o<e?void n.push(r):null}),this),n},r.prototype.iterator=function(){return new y(this)},r.prototype.typeOrder=function(){return 3},r.prototype.compareTo=function(t){if(t instanceof r){var n=this.iterator(),o=t.iterator(),i=0;do{if(n.isEmpty()||o.isEmpty())break;i=n.head().compareTo(o.head()),n.step(),o.step()}while(0===i);return 0!==i?i:n.isEmpty()&&!o.isEmpty()?-1:!n.isEmpty()&&o.isEmpty()?1:0}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){if(this===t)return!0;if(t instanceof r){for(var e=this.iterator(),n=t.iterator();!e.isEmpty()&&!n.isEmpty();){if(!e.head().equals(n.head()))return!1;e.step(),n.step()}return e.isEmpty()&&n.isEmpty()}return!1},r.prototype.hashCode=function(){if(void 0===this._hashCode){void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r));var t=r._hashSeed;this.forEach((function(r){t=e.Murmur3.mix(t,r.hashCode())}),this),this._hashCode=e.Murmur3.mash(t)}return this._hashCode},r.prototype.debug=function(t){t=t.write("Record").write(46),this.isEmpty()?t=t.write("empty").write(40).write(41):(t=t.write("of").write(40),this.forEach((function(e,r){0!==r&&(t=t.write(44).write(32)),t.display(e)}),this),t=t.write(41))},r.prototype.display=function(t){this.debug(t)},r.empty=function(){return r.RecordMap.empty()},r.create=function(t){return r.RecordMap.create(t)},r.of=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.RecordMap.of.apply(void 0,arguments)},r.fromAny=function(t){if(t instanceof r)return t;if(Array.isArray(t))return r.fromArray(t);if(t&&"object"==typeof t)return r.fromObject(t);throw new TypeError(""+t)},r.fromArray=function(t){for(var e=t.length||0,o=r.create(e),i=0;i<e;i+=1)o.push(n.fromAny(t[i]));return o},r.fromObject=function(t){var e=r.create();for(var o in t){var i=t[o];36===o.charCodeAt(0)?i&&"object"==typeof i&&i.hasOwnProperty("$key")?e.push(n.Field.of(i.$key,i.$value)):e.push(d.fromAny(i)):e.push(n.Field.of(o,i))}return e},r.expand=function(t){return t=Math.max(8,t)-1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1},r.ALIASED=1,r.IMMUTABLE=2,r}(d);n.Record=_;var m=function(t){function e(e,r,n,o,i){var u=t.call(this)||this;return u._array=e,u._table=r,u._itemCount=n,u._fieldCount=o,u._flags=i,u}return i(e,t),e.prototype.isEmpty=function(){return 0===this._itemCount},Object.defineProperty(e.prototype,"length",{get:function(){return this._itemCount},enumerable:!0,configurable:!0}),e.prototype.fieldCount=function(){return this._fieldCount},e.prototype.valueCount=function(){return this._itemCount-this._fieldCount},e.prototype.isConstant=function(){for(var t=this._array,e=0,r=this._itemCount;e<r;e+=1)if(!t[e].isConstant())return!1;return!0},e.prototype.tag=function(){if(this._fieldCount>0){var t=this._array[0];if(t instanceof n.Attr)return t.key.value}},e.prototype.target=function(){for(var t,e,r=!1,o=this._array,i=0,u=this._itemCount;i<u;i+=1){var s=o[i];s instanceof n.Attr?r=!0:void 0===t&&s instanceof d?t=s:(void 0===e&&(e=_.create(),void 0!==t&&e.push(t)),e.push(s))}return void 0===t?d.extant():void 0===e?t:r?e:this},e.prototype.head=function(){return this._itemCount>0?this._array[0]:n.absent()},e.prototype.tail=function(){var t=this._itemCount;return t>0?new _.RecordMapView(this,1,t):_.empty()},e.prototype.body=function(){var t=this._itemCount;if(t>2)return new _.RecordMapView(this,1,t).branch();if(2===t){var e=this._array[1];return e instanceof d?e:_.of(e)}return d.absent()},e.prototype.has=function(t){if(0!==this._fieldCount){t=d.fromAny(t);var e=this.hashTable(),r=e.length,n=Math.abs(t.hashCode()%r),o=n;do{var i=e[o];if(void 0===i)break;if(i.key.equals(t))return!0;o=(o+1)%r}while(o!==n)}return!1},e.prototype.indexOf=function(t,e){void 0===e&&(e=0),t=n.fromAny(t);var r=this._array,o=this._itemCount;for(e<0&&(e=Math.max(0,o+e));e<o;){if(t.equals(r[e]))return e;e+=1}return-1},e.prototype.lastIndexOf=function(t,e){t=n.fromAny(t);var r=this._array,o=this._itemCount;for(void 0===e?e=o-1:e<0&&(e=o+e),e=Math.min(e,o-1);e>=0;){if(t.equals(r[e]))return e;e-=1}return-1},e.prototype.get=function(t){if(this._fieldCount>0){t=d.fromAny(t);var e=this.hashTable(),r=e.length,n=Math.abs(t.hashCode()%r),o=n;do{var i=e[o];if(void 0===i)break;if(i.key.equals(t))return i.value;o=(o+1)%r}while(o!==n)}return d.absent()},e.prototype.getAttr=function(t){if(this._fieldCount>0){t=d.Text.fromAny(t);var e=this.hashTable(),r=e.length,o=Math.abs(t.hashCode()%r),i=o;do{var u=e[i];if(void 0===u)break;if(u instanceof n.Attr&&u.key.equals(t))return u.value;i=(i+1)%r}while(i!==o)}return d.absent()},e.prototype.getSlot=function(t){if(this._fieldCount>0){t=d.fromAny(t);var e=this.hashTable(),r=e.length,o=Math.abs(t.hashCode()%r),i=o;do{var u=e[i];if(void 0===u)break;if(u instanceof n.Slot&&u.key.equals(t))return u.value;i=(i+1)%r}while(i!==o)}return d.absent()},e.prototype.getField=function(t){if(this._fieldCount>0){t=d.fromAny(t);var e=this.hashTable(),r=e.length,n=Math.abs(t.hashCode()%r),o=n;do{var i=e[o];if(void 0===i)break;if(i.key.equals(t))return i;o=(o+1)%r}while(o!==n)}},e.prototype.getItem=function(t){t instanceof n.Num&&(t=t.value);var e=this._itemCount;return t<0&&(t=e+t),t>=0&&t<e?this._array[t]:n.absent()},e.prototype.set=function(t,e){if(0!=(this._flags&_.IMMUTABLE))throw new Error("immutable");return t=d.fromAny(t),e=d.fromAny(e),0!=(this._flags&_.ALIASED)?this._fieldCount>0?this.setAliased(t,e):this.pushAliased(new n.Slot(t,e)):this._fieldCount>0?null!==this._table?this.setMutable(t,e):this.updateMutable(t,e):this.pushMutable(new n.Slot(t,e)),this},e.prototype.setAliased=function(t,e){for(var r=this._itemCount,o=this._array,i=new Array(_.expand(r+1)),u=0;u<r;u+=1){var s=o[u];if(s instanceof n.Field&&s.key.equals(t)){for(i[u]=s.updatedValue(e),u+=1;u<r;)i[u]=o[u],u+=1;return this._array=i,this._table=null,void(this._flags&=~_.ALIASED)}i[u]=s}i[r]=new n.Slot(t,e),this._array=i,this._table=null,this._itemCount=r+1,this._fieldCount+=1,this._flags&=~_.ALIASED},e.prototype.setMutable=function(t,r){var o=this._table,i=o.length,u=Math.abs(t.hashCode()%i),s=u;do{var a=o[s];if(void 0===a)break;if(a.key.equals(t))return a.isMutable()?void a.setValue(r):void this.updateMutable(t,r);s=(s+1)%i}while(s!==u);var p=new n.Slot(t,r);this.pushMutable(p),e.put(o,p)},e.prototype.updateMutable=function(t,r){for(var o=this._array,i=0,u=this._itemCount;i<u;i+=1){var s=o[i];if(s instanceof n.Field&&s.key.equals(t))return o[i]=s.updatedValue(r),void(this._table=null)}var a=new n.Slot(t,r);this.pushMutable(a),e.put(this._table,a)},e.prototype.setAttr=function(t,e){if(0!=(this._flags&_.IMMUTABLE))throw new Error("immutable");return t=d.Text.fromAny(t),e=d.fromAny(e),0!=(this._flags&_.ALIASED)?this._fieldCount>0?this.setAttrAliased(t,e):this.pushAliased(new n.Attr(t,e)):this._fieldCount>0?null!==this._table?this.setAttrMutable(t,e):this.updateAttrMutable(t,e):this.pushMutable(new n.Attr(t,e)),this},e.prototype.setAttrAliased=function(t,e){for(var r=this._itemCount,o=this._array,i=new Array(_.expand(r+1)),u=0;u<r;u+=1){var s=o[u];if(s instanceof n.Field&&s.key.equals(t)){for(i[u]=new n.Attr(t,e),u+=1;u<r;)i[u]=o[u],u+=1;return this._array=i,this._table=null,void(this._flags&=~_.ALIASED)}i[u]=s}i[r]=new n.Attr(t,e),this._array=i,this._table=null,this._itemCount=r+1,this._fieldCount+=1,this._flags&=~_.ALIASED},e.prototype.setAttrMutable=function(t,r){var o=this._table,i=o.length,u=Math.abs(t.hashCode()%i),s=u;do{var a=o[s];if(void 0===a)break;if(a.key.equals(t))return void(a instanceof n.Attr&&a.isMutable()?a.setValue(r):this.updateAttrMutable(t,r));s=(s+1)%i}while(s!==u);var p=new n.Attr(t,r);this.push(p),e.put(o,p)},e.prototype.updateAttrMutable=function(t,r){for(var o=this._array,i=0,u=this._itemCount;i<u;i+=1){var s=o[i];if(s instanceof n.Field&&s.key.equals(t))return o[i]=new n.Attr(t,r),void(this._table=null)}var a=new n.Attr(t,r);this.push(a),e.put(this._table,a)},e.prototype.setSlot=function(t,e){if(0!=(this._flags&_.IMMUTABLE))throw new Error("immutable");return t=d.fromAny(t),e=d.fromAny(e),0!=(this._flags&_.ALIASED)?this._fieldCount>0?this.setSlotAliased(t,e):this.pushAliased(new n.Slot(t,e)):this._fieldCount>0?null!==this._table?this.setSlotMutable(t,e):this.updateSlotMutable(t,e):this.pushMutable(new n.Slot(t,e)),this},e.prototype.setSlotAliased=function(t,e){for(var r=this._itemCount,o=this._array,i=new Array(_.expand(r+1)),u=0;u<r;u+=1){var s=o[u];if(s instanceof n.Field&&s.key.equals(t)){for(i[u]=new n.Slot(t,e),u+=1;u<r;)i[u]=o[u],u+=1;return this._array=i,this._table=null,void(this._flags&=~_.ALIASED)}i[u]=s}i[r]=new n.Slot(t,e),this._array=i,this._table=null,this._itemCount=r+1,this._fieldCount+=1,this._flags&=~_.ALIASED},e.prototype.setSlotMutable=function(t,r){var o=this._table,i=o.length,u=Math.abs(t.hashCode()%i),s=u;do{var a=o[s];if(void 0===a)break;if(a.key.equals(t))return void(a instanceof n.Slot&&a.isMutable()?a.setValue(r):this.updateSlotMutable(t,r));s=(s+1)%i}while(s!==u);var p=new n.Slot(t,r);this.push(p),e.put(o,p)},e.prototype.updateSlotMutable=function(t,r){for(var o=this._array,i=0,u=this._itemCount;i<u;i+=1){var s=o[i];if(s instanceof n.Field&&s.key.equals(t))return o[i]=new n.Slot(t,r),void(this._table=null)}var a=new n.Slot(t,r);this.push(a),e.put(this._table,a)},e.prototype.setItem=function(t,e){if(0!=(this._flags&_.IMMUTABLE))throw new Error("immutable");e=n.fromAny(e);var r=this._itemCount;if(t<0&&(t=r+t),t<0||t>r)throw new RangeError(""+t);return 0!=(this._flags&_.ALIASED)?this.setItemAliased(t,e):this.setItemMutable(t,e),this},e.prototype.setItemAliased=function(t,e){for(var r=this._itemCount,o=this._array,i=new Array(_.expand(r)),u=0;u<r;u+=1)i[u]=o[u];var s=o[t];i[t]=e,this._array=i,this._table=null,e instanceof n.Field?s instanceof n.Field||(this._fieldCount+=1):s instanceof n.Field&&(this._fieldCount-=1),this._flags&=~_.ALIASED},e.prototype.setItemMutable=function(t,e){var r=this._array,o=r[t];r[t]=e,e instanceof n.Field?(this._table=null,o instanceof n.Field||(this._fieldCount+=1)):o instanceof n.Field&&(this._table=null,this._fieldCount-=1)},e.prototype.updated=function(t,e){t=d.fromAny(t),e=d.fromAny(e);var r=0==(this._flags&_.IMMUTABLE)?this:this.branch();return 0!=(r._flags&_.ALIASED)?r._fieldCount>0?r.setAliased(t,e):r.pushAliased(new n.Slot(t,e)):r._fieldCount>0?null!==r._table?r.setMutable(t,e):r.updateMutable(t,e):r.pushMutable(new n.Slot(t,e)),r},e.prototype.updatedAttr=function(t,e){t=d.Text.fromAny(t),e=d.fromAny(e);var r=0==(this._flags&_.IMMUTABLE)?this:this.branch();return 0!=(r._flags&_.ALIASED)?r._fieldCount>0?r.setAttrAliased(t,e):r.pushAliased(new n.Attr(t,e)):r._fieldCount>0?null!==r._table?r.setAttrMutable(t,e):r.updateAttrMutable(t,e):r.pushMutable(new n.Attr(t,e)),r},e.prototype.updatedSlot=function(t,e){t=d.fromAny(t),e=d.fromAny(e);var r=0==(this._flags&_.IMMUTABLE)?this:this.branch();return 0!=(r._flags&_.ALIASED)?r._fieldCount>0?r.setSlotAliased(t,e):r.pushAliased(new n.Slot(t,e)):r._fieldCount>0?null!==r._table?r.setSlotMutable(t,e):r.updateSlotMutable(t,e):r.pushMutable(new n.Slot(t,e)),r},e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0!=(this._flags&_.IMMUTABLE))throw new Error("immutable");return 0!=(this._flags&_.ALIASED)?this.pushAliased.apply(this,arguments):this.pushMutable.apply(this,arguments),this._itemCount},e.prototype.pushAliased=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=arguments.length,o=this._itemCount,i=this._fieldCount,u=this._array,s=new Array(_.expand(o+r));if(null!==u)for(var a=0;a<o;a+=1)s[a]=u[a];for(a=0;a<r;a+=1){var p=n.fromAny(arguments[a]);s[o]=p,o+=1,p instanceof n.Field&&(i+=1)}this._array=s,this._table=null,this._itemCount=o,this._fieldCount=i,this._flags&=~_.ALIASED},e.prototype.pushMutable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r,o=arguments.length,i=this._itemCount,u=this._fieldCount,s=this._array;if(null===s||i+o>s.length){if(r=new Array(_.expand(i+o)),null!==s)for(var a=0;a<i;a+=1)r[a]=s[a]}else r=s;for(a=0;a<o;a+=1){var p=n.fromAny(arguments[a]);r[i]=p,i+=1,p instanceof n.Field&&(u+=1,this._table=null)}this._array=r,this._itemCount=i,this._fieldCount=u},e.prototype.splice=function(t,e){void 0===e&&(e=0);for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(0!=(this._flags&_.IMMUTABLE))throw new Error("immutable");var o=this._itemCount;return t<0&&(t=o+t),t=Math.min(Math.max(0,t),o),e=Math.min(Math.max(0,e),o-t),0!=(this._flags&_.ALIASED)?this.spliceAliased.apply(this,arguments):this.spliceMutable.apply(this,arguments)},e.prototype.spliceAliased=function(t,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];for(var i=r.length,u=this._itemCount,s=this._fieldCount,a=this._array,p=new Array(_.expand(u-e+i)),h=0;h<t;h+=1)p[h]=a[h];var c=[];for(h=t;h<t+e;h+=1){var f=a[h];c.push(f),u-=1,f instanceof n.Field&&(s-=1)}for(h=t;h<u;h+=1)p[h+i]=a[h+e];for(h=0;h<i;h+=1){var l=n.fromAny(r[h]);p[h+t]=l,u+=1,l instanceof n.Field&&(s+=1)}return this._array=p,this._table=null,this._itemCount=u,this._fieldCount=s,this._flags&=~_.ALIASED,c},e.prototype.spliceMutable=function(t,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i,u=r.length,s=this._itemCount,a=this._fieldCount,p=this._array;if(null===p||s-e+u>p.length){if(i=new Array(_.expand(s-e+u)),null!==p)for(var h=0;h<t;h+=1)i[h]=p[h]}else i=p;var c=[];for(h=t;h<t+e;h+=1){var f=p[h];c.push(f),s-=1,f instanceof n.Field&&(a-=1)}if(u>e)for(h=s-1;h>=t;h-=1)i[h+u]=p[h+e];else for(h=t;h<s;h+=1)i[h+u]=p[h+e];for(h=0;h<u;h+=1){var l=n.fromAny(r[h]);i[h+t]=l,s+=1,l instanceof n.Field&&(a+=1)}return this._array=i,this._itemCount=s,this._fieldCount=a,c},e.prototype.delete=function(t){if(0!=(this._flags&_.IMMUTABLE))throw new Error("immutable");return t=d.fromAny(t),0!=(this._flags&_.ALIASED)?this.deleteAliased(t):this.deleteMutable(t)},e.prototype.deleteAliased=function(t){for(var e=this._itemCount,r=this._array,o=new Array(_.expand(e)),i=0;i<e;i+=1){var u=r[i];if(u instanceof n.Field&&u.key.equals(t)){for(var s=i+1;s<e;s+=1,i+=1)o[i]=r[s];return this._array=o,this._table=null,this._itemCount=e-1,this._fieldCount-=1,this._flags&=~_.ALIASED,u}o[i]=u}return n.absent()},e.prototype.deleteMutable=function(t){for(var e=this._itemCount,r=this._array,o=0;o<e;o+=1){var i=r[o];if(i instanceof n.Field&&i.key.equals(t)){for(var u=o+1;u<e;u+=1,o+=1)r[o]=r[u];return r[e-1]=void 0,this._table=null,this._itemCount=e-1,this._fieldCount-=1,i}}return n.absent()},e.prototype.clear=function(){if(0!=(this._flags&_.IMMUTABLE))throw new Error("immutable");this._array=null,this._table=null,this._itemCount=0,this._fieldCount=0,this._flags=0},e.prototype.isAliased=function(){return 0!=(this._flags&_.ALIASED)},e.prototype.isMutable=function(){return 0==(this._flags&_.IMMUTABLE)},e.prototype.alias=function(){this._flags|=_.ALIASED},e.prototype.branch=function(){if(0==(this._flags&(_.ALIASED|_.IMMUTABLE)))for(var t=this._array,r=0,n=this._itemCount;r<n;r+=1)t[r].alias();return this._flags|=_.ALIASED,new e(this._array,this._table,this._itemCount,this._fieldCount,_.ALIASED)},e.prototype.clone=function(){for(var t=this._itemCount,r=this._array,n=new Array(t),o=0;o<t;o+=1)n[o]=r[o].clone();return new e(n,null,t,this._fieldCount,0)},e.prototype.commit=function(){if(0==(this._flags&_.IMMUTABLE)){this._flags|=_.IMMUTABLE;for(var t=this._array,e=0,r=this._itemCount;e<r;e+=1)t[e].commit()}return this},e.prototype.hashTable=function(){var t=this._fieldCount,r=this._table;if(0!==t&&null===this._table){r=new Array(_.expand(Math.max(t,10*t/7)));for(var o=this._array,i=0,u=this._itemCount;i<u;i+=1){var s=o[i];s instanceof n.Field&&e.put(r,s)}this._table=r}return r},e.put=function(t,e){if(null!==t){var r=t.length,n=Math.abs(e.key.hashCode()%r),o=n;do{var i=t[o];if(void 0===i)return void(t[o]=e);if(e.key.equals(i.key))return void(t[o]=e);o=(o+1)%r}while(o!==n);throw new Error}},e.prototype.evaluate=function(t){t=h.fromAny(t);var e=this._array,r=this._itemCount,n=_.create(r);t.pushScope(n);for(var o=!1,i=0;i<r;i+=1){var u=e[i],s=u.evaluate(t);s.isDefined()&&n.push(s),u!==s&&(o=!0)}return t.popScope(),o?n:this},e.prototype.substitute=function(t){t=h.fromAny(t);var e=this._array,r=this._itemCount,n=_.create(r);t.pushScope(n);for(var o=!1,i=0;i<r;i+=1){var u=e[i],s=u.substitute(t);s.isDefined()&&n.push(s),u!==s&&(o=!0)}return t.popScope(),o?n:this},e.prototype.subRecord=function(t,e){var r=this._itemCount;if(void 0===t?t=0:t<0&&(t=r+t),void 0===e?e=r:e<0&&(e=r+e),t<0||e>r||t>e)throw new RangeError(t+", "+e);return new _.RecordMapView(this,t,e)},e.prototype.forEach=function(t,e){for(var r=this._array,n=0,o=this._itemCount;n<o;n+=1){var i=t.call(e,r[n],n);if(void 0!==i)return i}},e.empty=function(){return e._empty||(e._empty=new e(null,null,0,0,_.ALIASED|_.IMMUTABLE)),e._empty},e.create=function(t){return void 0===t?new e(null,null,0,0,_.ALIASED):new e(new Array(t),null,0,0,0)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=arguments.length;if(0===o)return new e(null,null,0,0,_.ALIASED);for(var i=new Array(o),u=0,s=0,a=0;a<o;a+=1){var p=n.fromAny(arguments[a]);i[a]=p,u+=1,p instanceof n.Field&&(s+=1)}return new e(i,null,u,s,0)},e}(_);n.RecordMap=m;var v=function(t){function e(e,r,n){var o=t.call(this)||this;return o._record=e,o._lower=r,o._upper=n,o}return i(e,t),e.prototype.isEmpty=function(){return this._lower===this._upper},e.prototype.isArray=function(){for(var t=this._record._array,e=this._lower,r=this._upper;e<r;e+=1)if(t[e]instanceof n.Field)return!1;return!0},e.prototype.isObject=function(){for(var t=this._record._array,e=this._lower,r=this._upper;e<r;e+=1)if(t[e]instanceof d)return!1;return!0},Object.defineProperty(e.prototype,"length",{get:function(){return this._upper-this._lower},enumerable:!0,configurable:!0}),e.prototype.fieldCount=function(){for(var t=this._record._array,e=0,r=this._lower,o=this._upper;r<o;r+=1)t[r]instanceof n.Field&&(e+=1);return e},e.prototype.valueCount=function(){for(var t=0,e=this._record._array,r=this._lower,n=this._upper;r<n;r+=1)e[r]instanceof d&&(t+=1);return t},e.prototype.isConstant=function(){for(var t=this._record._array,e=this._lower,r=this._upper;e<r;e+=1)if(!t[e].isConstant())return!1;return!0},e.prototype.tag=function(){if(this.length>0){var t=this._record._array[this._lower];if(t instanceof n.Attr)return t.key.value}},e.prototype.target=function(){for(var t,e,r=!1,o=this._record._array,i=this._lower,u=this._upper;i<u;i+=1){var s=o[i];s instanceof n.Attr?r=!0:void 0===t&&s instanceof d?t=s:(void 0===e&&(e=_.create(),void 0!==t&&e.push(t)),e.push(s))}return void 0===t?d.extant():void 0===e?t:r?e:this},e.prototype.head=function(){return this.length>0?this._record._array[this._lower]:n.absent()},e.prototype.tail=function(){return this.length>0?new e(this._record,this._lower+1,this._upper):_.empty()},e.prototype.body=function(){var t=this.length;if(t>2)return new e(this._record,this._lower+1,this._upper).branch();if(2===t){var r=this._record._array[this._lower+1];return r instanceof d?r:_.of(r)}return d.absent()},e.prototype.indexOf=function(t,e){void 0===e&&(e=0),t=n.fromAny(t);var r=this._record._array,o=this.length;for(e<0&&(e=Math.max(0,o+e)),e=this._lower+e;e<this._upper;){if(t.equals(r[e]))return e-this._lower;e+=1}return-1},e.prototype.lastIndexOf=function(t,e){t=n.fromAny(t);var r=this._record._array,o=this.length;for(void 0===e?e=o-1:e<0&&(e=o+e),e=this._lower+Math.min(e,o-1);e>=this._lower;){if(t.equals(r[e]))return e-this._lower;e-=1}return-1},e.prototype.getItem=function(t){t instanceof n.Num&&(t=t.value);var e=this.length;return t<0&&(t=e+t),t>=0&&t<e?this._record._array[this._lower+t]:n.absent()},e.prototype.setItem=function(t,e){if(0!=(this._record._flags&_.IMMUTABLE))throw new Error("immutable");e=n.fromAny(e);var r=this.length;if(t<0&&(t=r+t),t<0||t>r)throw new RangeError(""+t);return 0!=(this._record._flags&_.ALIASED)?this.setItemAliased(t,e):this.setItemMutable(t,e),this},e.prototype.setItemAliased=function(t,e){for(var r=this._record._itemCount,o=this._record._array,i=new Array(_.expand(r)),u=0;u<r;u+=1)i[u]=o[u];var s=o[this._lower+t];i[this._lower+t]=e,this._record._array=i,this._record._table=null,e instanceof n.Field?s instanceof n.Field||(this._record._fieldCount+=1):s instanceof n.Field&&(this._record._fieldCount-=1),this._record._flags&=~_.ALIASED},e.prototype.setItemMutable=function(t,e){var r=this._record._array,o=r[this._lower+t];r[this._lower+t]=e,e instanceof n.Field?(this._record._table=null,o instanceof n.Field||(this._record._fieldCount+=1)):o instanceof n.Field&&(this._record._table=null,this._record._fieldCount-=1)},e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0!=(this._record._flags&_.IMMUTABLE))throw new Error("immutable");return 0!=(this._record._flags&_.ALIASED)?this.pushAliased.apply(this,arguments):this.pushMutable.apply(this,arguments),this.length},e.prototype.pushAliased=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length,o=this._record._itemCount,i=this._record._fieldCount,u=this._record._array,s=new Array(_.expand(o+r));if(null!==u){for(var a=0;a<this._upper;a+=1)s[a]=u[a];for(a=this._upper;a<o;a+=1)s[a+r]=u[a]}for(a=0;a<r;a+=1){var p=n.fromAny(t[a]);s[a+this._upper]=p,o+=1,p instanceof n.Field&&(i+=1)}this._record._array=s,this._record._table=null,this._record._itemCount=o,this._record._fieldCount=i,this._record._flags&=~_.ALIASED,this._upper+=r},e.prototype.pushMutable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r,o=t.length,i=this._record._itemCount,u=this._record._fieldCount,s=this._record._array;if(null===s||i+o>s.length){if(r=new Array(_.expand(i+o)),null!==s)for(var a=0;a<this._upper;a+=1)r[a]=s[a]}else r=s;for(a=i-1;a>=this._upper;a-=1)r[a+o]=s[a];for(a=0;a<o;a+=1){var p=n.fromAny(t[a]);r[a+this._upper]=p,i+=1,p instanceof n.Field&&(u+=1,this._record._table=null)}this._record._array=r,this._record._itemCount=i,this._record._fieldCount=u,this._upper+=o},e.prototype.splice=function(t,e){var r,n;void 0===e&&(e=0);for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];if(0!=(this._record._flags&_.IMMUTABLE))throw new Error("immutable");var s,a=this.length;return t<0&&(t=a+t),t=Math.min(Math.max(0,t),a),e=Math.min(Math.max(0,e),a-t),s=0!=(this._record._flags&_.ALIASED)?(r=this._record).spliceAliased.apply(r,u([this._lower+t,e],o)):(n=this._record).spliceMutable.apply(n,u([this._lower+t,e],o)),this._upper+=o.length-s.length,s},e.prototype.delete=function(t){if(0!=(this._record._flags&_.IMMUTABLE))throw new Error("immutable");return t=d.fromAny(t),0!=(this._record._flags&_.ALIASED)?this.deleteAliased(t):this.deleteMutable(t)},e.prototype.deleteAliased=function(t){for(var e=this._record._itemCount,r=this._record._array,o=new Array(_.expand(e)),i=this._lower;i<this._upper;i+=1){var u=r[i];if(u instanceof n.Field&&u.key.equals(t)){for(var s=i+1;s<e;s+=1,i+=1)o[i]=r[s];return this._record._array=o,this._record._table=null,this._record._itemCount=e-1,this._record._fieldCount-=1,this._record._flags&=~_.ALIASED,this._upper-=1,u}o[i]=u}return n.absent()},e.prototype.deleteMutable=function(t){for(var e=this._record._itemCount,r=this._record._array,o=this._lower;o<this._upper;o+=1){var i=r[o];if(i instanceof n.Field&&i.key.equals(t)){for(var u=o+1;u<e;u+=1,o+=1)r[o]=r[u];return r[e-1]=void 0,this._record._table=null,this._record._itemCount-=1,this._record._fieldCount-=1,this._upper-=1,i}}return n.absent()},e.prototype.clear=function(){if(0!=(this._record._flags&_.IMMUTABLE))throw new Error("immutable");0!=(this._record._flags&_.ALIASED)?this.clearAliased():this.clearMutable()},e.prototype.clearAliased=function(){for(var t=this._record._itemCount,e=this._record._fieldCount,r=t-this.length,o=this._record._array,i=new Array(_.expand(r)),u=0;u<this._lower;)i[u]=o[u],u+=1;for(;u<this._upper;)o[u]instanceof n.Field&&(e-=1),u+=1;u=this._lower;for(var s=this._upper;s<t;)i[u]=o[s],u+=1,s+=1;this._record._array=i,this._record._table=null,this._record._itemCount=r,this._record._fieldCount=e,this._record._flags&=~_.ALIASED,this._upper=this._lower},e.prototype.clearMutable=function(){for(var t=this._record._itemCount,e=this._record._fieldCount,r=this._record._array,o=this._lower;o<this._upper;)r[o]instanceof n.Field&&(e-=1),o+=1;o=this._lower;for(var i=this._upper;i<t;){var u=r[i];u instanceof n.Field&&(this._record._table=null),r[o]=u,o+=1,i+=1}for(this._record._itemCount=o,this._record._fieldCount=e;o<t;)r[o]=void 0,o+=1;this._upper=this._lower},e.prototype.isAliased=function(){return 0!=(this._record._flags&_.ALIASED)},e.prototype.isMutable=function(){return 0==(this._record._flags&_.IMMUTABLE)},e.prototype.alias=function(){this._record._flags|=_.ALIASED},e.prototype.branch=function(){for(var t=this.length,e=0,r=this._record._array,o=new Array(_.expand(t)),i=this._lower,u=0;u<t;){var s=r[i];o[u]=s,s instanceof n.Field&&(e+=1),i+=1,u+=1}return new m(o,null,t,e,0)},e.prototype.clone=function(){for(var t=this.length,e=0,r=this._record._array,o=new Array(_.expand(t)),i=this._lower,u=0;u<t;){var s=r[i];o[u]=s.clone(),s instanceof n.Field&&(e+=1),i+=1,u+=1}return new m(o,null,t,e,0)},e.prototype.commit=function(){return this._record.commit(),this},e.prototype.subRecord=function(t,r){var n=this.length;if(void 0===t?t=0:t<0&&(t=n+t),void 0===r?r=n:r<0&&(r=n+r),t<0||r>n||t>r)throw new RangeError(t+", "+r);return new e(this._record,this._lower+t,this._upper+r)},e.prototype.forEach=function(t,e){for(var r=this._record._array,n=this._lower,o=this._upper;n<o;n+=1){var i=t.call(e,r[n],n);if(void 0!==i)return i}},e}(_);n.RecordMapView=v;var w=function(t){function e(e,r){var n=t.call(this)||this;return n._data=e,n._settings=r,n}return i(e,t),e.prototype.isCont=function(){return!0},e.prototype.isFull=function(){return!1},e.prototype.isDone=function(){return!1},e.prototype.isError=function(){return!1},e.prototype.isPart=function(t){return void 0!==t&&this},e.prototype.write=function(t){if("number"==typeof t)return this._data.addByte(t),this;throw new TypeError(""+t)},e.prototype.writeln=function(t){throw new TypeError(""+t)},e.prototype.settings=function(t){return void 0===t?this._settings:(this._settings=r.OutputSettings.fromAny(t),this)},e.prototype.bind=function(){return this._data},e.prototype.clone=function(){return new e(this._data.branch(),this._settings)},e}(r.Output),b=function(t){function n(e,r,n){var o=t.call(this)||this;return o._array=e,o._size=r,o._flags=n,o}return i(n,t),n.prototype.isConstant=function(){return!0},Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),n.prototype.getByte=function(t){if(t<0||t>=this.size)throw new RangeError(""+t);return this._array[t]},n.prototype.setByte=function(t,e){var r=this._flags;if(0!=(r&n.IMMUTABLE))throw new Error("immutable");if(t<0||t>=this._size)throw new RangeError(""+t);return 0!=(r&n.ALIASED)?this.setByteAliased(t,e):this.setByteMutable(t,e)},n.prototype.setByteAliased=function(t,e){var r=this.size,o=this._array,i=new Uint8Array(n.expand(r));return i.set(o,0),i[t]=e,this._array=i,this._flags&=~n.ALIASED,this},n.prototype.setByteMutable=function(t,e){return this._array[t]=e,this},n.prototype.addByte=function(t){var e=this._flags;if(0!=(e&n.IMMUTABLE))throw new Error("immutable");return 0!=(e&n.ALIASED)?this.addByteAliased(t):this.addByteMutable(t)},n.prototype.addByteAliased=function(t){var e=this.size,r=this._array,o=new Uint8Array(n.expand(e+1));return null!=r&&o.set(r,0),o[e]=t,this._array=o,this._size=e+1,this._flags&=~n.ALIASED,this},n.prototype.addByteMutable=function(t){var e,r=this.size,o=this._array;return null===o||r+1>o.length?(e=new Uint8Array(n.expand(r+1)),null!==o&&e.set(o,0),this._array=e):e=o,e[r]=t,this._size=r+1,this},n.prototype.addData=function(t){var e=t._array;if(null!==e){var r=t._size;return e.length>r&&(e=e.slice(0,r)),this.addUint8Array(e)}return this},n.prototype.addUint8Array=function(t){var e=this._flags;if(0!=(e&n.IMMUTABLE))throw new Error("immutable");return 0!=(e&n.ALIASED)?this.addUint8ArrayAliased(t):this.addUint8ArrayMutable(t)},n.prototype.addUint8ArrayAliased=function(t){var e=t.length;if(0===e)return this;var r=this.size,o=this._array,i=new Uint8Array(n.expand(r+e));return null!==o&&i.set(o,0),i.set(t,r),this._array=i,this._size=r+e,this._flags&=~n.ALIASED,this},n.prototype.addUint8ArrayMutable=function(t){var e=t.length;if(0===e)return this;var r,o=this.size,i=this._array;return null===i||o+e>i.length?(r=new Uint8Array(n.expand(o+e)),null!==i&&r.set(i,0),this._array=r):r=i,r.set(t,o),this._size=o+e,this},n.prototype.clear=function(){if(0!=(this._flags&n.IMMUTABLE))throw new Error("immutable");this._array=null,this._size=0,this._flags=n.ALIASED},n.prototype.toUint8Array=function(){var t=this._array,e=this._flags;if(0!=(e&n.IMMUTABLE))return null!==t?t.slice(0):new Uint8Array(0);if(0!=(e&n.ALIASED)||this._size!==t.length){var r=null!==t?t.slice(0):new Uint8Array(0);return this._array=r,this._flags&=~n.ALIASED,r}return t},n.prototype.asUint8Array=function(){var t;return this._array&&this._size>0?(t=this._array).length!==this._size&&(t=new Uint8Array(t.buffer,t.byteOffset,this._size)):t=void 0,t},n.prototype.toAny=function(){return this.toUint8Array()},n.prototype.isAliased=function(){return 0!=(this._flags&n.ALIASED)},n.prototype.isMutable=function(){return 0==(this._flags&n.IMMUTABLE)},n.prototype.branch=function(){return this._flags|=n.ALIASED,new n(this._array,this._size,n.ALIASED)},n.prototype.clone=function(){return this.branch()},n.prototype.commit=function(){return this._flags|=n.IMMUTABLE,this},n.prototype.writeBase16=function(t,e){void 0===e&&(e=r.Base16.uppercase());var n=this._array,o=this._size;return null!==n&&0!==o?(n.length!==o&&(n=n.slice(0,o)),e.writeUint8Array(n,t)):r.Writer.done()},n.prototype.toBase16=function(t){void 0===t&&(t=r.Base16.uppercase());var e=r.Unicode.stringOutput();return this.writeBase16(e,t),e.bind()},n.prototype.writeBase64=function(t,e){void 0===e&&(e=r.Base64.standard());var n=this._array,o=this._size;return null!==n&&0!==o?(n.length!==o&&(n=n.slice(0,o)),e.writeUint8Array(n,t)):r.Writer.done()},n.prototype.toBase64=function(t){void 0===t&&(t=r.Base64.standard());var e=r.Unicode.stringOutput();return this.writeBase64(e,t),e.bind()},n.prototype.typeOrder=function(){return 4},n.prototype.compareTo=function(t){if(t instanceof n){var r=this._array,o=t._array,i=this._size,u=t._size,s=0,a=0;do{if(!(a<i&&a<u))break;s=r[a]-o[a],a+=1}while(0===s);return s>0?1:s<0?-1:i>u?1:i<u?-1:0}return e.Objects.compare(this.typeOrder(),t.typeOrder())},n.prototype.equals=function(t){if(this===t)return!0;if(t instanceof n){var e=this._array,r=t._array,o=this._size;if(o!==t._size)return!1;for(var i=0;i<o;i+=1)if(e[i]!==r[i])return!1;return!0}return!1},n.prototype.hashCode=function(){return void 0===n._hashSeed&&(n._hashSeed=e.Murmur3.seed(n)),e.Murmur3.mash(e.Murmur3.mix(n._hashSeed,this._array||new Uint8Array(0)))},n.prototype.debug=function(t){t=t.write("Data").write(46),0===this._size?t=t.write("empty").write(40).write(41):(t=t.write("base16").write(40).write(34),this.writeBase16(t),t=t.write(34).write(41))},n.prototype.display=function(t){this.debug(t)},n.output=function(t){return t instanceof n||(t=n.create(t)),new w(t,r.OutputSettings.standard())},n.empty=function(){return null==n._empty&&(n._empty=new n(null,0,n.ALIASED|n.IMMUTABLE)),n._empty},n.create=function(t){return void 0===t?new n(null,0,n.ALIASED):new n(new Uint8Array(t),0,0)},n.wrap=function(t){return new n(t,t.length,n.ALIASED)},n.fromBase16=function(t){return"string"==typeof t&&(t=r.Unicode.stringInput(t)),r.Base16.parse(t,n.output()).bind()},n.fromBase64=function(t,e){return void 0===e&&(e=r.Base64.standard()),"string"==typeof t&&(t=r.Unicode.stringInput(t)),e.parse(t,n.output()).bind()},n.fromAny=function(t){if(t instanceof n)return t;if(t instanceof Uint8Array)return n.wrap(t);throw new TypeError(""+t)},n.random=function(t){var r=new Uint8Array(t);return e.Random.fillBytes(r),n.wrap(r)},n.expand=function(t){return t=Math.max(32,t)-1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1},n.ALIASED=1,n.IMMUTABLE=2,n}(d);n.Data=b;var A=function(t){function e(e,r){var n=t.call(this)||this;return n._string=e,n._settings=r,n}return i(e,t),e.prototype.isCont=function(){return!0},e.prototype.isFull=function(){return!1},e.prototype.isDone=function(){return!1},e.prototype.isError=function(){return!1},e.prototype.isPart=function(t){return void 0!==t&&this},e.prototype.write=function(t){if("number"==typeof t)if(t>=0&&t<=55295||t>=57344&&t<=65535)t=String.fromCharCode(t);else if(t>=65536&&t<=1114111){var e=t-65536;t=String.fromCharCode(55296|e>>>10,56320|1023&e)}else t="�";return this._string+=t,this},e.prototype.settings=function(t){return void 0===t?this._settings:(this._settings=r.OutputSettings.fromAny(t),this)},e.prototype.bind=function(){return g.from(this._string)},e.prototype.clone=function(){return new e(this._string,this._settings)},e.prototype.toString=function(){return this._string},e}(r.Output),g=function(t){function o(e){var r=t.call(this)||this;return r._value=e,r}return i(o,t),o.prototype.isConstant=function(){return!0},Object.defineProperty(o.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){return this._value.length},enumerable:!0,configurable:!0}),o.prototype.stringValue=function(t){return this._value},o.prototype.numberValue=function(t){try{return n.Num.from(this._value).numberValue()}catch(e){return t}},o.prototype.booleanValue=function(t){return"true"===this._value||"false"!==this._value&&t},o.prototype.toAny=function(){return this._value},o.prototype.valueOf=function(){return this._value},o.prototype.plus=function(e){return(e=n.fromAny(e))instanceof o?o.from(this._value+e._value):t.prototype.plus.call(this,e)},o.prototype.branch=function(){return this},o.prototype.clone=function(){return this},o.prototype.commit=function(){return this},o.prototype.typeOrder=function(){return 5},o.prototype.compareTo=function(t){if(t instanceof o){var r=this._value.localeCompare(t._value);return r<0?-1:r>0?1:0}return e.Objects.compare(this.typeOrder(),t.typeOrder())},o.prototype.equals=function(t){return this===t||t instanceof o&&this._value===t._value},o.prototype.hashCode=function(){return void 0===this._hashCode&&(this._hashCode=e.Murmur3.hash(this._value)),this._hashCode},o.prototype.debug=function(t){t=t.write("Text").write(46),t=0===this._value.length?t.write("empty").write(40).write(41):t.write("from").write(40).debug(this._value).write(41)},o.prototype.display=function(t){r.Format.debug(this._value,t)},o.prototype.toString=function(){return this._value},o.output=function(t){return void 0===t&&(t=r.OutputSettings.standard()),new A("",t)},o.empty=function(){return o._empty||(o._empty=new o("")),o._empty},o.from=function(t){var e=t.length;if(0===e)return o.empty();var r=new o(t);return e<=64&&(r=o.cache().put(r)),r},o.fromAny=function(t){if(t instanceof o)return t;if("string"==typeof t)return o.from(t);throw new TypeError(""+t)},o.cache=function(){if(null==o._cache){o._cache=new e.HashGenCacheSet(128)}return o._cache},o}(d);n.Text=g;var S=function(t){function o(e,r){void 0===r&&(r=0);var n=t.call(this)||this;return n._value=e,n._flags=r,n}return i(o,t),o.prototype.isConstant=function(){return!0},Object.defineProperty(o.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),o.prototype.isNaN=function(){return isNaN(this._value)},o.prototype.isInfinite=function(){return!isNaN(this._value)&&!isFinite(this._value)},o.prototype.isUint32=function(){return 0!=(this._flags&o.UINT32)},o.prototype.isUint64=function(){return 0!=(this._flags&o.UINT64)},o.prototype.stringValue=function(t){return""+this._value},o.prototype.numberValue=function(t){return this._value},o.prototype.booleanValue=function(t){return!!this._value},o.prototype.toAny=function(){return this._value},o.prototype.valueOf=function(){return this._value},o.prototype.bitwiseOr=function(e){return(e=n.fromAny(e))instanceof o?o.from((this._value|e._value)>>>0):t.prototype.bitwiseOr.call(this,e)},o.prototype.bitwiseXor=function(e){return(e=n.fromAny(e))instanceof o?o.from((this._value^e._value)>>>0):t.prototype.bitwiseXor.call(this,e)},o.prototype.bitwiseAnd=function(e){return(e=n.fromAny(e))instanceof o?o.from((this._value&e._value)>>>0):t.prototype.bitwiseAnd.call(this,e)},o.prototype.plus=function(e){return(e=n.fromAny(e))instanceof o?o.from(this._value+e._value):t.prototype.plus.call(this,e)},o.prototype.minus=function(e){return(e=n.fromAny(e))instanceof o?o.from(this._value-e._value):t.prototype.minus.call(this,e)},o.prototype.times=function(e){return(e=n.fromAny(e))instanceof o?o.from(this._value*e._value):t.prototype.times.call(this,e)},o.prototype.divide=function(e){return(e=n.fromAny(e))instanceof o?o.from(this._value/e._value):t.prototype.divide.call(this,e)},o.prototype.modulo=function(e){return(e=n.fromAny(e))instanceof o?o.from(this._value%e._value):t.prototype.modulo.call(this,e)},o.prototype.bitwiseNot=function(){return o.from(~this._value>>>0)},o.prototype.negative=function(){return o.from(-this._value)},o.prototype.positive=function(){return this},o.prototype.inverse=function(){return o.from(1/this._value)},o.prototype.abs=function(){return o.from(Math.abs(this._value))},o.prototype.ceil=function(){return o.from(Math.ceil(this._value))},o.prototype.floor=function(){return o.from(Math.floor(this._value))},o.prototype.round=function(){return o.from(Math.round(this._value))},o.prototype.sqrt=function(){return o.from(Math.sqrt(this._value))},o.prototype.pow=function(t){return t=o.fromAny(t),o.from(Math.pow(this._value,t._value))},o.prototype.max=function(t){return this.compareTo(t)>=0?this:t},o.prototype.min=function(t){return this.compareTo(t)<=0?this:t},o.prototype.typeOrder=function(){return 6},o.prototype.compareTo=function(t){if(t instanceof o){var r=this._value,n=t._value;return r<n?-1:r>n?1:isNaN(n)?isNaN(r)?0:-1:isNaN(r)?1:0}return e.Objects.compare(this.typeOrder(),t.typeOrder())},o.prototype.equals=function(t){if(this===t)return!0;if(t instanceof o){var e=this._value,r=t._value;return e===r||isNaN(e)&&isNaN(r)}return!1},o.prototype.hashCode=function(){return e.Murmur3.hash(this._value)},o.prototype.debug=function(t){t=t.write("Num").write(46).write("from").write(40).display(this).write(41)},o.prototype.display=function(t){r.Format.displayNumber(this._value,t)},o.positiveZero=function(){return void 0===o._positiveZero&&(o._positiveZero=new o(0)),o._positiveZero},o.negativeZero=function(){return void 0===o._negativeZero&&(o._negativeZero=new o(-0)),o._negativeZero},o.positiveOne=function(){return void 0===o._positiveOne&&(o._positiveOne=new o(1)),o._positiveOne},o.negativeOne=function(){return void 0===o._negativeOne&&(o._negativeOne=new o(-1)),o._negativeOne},o.nan=function(){return void 0===o._nan&&(o._nan=new o(NaN)),o._nan},o.uint32=function(t){return new o(t,o.UINT32)},o.uint64=function(t){return new o(t,o.UINT64)},o.from=function(t){if("number"==typeof t)return 0===t?1/t==-1/0?o.negativeZero():o.positiveZero():1===t?o.positiveOne():-1===t?o.negativeOne():isNaN(t)?o.nan():o.cache().put(new o(t));if("string"==typeof t){if("NaN"===t)return o.nan();var e=+t;if(isFinite(e))return o.from(e);throw new Error(t)}throw new TypeError(""+t)},o.fromAny=function(t){if(t instanceof o)return t;if("number"==typeof t)return o.from(t);throw new TypeError(""+t)},o.cache=function(){if(null==o._cache){o._cache=new e.HashGenCacheSet(16)}return o._cache},o.TYPE_MASK=3,o.UINT32=1,o.UINT64=2,o}(d);n.Num=S;var O=function(t){function r(e){var r=t.call(this)||this;return r._value=e,r}return i(r,t),r.prototype.isConstant=function(){return!0},Object.defineProperty(r.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),r.prototype.stringValue=function(t){return this._value?"true":"false"},r.prototype.booleanValue=function(t){return this._value},r.prototype.toAny=function(){return this._value},r.prototype.valueOf=function(){return this._value},r.prototype.conditional=function(t,e){return this._value?n.fromAny(t):n.fromAny(e)},r.prototype.or=function(t){return this._value?this:n.fromAny(t)},r.prototype.and=function(t){return this._value?n.fromAny(t):this},r.prototype.not=function(){return r.from(!this._value)},r.prototype.typeOrder=function(){return 7},r.prototype.compareTo=function(t){return t instanceof r?this._value&&!t._value?-1:!this._value&&t._value?1:0:e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&this._value===t._value},r.prototype.hashCode=function(){return void 0===this._hashCode&&(this._hashCode=e.Murmur3.hash(this._value?"true":"false")),this._hashCode},r.prototype.debug=function(t){t=t.write("Bool").write(46).write("from").write(40).write(this._value?"true":"false").write(41)},r.prototype.display=function(t){t=t.write(this._value?"true":"false")},r.from=function(t){return t?r.True:r.False},r.fromAny=function(t){if(t instanceof r)return t;if("boolean"==typeof t)return r.from(t);throw new TypeError(""+t)},r.True=new r(!0),r.False=new r(!1),r}(d);n.Bool=O;var M=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.conditional=function(t,e){return t=n.fromAny(t),e=n.fromAny(e),new n.ConditionalOperator(this,t,e)},e.prototype.or=function(t){return t=n.fromAny(t),new n.OrOperator(this,t)},e.prototype.and=function(t){return t=n.fromAny(t),new n.AndOperator(this,t)},e.prototype.bitwiseOr=function(t){return t=n.fromAny(t),new n.BitwiseOrOperator(this,t)},e.prototype.bitwiseXor=function(t){return t=n.fromAny(t),new n.BitwiseXorOperator(this,t)},e.prototype.bitwiseAnd=function(t){return t=n.fromAny(t),new n.BitwiseAndOperator(this,t)},e.prototype.lt=function(t){return t=n.fromAny(t),new n.LtOperator(this,t)},e.prototype.le=function(t){return t=n.fromAny(t),new n.LeOperator(this,t)},e.prototype.eq=function(t){return t=n.fromAny(t),new n.EqOperator(this,t)},e.prototype.ne=function(t){return t=n.fromAny(t),new n.NeOperator(this,t)},e.prototype.ge=function(t){return t=n.fromAny(t),new n.GeOperator(this,t)},e.prototype.gt=function(t){return t=n.fromAny(t),new n.GtOperator(this,t)},e.prototype.plus=function(t){return t=n.fromAny(t),new n.PlusOperator(this,t)},e.prototype.minus=function(t){return t=n.fromAny(t),new n.MinusOperator(this,t)},e.prototype.times=function(t){return t=n.fromAny(t),new n.TimesOperator(this,t)},e.prototype.divide=function(t){return t=n.fromAny(t),new n.DivideOperator(this,t)},e.prototype.modulo=function(t){return t=n.fromAny(t),new n.ModuloOperator(this,t)},e.prototype.not=function(){return new n.NotOperator(this)},e.prototype.bitwiseNot=function(){return new n.BitwiseNotOperator(this)},e.prototype.negative=function(){return new n.NegativeOperator(this)},e.prototype.positive=function(){return new n.PositiveOperator(this)},e.prototype.inverse=function(){return new n.DivideOperator(n.Num.positiveOne(),this)},e.prototype.toAny=function(){return this},e}(d);n.Expression=M;var T=function(t){function e(){return t.call(this)||this}return i(e,t),e}(M);n.Operator=T;var C=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.isConstant=function(){return!1},e.prototype.evaluate=function(t){t=h.fromAny(t);var e=n.Record.create();return this.forSelected(t,(function(t){var r=t.peekScope();r&&e.push(r)}),this),e.isEmpty()?n.absent():e.flattened()},e.prototype.get=function(t){return t=d.fromAny(t),this.andThen(new n.GetSelector(t,e.identity()))},e.prototype.getAttr=function(t){return t=n.Text.fromAny(t),this.andThen(new n.GetAttrSelector(t,e.identity()))},e.prototype.getItem=function(t){return t=n.Num.fromAny(t),this.andThen(new n.GetItemSelector(t,e.identity()))},e.prototype.keys=function(){return this.andThen(e.keys())},e.prototype.values=function(){return this.andThen(e.values())},e.prototype.children=function(){return this.andThen(e.children())},e.prototype.descendants=function(){return this.andThen(e.descendants())},e.prototype.filter=function(t){return 0===arguments.length?new n.FilterSelector(this,e.identity()):(t=n.fromAny(t),this.andThen(t.filter()))},e.prototype.invoke=function(t){return new n.InvokeOperator(this,t)},e.prototype.precedence=function(){return 11},e.prototype.debug=function(t){t=t.write("Selector").write(46).write("identity").write(40).write(41),this.debugThen(t)},e.identity=function(){return e._identity},e.get=function(t){return t=d.fromAny(t),new n.GetSelector(t,e.identity())},e.getAttr=function(t){return t=n.Text.fromAny(t),new n.GetAttrSelector(t,e.identity())},e.getItem=function(t){return t=n.Num.fromAny(t),new n.GetItemSelector(t,e.identity())},e.keys=function(){return e._keys||(e._keys=new n.KeysSelector(e.identity())),e._keys},e.values=function(){return e._values||(e._values=new n.ValuesSelector(e.identity())),e._values},e.children=function(){return e._children||(e._children=new n.ChildrenSelector(e.identity())),e._children},e.descendants=function(){return e._descendants||(e._descendants=new n.DescendantsSelector(e.identity())),e._descendants},e.literal=function(t){return(t=n.fromAny(t))instanceof e||(t=new n.LiteralSelector(t,e.identity())),t},e}(M);n.Selector=C;var x=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.expand=function(t,e,r){},e.prototype.isConstant=function(){return!1},e}(M);n.Func=x;var k=function(t){function r(){return t.call(this)||this}return i(r,t),r.prototype.isDefined=function(){return!0},r.prototype.isDistinct=function(){return!1},r.prototype.isConstant=function(){return!0},r.prototype.unflattened=function(){return d.Record.empty()},r.prototype.not=function(){return d.absent()},r.prototype.stringValue=function(t){return""},r.prototype.booleanValue=function(t){return!0},r.prototype.toAny=function(){return null},r.prototype.typeOrder=function(){return 98},r.prototype.compareTo=function(t){return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),r._hashSeed},r.prototype.debug=function(t){t=t.write("Value").write(46).write("extant").write(40).write(41)},r.prototype.display=function(t){t=t.write("null")},r.extant=function(){return r._extant},r.fromAny=function(t){if(t instanceof r)return t;if(null===t)return r.extant();throw new TypeError(""+t)},r._extant=new r,r}(d);n.Extant=k;var E=function(t){function r(){return t.call(this)||this}return i(r,t),r.prototype.isDefined=function(){return!1},r.prototype.isDistinct=function(){return!1},r.prototype.isConstant=function(){return!0},r.prototype.unflattened=function(){return d.Record.empty()},r.prototype.updated=function(t,e){return d.Record.of(n.Slot.of(t,e))},r.prototype.updatedAttr=function(t,e){return d.Record.of(n.Attr.of(t,e))},r.prototype.updatedSlot=function(t,e){return d.Record.of(n.Slot.of(t,e))},r.prototype.appended=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d.Record.of(t)},r.prototype.prepended=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d.Record.of(t)},r.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=d.Record.create(),o=0,i=arguments.length;o<i;o+=1)n.fromAny(arguments[o]).forEach((function(t){r.push(t)}));return r},r.prototype.cond=function(t,e){return n.fromAny(e)},r.prototype.or=function(t){return n.fromAny(t)},r.prototype.and=function(t){return this},r.prototype.not=function(){return d.extant()},r.prototype.booleanValue=function(t){return!1},r.prototype.toAny=function(){},r.prototype.forEach=function(t,e){},r.prototype.iterator=function(){return e.Cursor.empty()},r.prototype.typeOrder=function(){return 99},r.prototype.compareTo=function(t){return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),r._hashSeed},r.prototype.debug=function(t){t=t.write("Value").write(46).write("absent").write(40).write(41)},r.prototype.display=function(t){t=t.write("undefined")},r.absent=function(){return r._absent},r.fromAny=function(t){if(t instanceof r)return t;if(void 0===t)return r.absent();throw new TypeError(""+t)},r._absent=new r,r}(d);n.Absent=E;var q=function(t){function e(r){var n=t.call(this,r)||this;return n.__proto__=e.prototype,n}return i(e,t),e}(Error),D=function(){function t(){}return t.prototype.tag=function(e){return 0===arguments.length?void 0:void 0!==e?new t.TagForm(e,this):this},t.prototype.unit=function(e){return 0===arguments.length?void 0:void 0!==e?new t.UnitForm(e,this):this},t.forString=function(){return t._stringForm||(t._stringForm=new t.StringForm("")),t._stringForm},t.forNumber=function(){return t._numberForm||(t._numberForm=new t.NumberForm(0)),t._numberForm},t.forBoolean=function(){return t._booleanForm||(t._booleanForm=new t.BooleanForm(!1)),t._booleanForm},t.forAny=function(){return t._anyForm||(t._anyForm=new t.AnyForm(void 0)),t._anyForm},t.forItem=function(){return t._itemForm||(t._itemForm=new t.ItemForm(n.absent())),t._itemForm},t.forValue=function(){return t._valueForm||(t._valueForm=new t.ValueForm(d.absent())),t._valueForm},t}(),V=function(t){function e(e,r){var n=t.call(this)||this;return n._operand1=e,n._operand2=r,n}return i(e,t),e.prototype.operand1=function(){return this._operand1},e.prototype.operand2=function(){return this._operand2},e.prototype.isConstant=function(){return this._operand1.isConstant()&&this._operand2.isConstant()},e}(T);n.BinaryOperator=V;var I=function(t){function e(e){var r=t.call(this)||this;return r._operand=e,r}return i(e,t),e.prototype.operand=function(){return this._operand},e.prototype.isConstant=function(){return this._operand.isConstant()},e}(T);n.UnaryOperator=I;var F=function(t){function r(e,r,n){var o=t.call(this)||this;return o._ifTerm=e.commit(),o._thenTerm=r.commit(),o._elseTerm=n.commit(),o}return i(r,t),r.prototype.ifTerm=function(){return this._ifTerm},r.prototype.thenTerm=function(){return this._thenTerm},r.prototype.elseTerm=function(){return this._elseTerm},r.prototype.isConstant=function(){return this._ifTerm.isConstant()&&this._thenTerm.isConstant()&&this._elseTerm.isConstant()},r.prototype.precedence=function(){return 2},r.prototype.evaluate=function(t){var e;((t=h.fromAny(t)).willOperate(this),this._ifTerm.evaluate(t).booleanValue(!1))?e=this._thenTerm.evaluate(t):e=this._elseTerm.evaluate(t);return t.didOperate(this,e),e},r.prototype.substitute=function(t){return t=h.fromAny(t),new r(this._ifTerm.substitute(t),this._thenTerm.substitute(t),this._elseTerm.substitute(t))},r.prototype.typeOrder=function(){return 20},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._ifTerm.compareTo(t._ifTerm);return 0===n&&0===(n=this._thenTerm.compareTo(t._thenTerm))&&(n=this._elseTerm.compareTo(t._elseTerm)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._ifTerm.equals(t._ifTerm)&&this._thenTerm.equals(t._thenTerm)&&this._elseTerm.equals(t._elseTerm))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._ifTerm.hashCode()),this._thenTerm.hashCode()),this._elseTerm.hashCode()))},r.prototype.debug=function(t){t.debug(this._ifTerm).write(46).write("conditional").write(40).debug(this._thenTerm).write(44).write(32).debug(this._elseTerm).write(41)},r.prototype.clone=function(){return new r(this._ifTerm.clone(),this._thenTerm.clone(),this._elseTerm.clone())},r}(T);n.ConditionalOperator=F;var L=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"||"},r.prototype.precedence=function(){return 3},r.prototype.evaluate=function(t){var e;(t=h.fromAny(t)).willOperate(this);var r=this._operand1.evaluate(t);r.booleanValue(!1)?e=r:e=this._operand2.evaluate(t);return t.didOperate(this,e),e},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.or(r)},r.prototype.typeOrder=function(){return 21},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("or").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.OrOperator=L;var B=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"&&"},r.prototype.precedence=function(){return 4},r.prototype.evaluate=function(t){var e;(t=h.fromAny(t)).willOperate(this);var r=this._operand1.evaluate(t);r.booleanValue(!1)?e=this._operand2.evaluate(t):e=r;return t.didOperate(this,e),e},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.and(r)},r.prototype.typeOrder=function(){return 22},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("and").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.AndOperator=B;var N=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"|"},r.prototype.precedence=function(){return 5},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.bitwiseOr(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.bitwiseOr(r)},r.prototype.typeOrder=function(){return 23},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("bitwiseOr").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.BitwiseOrOperator=N;var U=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"^"},r.prototype.precedence=function(){return 6},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.bitwiseXor(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.bitwiseXor(r)},r.prototype.typeOrder=function(){return 24},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("bitwiseXor").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.BitwiseXorOperator=U;var j=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"&"},r.prototype.precedence=function(){return 7},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.bitwiseAnd(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.bitwiseAnd(r)},r.prototype.typeOrder=function(){return 25},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("bitwiseAnd").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.BitwiseAndOperator=j;var R=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"<"},r.prototype.precedence=function(){return 0},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.lt(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.lt(r)},r.prototype.typeOrder=function(){return 26},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("lt").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.LtOperator=R;var P=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"<="},r.prototype.precedence=function(){return 0},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.le(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.le(r)},r.prototype.typeOrder=function(){return 27},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("le").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.LeOperator=P;var z=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"=="},r.prototype.precedence=function(){return 0},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.eq(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.eq(r)},r.prototype.typeOrder=function(){return 28},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("eq").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.EqOperator=z;var G=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"!="},r.prototype.precedence=function(){return 0},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.ne(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.ne(r)},r.prototype.typeOrder=function(){return 29},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("ne").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.NeOperator=G;var X=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return">="},r.prototype.precedence=function(){return 0},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.ge(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.ge(r)},r.prototype.typeOrder=function(){return 30},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("ge").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.GeOperator=X;var $=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return">"},r.prototype.precedence=function(){return 0},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.gt(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.gt(r)},r.prototype.typeOrder=function(){return 31},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("gt").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.GtOperator=$;var Z=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"+"},r.prototype.precedence=function(){return 8},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.plus(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.plus(r)},r.prototype.typeOrder=function(){return 32},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("plus").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.PlusOperator=Z;var K=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"-"},r.prototype.precedence=function(){return 8},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.minus(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.minus(r)},r.prototype.typeOrder=function(){return 33},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("minus").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.MinusOperator=K;var H=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"*"},r.prototype.precedence=function(){return 9},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.times(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.times(r)},r.prototype.typeOrder=function(){return 34},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("times").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.TimesOperator=H;var W=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"/"},r.prototype.precedence=function(){return 9},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.divide(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.divide(r)},r.prototype.typeOrder=function(){return 35},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("divide").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.DivideOperator=W;var Y=function(t){function r(e,r){return t.call(this,e,r)||this}return i(r,t),r.prototype.operator=function(){return"%"},r.prototype.precedence=function(){return 9},r.prototype.evaluate=function(t){(t=h.fromAny(t)).willOperate(this);var e=this._operand1.evaluate(t),r=this._operand2.evaluate(t),n=e.modulo(r);return t.didOperate(this,n),n},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._operand1.substitute(t),r=this._operand2.substitute(t);return e.modulo(r)},r.prototype.typeOrder=function(){return 36},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._operand1.compareTo(t._operand1);return 0===n&&(n=this._operand2.compareTo(t._operand2)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._operand1.equals(t._operand1)&&this._operand2.equals(t._operand2))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._operand1.hashCode()),this._operand2.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand1).write(46).write("modulo").write(40).debug(this._operand2).write(41)},r.prototype.clone=function(){return new r(this._operand1.clone(),this._operand2.clone())},r}(V);n.ModuloOperator=Y;var J=function(t){function r(e){return t.call(this,e)||this}return i(r,t),r.prototype.operator=function(){return"!"},r.prototype.precedence=function(){return 10},r.prototype.evaluate=function(t){return t=h.fromAny(t),this._operand.evaluate(t).not()},r.prototype.substitute=function(t){return t=h.fromAny(t),this._operand.substitute(t).not()},r.prototype.typeOrder=function(){return 37},r.prototype.compareTo=function(t){return t instanceof r?this._operand.compareTo(t._operand):e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&this._operand.equals(t._operand)},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(r._hashSeed,this._operand.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand).write(46).write("not").write(40).write(41)},r.prototype.clone=function(){return new r(this._operand.clone())},r}(I);n.NotOperator=J;var Q=function(t){function r(e){return t.call(this,e)||this}return i(r,t),r.prototype.operator=function(){return"~"},r.prototype.precedence=function(){return 10},r.prototype.evaluate=function(t){return t=h.fromAny(t),this._operand.evaluate(t).bitwiseNot()},r.prototype.substitute=function(t){return t=h.fromAny(t),this._operand.substitute(t).bitwiseNot()},r.prototype.typeOrder=function(){return 38},r.prototype.compareTo=function(t){return t instanceof r?this._operand.compareTo(t._operand):e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&this._operand.equals(t._operand)},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(r._hashSeed,this._operand.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand).write(46).write("bitwiseNot").write(40).write(41)},r.prototype.clone=function(){return new r(this._operand.clone())},r}(I);n.BitwiseNotOperator=Q;var tt=function(t){function r(e){return t.call(this,e)||this}return i(r,t),r.prototype.operator=function(){return"-"},r.prototype.precedence=function(){return 10},r.prototype.evaluate=function(t){return t=h.fromAny(t),this._operand.evaluate(t).negative()},r.prototype.substitute=function(t){return t=h.fromAny(t),this._operand.substitute(t).negative()},r.prototype.typeOrder=function(){return 39},r.prototype.compareTo=function(t){return t instanceof r?this._operand.compareTo(t._operand):e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&this._operand.equals(t._operand)},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(r._hashSeed,this._operand.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand).write(46).write("negative").write(40).write(41)},r.prototype.clone=function(){return new r(this._operand.clone())},r}(I);n.NegativeOperator=tt;var et=function(t){function r(e){return t.call(this,e)||this}return i(r,t),r.prototype.operator=function(){return"+"},r.prototype.precedence=function(){return 10},r.prototype.evaluate=function(t){return t=h.fromAny(t),this._operand.evaluate(t).positive()},r.prototype.substitute=function(t){return t=h.fromAny(t),this._operand.substitute(t).positive()},r.prototype.typeOrder=function(){return 40},r.prototype.compareTo=function(t){return t instanceof r?this._operand.compareTo(t._operand):e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&this._operand.equals(t._operand)},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(r._hashSeed,this._operand.hashCode()))},r.prototype.debug=function(t){t.debug(this._operand).write(46).write("positive").write(40).write(41)},r.prototype.clone=function(){return new r(this._operand.clone())},r}(I);n.PositiveOperator=et;var rt=function(t){function r(e,r){var n=t.call(this)||this;return n._func=e,n._args=r.commit(),n}return i(r,t),r.prototype.func=function(){return this._func},r.prototype.args=function(){return this._args},r.prototype.state=function(){return this._state},r.prototype.setState=function(t){this._state=t},r.prototype.isConstant=function(){return this._func.isConstant()&&this._args.isConstant()},r.prototype.precedence=function(){return 11},r.prototype.evaluate=function(t){t=h.fromAny(t);var e=this._func.evaluate(t);return e instanceof n.Func?e.invoke(this._args,t,this):n.absent()},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._func.evaluate(t);if(e instanceof n.Func){var o=e.expand(this._args,t,this);if(o)return o}var i=this._args.substitute(t).toValue();return new r(this._func,i)},r.prototype.typeOrder=function(){return 41},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._func.compareTo(t._func);return 0===n&&(n=this._args.compareTo(t._args)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._func.equals(t._func)&&this._args.equals(t._args))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._func.hashCode()),this._args.hashCode()))},r.prototype.debug=function(t){t.debug(this._func).write(46).write("invoke").write(40).debug(this._args).write(41)},r.prototype.clone=function(){return new r(this._func.clone(),this._args.clone())},r}(T);n.InvokeOperator=rt;var nt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return i(r,t),r.prototype.then=function(){return this},r.prototype.forSelected=function(t,e,r){var n;if(t.willSelect(this),0!==t.scopeDepth()){var o=t.popScope(),i=o.evaluate(t);t.pushScope(i),n=e.call(r,t),t.swapScope(o)}return t.didSelect(this,n),n},r.prototype.mapSelected=function(t,e,r){return e.call(r,t)},r.prototype.substitute=function(t){return(t=h.fromAny(t)).peekScope().substitute(t)},r.prototype.get=function(t){return t=d.fromAny(t),new n.GetSelector(t,this)},r.prototype.getAttr=function(t){return t=n.Text.fromAny(t),new n.GetAttrSelector(t,this)},r.prototype.getItem=function(t){return t=n.Num.fromAny(t),new n.GetItemSelector(t,this)},r.prototype.andThen=function(t){return t},r.prototype.keys=function(){return C.keys()},r.prototype.values=function(){return C.values()},r.prototype.children=function(){return C.children()},r.prototype.descendants=function(){return C.descendants()},r.prototype.filter=function(t){return 0===arguments.length?new n.FilterSelector(this,this):(t=n.fromAny(t)).filter()},r.prototype.typeOrder=function(){return 10},r.prototype.compareTo=function(t){return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),r._hashSeed},r.prototype.debugThen=function(t){},r.prototype.clone=function(){return this},r}(C);n.IdentitySelector=nt,C._identity=new nt;var ot=function(t){function r(e,r){var n=t.call(this)||this;return n._key=e.commit(),n._then=r,n}return i(r,t),r.prototype.accessor=function(){return this._key},r.prototype.then=function(){return this._then},r.prototype.forSelected=function(t,e,n){t.willSelect(this);var o=this._key.evaluate(t).toValue(),i=r.forSelected(o,this._then,t,e,n);return t.didSelect(this,i),i},r.forSelected=function(t,e,o,i,u){var s;if(0!==o.scopeDepth()){var a=o.popScope().toValue(),p=void 0;a instanceof n.Record&&(p=a.getField(t))&&(o.pushScope(p.toValue()),s=e.forSelected(o,i,u),o.popScope()),void 0===p&&void 0===s&&r.forSelected(t,e,o,i,u),o.pushScope(a)}return s},r.prototype.mapSelected=function(t,e,r){var o;t.willTransform(this);var i=this._key.evaluate(t).toValue();if(0!==t.scopeDepth()){var u=t.popScope().toValue();if(u instanceof n.Record){var s=u.getField(i);if(s){t.pushScope(s.toValue());var a=this._then.mapSelected(t,e,r);t.popScope(),a instanceof n.Field?i.equals(a.key)?u.set(i,a.toValue()):(u.delete(i),u.push(a)):a.isDefined()?u.set(i,a.toValue()):u.delete(i)}}t.pushScope(u),o=u}else o=n.absent();return t.didTransform(this,o),o},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._key.evaluate(t).toValue(),n=r.substitute(e,this._then,t);if(n)return n;var o=this._then.substitute(t);return o instanceof C||(o=this._then),new r(this._key,o)},r.substitute=function(t,e,o){var i;if(0!==o.scopeDepth()){var u=o.popScope().toValue(),s=void 0;u instanceof n.Record&&(s=u.getField(t))&&(i=s.toValue().substitute(o)),void 0===s&&void 0===i&&r.substitute(t,e,o),o.pushScope(u)}return i},r.prototype.andThen=function(t){return new r(this._key,this._then.andThen(t))},r.prototype.typeOrder=function(){return 12},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._key.compareTo(t._key);return 0===n&&(n=this._then.compareTo(t._then)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._key.equals(t._key)&&this._then.equals(t._then))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._key.hashCode()),this._then.hashCode()))},r.prototype.debugThen=function(t){t=t.write(46).write("get").write(40).debug(this._key).write(41),this._then.debugThen(t)},r.prototype.clone=function(){return new r(this._key.clone(),this._then.clone())},r}(C);n.GetSelector=ot;var it=function(t){function r(e,r){var n=t.call(this)||this;return n._key=e,n._then=r,n}return i(r,t),r.prototype.accessor=function(){return this._key},r.prototype.then=function(){return this._then},r.prototype.forSelected=function(t,e,n){t.willSelect(this);var o=this._key,i=r.forSelected(o,this._then,t,e);return t.didSelect(this,i),i},r.forSelected=function(t,e,o,i,u){var s;if(0!==o.scopeDepth()){var a=o.popScope().toValue(),p=void 0;a instanceof n.Record&&(p=a.getField(t))instanceof c&&(o.pushScope(p.toValue()),s=e.forSelected(o,i,u),o.popScope()),void 0===p&&void 0===s&&r.forSelected(t,e,o,i,u),o.pushScope(a)}return s},r.prototype.mapSelected=function(t,e,r){var o;t.willTransform(this);var i=this._key;if(0!==t.scopeDepth()){var u=t.popScope().toValue();if(u instanceof n.Record){var s=u.getField(i);if(s instanceof n.Attr){t.pushScope(s.toValue());var a=this._then.mapSelected(t,e,r);t.popScope(),a instanceof n.Field?i.equals(a.key)?u.setAttr(i,a.toValue()):(u.delete(i),u.push(a)):a.isDefined()?u.setAttr(i,a.toValue()):u.delete(i)}}t.pushScope(u),o=u}else o=n.absent();return t.didTransform(this,o),o},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._key,n=r.substitute(e,this._then,t);if(n)return n;var o=this._then.substitute(t);return o instanceof C||(o=this._then),new r(this._key,o)},r.substitute=function(t,e,o){var i;if(0!==o.scopeDepth()){var u=o.popScope().toValue(),s=void 0;u instanceof n.Record&&(s=u.getField(t))instanceof n.Attr&&(i=s.toValue().substitute(o)),void 0===s&&void 0===i&&r.substitute(t,e,o),o.pushScope(u)}return i},r.prototype.andThen=function(t){return new r(this._key,this._then.andThen(t))},r.prototype.typeOrder=function(){return 13},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._key.compareTo(t._key);return 0===n&&(n=this._then.compareTo(t._then)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._key.equals(t._key)&&this._then.equals(t._then))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._key.hashCode()),this._then.hashCode()))},r.prototype.debugThen=function(t){t=t.write(46).write("getAttr").write(40).debug(this._key).write(41),this._then.debugThen(t)},r.prototype.clone=function(){return new r(this._key.clone(),this._then.clone())},r}(C);n.GetAttrSelector=it;var ut=function(t){function r(e,r){var n=t.call(this)||this;return n._index=e,n._then=r,n}return i(r,t),r.prototype.accessor=function(){return this._index},r.prototype.then=function(){return this._then},r.prototype.forSelected=function(t,e,r){var o;t.willSelect(this);var i=this._index.numberValue();if(0!==t.scopeDepth()){var u=t.popScope().toValue();if(u instanceof n.Record&&i<u.length){var s=u.getItem(i);t.pushScope(s),o=this._then.forSelected(t,e,r),t.popScope()}t.pushScope(u)}return t.didSelect(this,o),o},r.prototype.mapSelected=function(t,e,r){var o;if(t.willTransform(this),0!==t.scopeDepth()){var i=t.popScope().toValue(),u=this._index.numberValue();if(i instanceof n.Record&&u<i.length){var s=i.getItem(u);t.pushScope(s);var a=this._then.mapSelected(t,e,r);t.popScope(),a.isDefined()?i.setItem(u,a):i.splice(u,1)}t.pushScope(i),o=i}else o=n.absent();return t.didTransform(this,o),o},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._index.numberValue();if(0!==t.scopeDepth()){var o=t.popScope().toValue(),i=void 0;if(o instanceof n.Record&&e<o.length)i=o.getItem(e).substitute(t);if(t.pushScope(o),i)return i}var u=this._then.substitute(t);return u instanceof C||(u=this._then),new r(this._index,u)},r.prototype.andThen=function(t){return new r(this._index,this._then.andThen(t))},r.prototype.typeOrder=function(){return 14},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._index.compareTo(t._index);return 0===n&&(n=this._then.compareTo(t._then)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._index.equals(t._index)&&this._then.equals(t._then))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._index.hashCode()),this._then.hashCode()))},r.prototype.debugThen=function(t){t=t.write(46).write("getItem").write(40).debug(this._index).write(41),this._then.debugThen(t)},r.prototype.clone=function(){return new r(this._index,this._then.clone())},r}(C);n.GetItemSelector=ut;var st=function(t){function r(e){var r=t.call(this)||this;return r._then=e,r}return i(r,t),r.prototype.then=function(){return this._then},r.prototype.forSelected=function(t,e,r){var o;if(t.willSelect(this),0!==t.scopeDepth()){var i=t.popScope();if(i instanceof n.Record)for(var u=i.iterator();void 0===o&&u.hasNext();){var s=u.next().value;s instanceof n.Field&&(t.pushScope(s.key),o=this._then.forSelected(t,e,r),t.popScope())}else i instanceof n.Field&&(t.pushScope(i.key),o=this._then.forSelected(t,e,r),t.popScope());t.pushScope(i)}return t.didSelect(this,o),o},r.prototype.mapSelected=function(t,e,r){var o;if(t.willTransform(this),0!==t.scopeDepth()){var i=t.popScope();if(i instanceof n.Record)for(var u=i.iterator();u.hasNext();){var s=u.next().value;if(s instanceof n.Field){var a=s.key;t.pushScope(a);var p=this._then.mapSelected(t,e,r).toValue();t.popScope(),p.isDefined()?a!==p&&(i instanceof n.Attr&&p instanceof n.Text?u.set(n.Attr.of(p,i.toValue())):u.set(n.Slot.of(p,i.toValue()))):u.delete()}}else if(i instanceof n.Field){a=i.key;t.pushScope(a);p=this._then.mapSelected(t,e,r).toValue();t.popScope(),p.isDefined()?a!==p&&(i=i instanceof n.Attr&&p instanceof n.Text?n.Attr.of(p,i.toValue()):n.Slot.of(p,i.toValue())):i=n.absent()}t.pushScope(i),o=i}else o=n.absent();return t.didTransform(this,o),o},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._then.substitute(t);return e instanceof C||(e=this._then),new r(e)},r.prototype.andThen=function(t){return new r(this._then.andThen(t))},r.prototype.typeOrder=function(){return 15},r.prototype.compareTo=function(t){return t instanceof r?this._then.compareTo(t._then):e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&this._then.equals(t._then)},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(r._hashSeed,this._then.hashCode()))},r.prototype.debugThen=function(t){t=t.write(46).write("keys").write(40).write(41),this._then.debugThen(t)},r.prototype.clone=function(){return new r(this._then.clone())},r}(C);n.KeysSelector=st;var at=function(t){function r(e){var r=t.call(this)||this;return r._then=e,r}return i(r,t),r.prototype.then=function(){return this._then},r.prototype.forSelected=function(t,e,r){var o;if(t.willSelect(this),0!==t.scopeDepth()){var i=t.popScope();if(i instanceof n.Record)for(var u=i.iterator();void 0===o&&u.hasNext();){var s=u.next().value;t.pushScope(s.toValue()),o=this._then.forSelected(t,e,r),t.popScope()}else t.pushScope(i.toValue()),o=this._then.forSelected(t,e,r),t.popScope();t.pushScope(i)}return t.didSelect(this,o),o},r.prototype.mapSelected=function(t,e,r){var o;if(t.willTransform(this),0!==t.scopeDepth()){var i=t.popScope();if(i instanceof n.Record)for(var u=i.iterator();u.hasNext();){var s=u.next().value;if(s instanceof n.Field){var a=s.toValue();t.pushScope(a);var p=this._then.mapSelected(t,e,r);t.popScope(),p.isDefined()?p instanceof n.Field?u.set(p):p!==a&&u.set(s.updatedValue(p.toValue())):u.delete()}else{t.pushScope(s.toValue());p=this._then.mapSelected(t,e,r);t.popScope(),p.isDefined()?s!==p&&u.set(p):u.delete()}}else if(i instanceof n.Field){a=i.toValue();t.pushScope(a);p=this._then.mapSelected(t,e,r);t.popScope(),p.isDefined()?p instanceof n.Field?i=p:p!==a&&(i=i.updatedValue(p.toValue())):i=n.absent()}else t.pushScope(i),i=this._then.mapSelected(t,e,r),t.popScope();t.pushScope(i),o=i}else o=n.absent();return t.didTransform(this,o),o},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._then.substitute(t);return e instanceof C||(e=this._then),new r(e)},r.prototype.andThen=function(t){return new r(this._then.andThen(t))},r.prototype.typeOrder=function(){return 16},r.prototype.compareTo=function(t){return t instanceof r?this._then.compareTo(t._then):e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&this._then.equals(t._then)},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(r._hashSeed,this._then.hashCode()))},r.prototype.debugThen=function(t){t=t.write(46).write("values").write(40).write(41),this._then.debugThen(t)},r.prototype.clone=function(){return new r(this._then.clone())},r}(C);n.ValuesSelector=at;var pt=function(t){function r(e){var r=t.call(this)||this;return r._then=e,r}return i(r,t),r.prototype.then=function(){return this._then},r.prototype.forSelected=function(t,e,r){var o;if(t.willSelect(this),0!==t.scopeDepth()){var i=t.popScope().toValue();if(i instanceof n.Record)for(var u=i.iterator();void 0===o&&u.hasNext();){var s=u.next().value;t.pushScope(s),o=this._then.forSelected(t,e,r),t.popScope()}t.pushScope(i)}return t.didSelect(this,o),o},r.prototype.mapSelected=function(t,e,r){var o;if(t.willTransform(this),0!==t.scopeDepth()){var i=t.popScope().toValue();if(i instanceof n.Record)for(var u=i.iterator();u.hasNext();){var s=u.next().value;t.pushScope(s);var a=this._then.mapSelected(t,e);t.popScope(),a.isDefined()?a!==s&&u.set(a):u.delete()}t.pushScope(i),o=i}else o=n.absent();return t.didTransform(this,o),o},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._then.substitute(t);return e instanceof C||(e=this._then),new r(e)},r.prototype.andThen=function(t){return new r(this._then.andThen(t))},r.prototype.typeOrder=function(){return 17},r.prototype.compareTo=function(t){return t instanceof r?this._then.compareTo(t._then):e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&this._then.equals(t._then)},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(r._hashSeed,this._then.hashCode()))},r.prototype.debugThen=function(t){t=t.write(46).write("children").write(40).write(41),this._then.debugThen(t)},r.prototype.clone=function(){return new r(this._then.clone())},r}(C);n.ChildrenSelector=pt;var ht=function(t){function r(e){var r=t.call(this)||this;return r._then=e,r}return i(r,t),r.prototype.then=function(){return this._then},r.prototype.forSelected=function(t,e,r){var o;if(t.willSelect(this),0!==t.scopeDepth()){var i=t.popScope().toValue();if(i instanceof n.Record)for(var u=i.iterator();void 0===o&&u.hasNext();){var s=u.next().value;t.pushScope(s),void 0===(o=this._then.forSelected(t,e,r))&&this.forSelected(t,e,r),t.popScope()}t.pushScope(i)}return t.didSelect(this,o),o},r.prototype.mapSelected=function(t,e,r){var o;if(t.willTransform(this),0!==t.scopeDepth()){var i=t.popScope().toValue();if(i instanceof n.Record)for(var u=i.iterator();u.hasNext();){var s=u.next().value;t.pushScope(s);var a=this._then.mapSelected(t,e,r);a.isDefined()&&(a=this.mapSelected(t,e,r)),t.popScope(),a.isDefined()?a!==s&&u.set(a):u.delete()}t.pushScope(i),o=i}else o=n.absent();return t.didTransform(this,o),o},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._then.substitute(t);return e instanceof C||(e=this._then),new r(e)},r.prototype.andThen=function(t){return new r(this._then.andThen(t))},r.prototype.typeOrder=function(){return 18},r.prototype.compareTo=function(t){return t instanceof r?this._then.compareTo(t._then):e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&this._then.equals(t._then)},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(r._hashSeed,this._then.hashCode()))},r.prototype.debugThen=function(t){t=t.write(46).write("descendants").write(40).write(41),this._then.debugThen(t)},r.prototype.clone=function(){return new r(this._then.clone())},r}(C);n.DescendantsSelector=ht;var ct=function(t){function r(e,r){var n=t.call(this)||this;return n._predicate=e,n._then=r,n}return i(r,t),r.prototype.predicate=function(){return this._predicate},r.prototype.then=function(){return this._then},r.prototype.forSelected=function(t,e,r){var n;return t.willSelect(this),0!==t.scopeDepth()&&this.filterSelected(t)&&(n=this._then.forSelected(t,e,r)),t.didSelect(this,n),n},r.prototype.mapSelected=function(t,e,r){var o;return t.willTransform(this),o=0!==t.scopeDepth()?this.filterSelected(t)?this._then.mapSelected(t,e,r):t.peekScope().toValue():n.absent(),t.didTransform(this,o),o},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._predicate.substitute(t);e instanceof C||(e=this._predicate);var n=this._then.substitute(t);return n instanceof C||(n=this._then),new r(e,n)},r.prototype.filterSelected=function(t){return void 0!==this._predicate.forSelected(t,this.selected,this)},r.prototype.selected=function(t){return null},r.prototype.andThen=function(t){return new r(this._predicate,this._then.andThen(t))},r.prototype.filter=function(t){return 0===arguments.length?this:(t=n.fromAny(t),this.andThen(t.filter()))},r.prototype.typeOrder=function(){return 19},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._predicate.compareTo(t._predicate);return 0===n&&(n=this._then.compareTo(t._then)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._predicate.equals(t._predicate)&&this._then.equals(t._then))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._predicate.hashCode()),this._then.hashCode()))},r.prototype.debugThen=function(t){t=t.write(46).write("filter").write(40).debug(this._predicate).write(41),this._then.debugThen(t)},r.prototype.clone=function(){return new r(this._predicate.clone(),this._then.clone())},r}(C);n.FilterSelector=ct;var ft=function(t){function r(e,r){var n=t.call(this)||this;return n._item=e.commit(),n._then=r,n}return i(r,t),r.prototype.item=function(){return this._item},r.prototype.then=function(){return this._then},r.prototype.forSelected=function(t,e,r){var n;if(t.willSelect(this),0!==t.scopeDepth()){var o=this._item.evaluate(t);o.isDefined()&&(t.pushScope(o),n=this._then.forSelected(t,e,r),t.popScope())}return t.didSelect(this,n),n},r.prototype.mapSelected=function(t,e,r){var o;if(t.willTransform(this),0!==t.scopeDepth()){var i=this._item.evaluate(t);i.isDefined()&&(t.pushScope(i),i=this._then.mapSelected(t,e,r),t.popScope()),o=i}else o=n.absent();return t.didTransform(this,o),o},r.prototype.substitute=function(t){t=h.fromAny(t);var e=this._item.substitute(t),n=this._then.substitute(t);return n instanceof C||(n=this._then),new r(e,n)},r.prototype.andThen=function(t){return new r(this._item,this._then.andThen(t))},r.prototype.precedence=function(){return this._item.precedence()},r.prototype.typeOrder=function(){return 11},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._item.compareTo(t._item);return 0===n&&(n=this._then.compareTo(t._then)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._item.equals(t._item)&&this._then.equals(t._then))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._item.hashCode()),this._then.hashCode()))},r.prototype.debug=function(t){t=t.write("Selector").write(46).write("literal").write(40).debug(this._item).write(41),this._then.debugThen(t)},r.prototype.debugThen=function(t){},r.prototype.clone=function(){return new r(this._item.clone(),this._then.clone())},r}(C);n.LiteralSelector=ft;var lt=function(t){function r(e,r){var n=t.call(this)||this;return n._bindings=e,n._template=r,n}return i(r,t),r.prototype.bindings=function(){return this._bindings},r.prototype.template=function(){return this._template},r.prototype.precedence=function(){return 1},r.prototype.invoke=function(t,e,r){e=h.fromAny(e);for(var o=this._bindings,i=Math.max(1,o.length),u=n.Record.create(i),s=0,a=0;s<i;){var p=o instanceof n.Record?o.getItem(s):0===s?o:n.absent(),c=t instanceof n.Record?t.getItem(a).toValue():0===a?t:n.Value.absent();p instanceof n.Text&&c.isDistinct()?(u.push(n.Slot.of(p,c)),a+=1):p instanceof n.Slot&&(c.isDistinct()?u.push(p.updatedValue(c)):u.push(p),a+=1),s+=1}e.pushScope(u);var f=this._template.evaluate(e);return e.popScope(),f},r.prototype.typeOrder=function(){return 50},r.prototype.compareTo=function(t){if(t instanceof r){var n=this._bindings.compareTo(t._bindings);return 0===n&&(n=this._template.compareTo(t._template)),n}return e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t||t instanceof r&&(this._bindings.equals(t._bindings)&&this._template.equals(t._template))},r.prototype.hashCode=function(){return void 0===r._hashSeed&&(r._hashSeed=e.Murmur3.seed(r)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(r._hashSeed,this._bindings.hashCode()),this._template.hashCode()))},r.prototype.debug=function(t){t.debug(this.bindings).write(46).write("lambda").write(40).debug(this.template).write(41)},r}(x);n.LambdaFunc=lt;var dt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return i(r,t),r.prototype.typeOrder=function(){return 51},r.prototype.compareTo=function(t){return t instanceof r?e.Objects.compare(this.__proto__.constructor.name,t.__proto__.constructor.name):e.Objects.compare(this.typeOrder(),t.typeOrder())},r.prototype.equals=function(t){return this===t},r.prototype.hashCode=function(){return e.Murmur3.seed(this.__proto__.constructor)},r.prototype.debug=function(t){t=t.write(this.__proto__.constructor.name)},r}(x);n.BridgeFunc=dt;var yt=function(){function t(){}return t.max=function(){return t._max||(t._max=new _t),t._max},t.min=function(){return t._min||(t._min=new mt),t._min},t.abs=function(){return t._abs||(t._abs=new vt),t._abs},t.ceil=function(){return t._ceil||(t._ceil=new wt),t._ceil},t.floor=function(){return t._floor||(t._floor=new bt),t._floor},t.round=function(){return t._round||(t._round=new At),t._round},t.sqrt=function(){return t._sqrt||(t._sqrt=new gt),t._sqrt},t.pow=function(){return t._pow||(t._pow=new St),t._pow},t.rate=function(){return t._rate||(t._rate=new Ot),t._rate},t.random=function(){return t._random||(t._random=new Mt),t._random},t.scope=function(){return t._scope||(t._scope=n.Record.create(10).slot("max",t.max()).slot("min",t.min()).slot("abs",t.abs()).slot("ceil",t.ceil()).slot("floor",t.floor()).slot("round",t.round()).slot("pow",t.pow()).slot("sqrt",t.sqrt()).slot("rate",t.rate()).slot("random",t.random()).commit()),t._scope},t}();n.MathModule=yt;var _t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invoke=function(t,e,r){var o,i;if(e=h.fromAny(e),t.length>=2?(o=t.getItem(0).evaluate(e),i=t.getItem(1).evaluate(e)):o=t.evaluate(e),void 0!==i)return o.max(i);if(r){var u=void 0!==(i=r.state())?o.max(i):o;return r.setState(u),u}return n.absent()},e.prototype.expand=function(t,e,r){if(1===t.length)return t=t.evaluate(e).toValue(),this.invoke(t,e,r)},e}(dt),mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invoke=function(t,e,r){var o,i;if(e=h.fromAny(e),t.length>=2?(o=t.getItem(0).evaluate(e),i=t.getItem(1).evaluate(e)):o=t.evaluate(e),void 0!==i)return o.min(i);if(r){var u=void 0!==(i=r.state())?o.min(i):o;return r.setState(u),u}return n.absent()},e.prototype.expand=function(t,e,r){if(1===t.length)return t=t.evaluate(e).toValue(),this.invoke(t,e,r)},e}(dt),vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invoke=function(t,e,r){return(t=t.evaluate(e).toValue())instanceof n.Num?t.abs():n.absent()},e}(dt),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invoke=function(t,e,r){return(t=t.evaluate(e).toValue())instanceof n.Num?t.ceil():n.absent()},e}(dt),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invoke=function(t,e,r){return(t=t.evaluate(e).toValue())instanceof n.Num?t.floor():n.absent()},e}(dt),At=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invoke=function(t,e,r){return(t=t.evaluate(e).toValue())instanceof n.Num?t.round():n.absent()},e}(dt),gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invoke=function(t,e,r){return(t=t.evaluate(e).toValue())instanceof n.Num?t.sqrt():n.absent()},e}(dt),St=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invoke=function(t,e,r){e=h.fromAny(e);var o=t.getItem(0).evaluate(e),i=t.getItem(1).evaluate(e);return o instanceof n.Num&&i instanceof n.Num?o.pow(i):n.absent()},e}(dt),Ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invoke=function(t,e,r){var o,i;if(e=h.fromAny(e),t.length>=2?(o=t.getItem(0).evaluate(e).numberValue(NaN),i=t.getItem(1).evaluate(e).numberValue(1e3)):(o=t.evaluate(e).numberValue(NaN),i=1e3),isFinite(o)&&r){var u=r.state();if(void 0===u)u={v0:o,t0:Date.now(),dv:0,dt:0},r.setState(u);else{var s=Date.now(),a=s-u.t0;if(a>i&&s>u.t0||a>2*i){var p=o-u.v0;u.v0=o,u.t0=s,u.dv=p,u.dt=a}if(r.setState(u),0!==u.dt){var c=i*u.dv/u.dt;return n.Num.from(c)}}}return n.absent()},e.prototype.expand=function(t,e,r){return t=t.evaluate(e).toValue(),this.invoke(t,e,r)},e}(dt),Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invoke=function(t,e,r){var o=(t=t.evaluate(e).toValue()).length>=1?t.getItem(0).numberValue(0):0,i=t.length>=2?t.getItem(1).numberValue(o+1):o+1,u=o+Math.random()*(i-o);return n.Num.from(u)},e}(dt),Tt=function(t){function e(e,r){var n=t.call(this)||this;return n._tag=e,n._form=r,n}return i(e,t),e.prototype.tag=function(t){return 0===arguments.length?this._tag:void 0!==t?new e(t,this._form):this._form},e.prototype.unit=function(t){return 0===arguments.length?this._form.unit():new e(this._tag,this._form.unit(t))},e.prototype.mold=function(t,e){return(e=this._form.mold(t,e)).header(this._tag).isDefined()||(e=e.prepended(c.of(this._tag))),e},e.prototype.cast=function(t,e){return t.header(this._tag).isDefined()?this._form.cast(t,e):t.keyEquals(this._tag)?this._form.cast(t.toValue(),e):void 0},e}(D);D.TagForm=Tt;var Ct=function(t){function e(e,r){var n=t.call(this)||this;return n._unit=e,n._form=r,n}return i(e,t),e.prototype.tag=function(t){return 0===arguments.length?this._form.tag():new e(this._unit,this._form.tag(t))},e.prototype.unit=function(t){return 0===arguments.length?this._form.unit():void 0!==t?new e(t,this._form):this._form},e.prototype.mold=function(t,e){return this._form.mold.apply(this._form,arguments)},e.prototype.cast=function(t,e){return this._form.cast.apply(this._form,arguments)},e}(D);D.UnitForm=Ct;var xt=function(t){function e(e){var r=t.call(this)||this;return r._unit=e,r}return i(e,t),e.prototype.unit=function(t){return 0===arguments.length?this._unit:new e(t)},e.prototype.mold=function(t,e){return void 0===e?g.from(t):e.concat(g.from(t))},e.prototype.cast=function(t,e){var r=t.target();try{return r.stringValue()}catch(t){return}},e}(D);D.StringForm=xt;var kt=function(t){function e(e){var r=t.call(this)||this;return r._unit=e,r}return i(e,t),e.prototype.unit=function(t){return 0===arguments.length?this._unit:new e(t)},e.prototype.mold=function(t,e){return void 0===e?S.from(t):e.concat(S.from(t))},e.prototype.cast=function(t,e){var r=t.target();try{return r.numberValue()}catch(t){return}},e}(D);D.NumberForm=kt;var Et=function(t){function e(e){var r=t.call(this)||this;return r._unit=e,r}return i(e,t),e.prototype.unit=function(t){return 0===arguments.length?this._unit:new e(t)},e.prototype.mold=function(t,e){return void 0===e?O.from(t):e.concat(O.from(t))},e.prototype.cast=function(t,e){var r=t.target();try{return r.booleanValue()}catch(t){return}},e}(D);D.BooleanForm=Et;var qt=function(t){function e(e){var r=t.call(this)||this;return r._unit=e,r}return i(e,t),e.prototype.unit=function(t){return 0===arguments.length?this._unit:new e(t)},e.prototype.mold=function(t,e){return t=n.fromAny(t),void 0!==e&&(t=e.concat(t)),t},e.prototype.cast=function(t,e){return t.toAny()},e}(D);D.AnyForm=qt;var Dt=function(t){function e(e){var r=t.call(this)||this;return r._unit=e?e.commit():e,r}return i(e,t),e.prototype.unit=function(t){return 0===arguments.length?this._unit:new e(t)},e.prototype.mold=function(t,e){return t=n.fromAny(t),void 0!==e&&(t=e.concat(t)),t},e.prototype.cast=function(t,e){return t},e}(D);D.ItemForm=Dt;var Vt=function(t){function e(e){var r=t.call(this)||this;return r._unit=e?e.commit():e,r}return i(e,t),e.prototype.unit=function(t){return 0===arguments.length?this._unit:new e(t)},e.prototype.mold=function(t,e){return t=d.fromAny(t),void 0!==e&&(t=e.concat(t)),t},e.prototype.cast=function(t,e){return t.toValue()},e}(D);D.ValueForm=Vt;var It=function(t){function e(e,r){var n=t.call(this)||this;return n._cursor=e,n._form=r,n}return i(e,t),e.prototype.isEmpty=function(){return this._cursor.isEmpty()},e.prototype.head=function(){return this._cursor.head().coerce(this._form)},e.prototype.step=function(){this._cursor.step()},e.prototype.skip=function(t){this._cursor.skip(t)},e.prototype.hasNext=function(){return this._cursor.hasNext()},e.prototype.nextIndex=function(){return this._cursor.nextIndex()},e.prototype.next=function(){var t=this._cursor.next(),e=t.value,r=t.done;return{value:e&&e.coerce(this._form),done:r}},e.prototype.hasPrevious=function(){return this._cursor.hasPrevious()},e.prototype.previousIndex=function(){return this._cursor.previousIndex()},e.prototype.previous=function(){var t=this._cursor.next(),e=t.value,r=t.done;return{value:e&&e.coerce(this._form),done:r}},e.prototype.delete=function(){this._cursor.delete()},e}(e.Cursor),Ft=function(t){function e(e,r,n){var o=t.call(this)||this;return o._cursor=e,o._keyForm=r,o._valueForm=n,o}return i(e,t),e.prototype.isEmpty=function(){return this._cursor.isEmpty()},e.prototype.head=function(){var t=this._cursor.head();return[t[0].coerce(this._keyForm),t[1].coerce(this._valueForm)]},e.prototype.step=function(){this._cursor.step()},e.prototype.skip=function(t){this._cursor.skip(t)},e.prototype.hasNext=function(){return this._cursor.hasNext()},e.prototype.nextIndex=function(){return this._cursor.nextIndex()},e.prototype.next=function(){var t=this._cursor.next(),e=t.value,r=t.done;return{value:e&&[e[0].coerce(this._keyForm),e[1].coerce(this._valueForm)],done:r}},e.prototype.hasPrevious=function(){return this._cursor.hasPrevious()},e.prototype.previousIndex=function(){return this._cursor.previousIndex()},e.prototype.previous=function(){var t=this._cursor.next(),e=t.value,r=t.done;return{value:e&&[e[0].coerce(this._keyForm),e[1].coerce(this._valueForm)],done:r}},e.prototype.delete=function(){this._cursor.delete()},e}(e.Cursor);t.Absent=E,t.AndOperator=B,t.AnyForm=qt,t.Attr=c,t.BinaryOperator=V,t.BitwiseAndOperator=j,t.BitwiseNotOperator=Q,t.BitwiseOrOperator=N,t.BitwiseXorOperator=U,t.Bool=O,t.BooleanForm=Et,t.BridgeFunc=dt,t.ChildrenSelector=pt,t.ConditionalOperator=F,t.Data=b,t.DescendantsSelector=ht,t.DivideOperator=W,t.EqOperator=z,t.Expression=M,t.Extant=k,t.Field=s,t.FilterSelector=ct,t.Form=D,t.FormException=q,t.Func=x,t.GeOperator=X,t.GetAttrSelector=it,t.GetItemSelector=ut,t.GetSelector=ot,t.GtOperator=$,t.IdentitySelector=nt,t.Interpreter=h,t.InterpreterException=a,t.InterpreterSettings=p,t.InvokeOperator=rt,t.Item=n,t.ItemForm=Dt,t.KeysSelector=st,t.LambdaFunc=lt,t.LeOperator=P,t.LiteralSelector=ft,t.LtOperator=R,t.MathModule=yt,t.MinusOperator=K,t.ModuloOperator=Y,t.NeOperator=G,t.NegativeOperator=tt,t.NotOperator=J,t.Num=S,t.NumberForm=kt,t.Operator=T,t.OrOperator=L,t.PlusOperator=Z,t.PositiveOperator=et,t.Record=_,t.RecordMap=m,t.RecordMapView=v,t.Selector=C,t.Slot=f,t.StringForm=xt,t.TagForm=Tt,t.Text=g,t.TimesOperator=H,t.UnaryOperator=I,t.UnitForm=Ct,t.Value=d,t.ValueBuilder=l,t.ValueCursor=It,t.ValueEntryCursor=Ft,t.ValueForm=Vt,t.ValuesSelector=at,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=swim-structure.min.js.map