// swim-uri-3.10.2; copyright 2015-2020 SWIM.AI inc.
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@swim/codec"),require("@swim/util"),require("@swim/structure")):"function"==typeof define&&define.amd?define(["exports","@swim/codec","@swim/util","@swim/structure"],r):r((t=t||self).swim=t.swim||{},t.swim,t.swim,t.swim)}(this,(function(t,r,e,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};function o(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var s=function(t){function e(i){var n=t.call(this,i instanceof r.Diagnostic?i.message()||void 0:i)||this;return i instanceof r.Diagnostic&&(n.diagnostic=i),n.__proto__=e.prototype,n}return o(e,t),e.prototype.toString=function(){return this.diagnostic?this.diagnostic.toString():t.prototype.toString.call(this)},e}(Error),a=function(){function t(t,r,e,i,n){this._scheme=t,this._authority=r,this._path=e,this._query=i,this._fragment=n}return t.prototype.isDefined=function(){return this._scheme.isDefined()||this._authority.isDefined()||this._path.isDefined()||this._query.isDefined()||this._fragment.isDefined()},t.prototype.isEmpty=function(){return!this._scheme.isDefined()&&!this._authority.isDefined()&&this._path.isEmpty()&&!this._query.isDefined()&&!this._fragment.isDefined()},t.prototype.scheme=function(r){return void 0===r?this._scheme:(r=t.Scheme.fromAny(r))!==this._scheme?this.copy(r,this._authority,this._path,this._query,this._fragment):this},t.prototype.schemePart=function(r){return void 0===r?this._scheme.toString():this.scheme(t.Scheme.parse(r))},t.prototype.schemeName=function(r){return void 0===r?this._scheme.name():this.scheme(t.Scheme.from(r))},t.prototype.authority=function(r){return void 0===r?this._authority:(r=t.Authority.fromAny(r))!==this._authority?this.copy(this._scheme,r,this._path,this._query,this._fragment):this},t.prototype.authorityPart=function(r){return void 0===r?this._authority.toString():this.authority(t.Authority.parse(r))},t.prototype.user=function(t){return void 0===t?this._authority.user():this.authority(this._authority.user(t))},t.prototype.userPart=function(t){return void 0===t?this._authority.userPart():this.authority(this._authority.userPart(t))},t.prototype.username=function(t,r){return void 0===t?this._authority.username():this.authority(this._authority.username(t,r))},t.prototype.password=function(t){return void 0===t?this._authority.password():this.authority(this._authority.password(t))},t.prototype.host=function(t){return void 0===t?this._authority.host():this.authority(this._authority.host(t))},t.prototype.hostPart=function(t){return void 0===t?this._authority.hostPart():this.authority(this._authority.hostPart(t))},t.prototype.hostAddress=function(){return this._authority.hostAddress()},t.prototype.hostName=function(t){return void 0===t?this._authority.hostName():this.authority(this._authority.hostName(t))},t.prototype.hostIPv4=function(t){return void 0===t?this._authority.hostIPv4():this.authority(this._authority.hostIPv4(t))},t.prototype.hostIPv6=function(t){return void 0===t?this._authority.hostIPv6():this.authority(this._authority.hostIPv6(t))},t.prototype.port=function(t){return void 0===t?this._authority.port():this.authority(this._authority.port(t))},t.prototype.portPart=function(t){return void 0===t?this._authority.portPart():this.authority(this._authority.portPart(t))},t.prototype.portNumber=function(t){return void 0===t?this._authority.portNumber():this.authority(this._authority.portNumber(t))},t.prototype.path=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(0===arguments.length)return this._path;var i=t.Path.from.apply(void 0,r);return i!==this._path?this.copy(this._scheme,this._authority,i,this._query,this._fragment):this},t.prototype.pathPart=function(r){return void 0===r?this._path.toString():this.path(t.Path.parse(r))},t.prototype.pathName=function(t){return void 0===t?this._path.name():this.path(this._path.name(t))},t.prototype.parentPath=function(){return this._path.parent()},t.prototype.basePath=function(){return this._path.base()},t.prototype.parent=function(){return t.from(this._scheme,this._authority,this._path.parent())},t.prototype.base=function(){return t.from(this._scheme,this._authority,this._path.base())},t.prototype.appendedPath=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this.path(this._path.appended.apply(this._path,arguments))},t.prototype.appendedSlash=function(){return this.path(this._path.appendedSlash())},t.prototype.appendedSegment=function(t){return this.path(this._path.appendedSegment(t))},t.prototype.prependedPath=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this.path(this._path.prepended.apply(this._path,arguments))},t.prototype.prependedSlash=function(){return this.path(this._path.prependedSlash())},t.prototype.prependedSegment=function(t){return this.path(this._path.prependedSegment(t))},t.prototype.query=function(r){return void 0===r?this._query:(r=t.Query.fromAny(r))!==this._query?this.copy(this._scheme,this._authority,this._path,r,this._fragment):this},t.prototype.queryPart=function(r){return void 0===r?this._query.toString():this.query(t.Query.parse(r))},t.prototype.updatedQuery=function(t,r){return this.query(this._query.updated(t,r))},t.prototype.removedQuery=function(t){return this.query(this._query.removed(t))},t.prototype.appendedQuery=function(t,r){return this.query(this._query.appended(t,r))},t.prototype.prependedQuery=function(t,r){return this.query(this._query.prepended(t,r))},t.prototype.fragment=function(r){return void 0===r?this._fragment:(r=t.Fragment.fromAny(r))!==this._fragment?t.from(this._scheme,this._authority,this._path,this._query,r):this},t.prototype.fragmentPart=function(r){return void 0===r?this._fragment.toString():this.fragment(t.Fragment.parse(r))},t.prototype.fragmentIdentifier=function(r){return void 0===r?this._fragment.identifier():this.fragment(t.Fragment.from(r))},t.prototype.endpoint=function(){return this._path.isDefined()||this._query.isDefined()||this._fragment.isDefined()?t.from(this._scheme,this._authority):this},t.prototype.resolve=function(r){return(r=t.fromAny(r))._scheme.isDefined()?this.copy(r._scheme,r._authority,r._path.removeDotSegments(),r._query,r._fragment):r._authority.isDefined()?this.copy(this._scheme,r._authority,r._path.removeDotSegments(),r._query,r._fragment):r._path.isEmpty()?this.copy(this._scheme,this._authority,this._path,r._query.isDefined()?r._query:this._query,r._fragment):r._path.isAbsolute()?this.copy(this._scheme,this._authority,r._path.removeDotSegments(),r._query,r._fragment):this.copy(this._scheme,this._authority,this.merge(r._path).removeDotSegments(),r._query,r._fragment)},t.prototype.merge=function(t){return this._authority.isDefined()&&this._path.isEmpty()?t.prependedSlash():this._path.isEmpty()?t:this._path.merge(t)},t.prototype.unresolve=function(r){return r=t.fromAny(r),this._scheme.equals(r._scheme)&&this._authority.equals(r._authority)?t.from(t.Scheme.undefined(),t.Authority.undefined(),this._path.unmerge(r._path),r._query,r._fragment):r},t.prototype.copy=function(r,e,i,n,o){return t.from(r,e,i,n,o)},t.prototype.toAny=function(){var t={};return t.scheme=this._scheme.toAny(),this._authority.toAny(t),t.path=this._path.toAny(),t.query=this._query.toAny(),t.fragment=this._fragment.toAny(),t},t.prototype.compareTo=function(t){var r=this.toString().localeCompare(t.toString());return r<0?-1:r>0?1:0},t.prototype.equals=function(r){return this===r||r instanceof t&&this.toString()===r.toString()},t.prototype.hashCode=function(){return void 0===this._hashCode&&(this._hashCode=e.Murmur3.hash(this.toString())),this._hashCode},t.prototype.debug=function(t){t=t.write("Uri").write(46),t=this.isDefined()?t.write("parse").write(40).write(34).display(this).write(34).write(41):t.write("empty").write(40).write(41)},t.prototype.display=function(t){null!=this._string?t=t.write(this._string):(this._scheme.isDefined()&&t.display(this._scheme).write(58),this._authority.isDefined()&&(t=t.write(47).write(47).display(this._authority)),t.display(this._path),this._query.isDefined()&&(t=t.write(63).display(this._query)),this._fragment.isDefined()&&(t=t.write(35).display(this._fragment)))},t.prototype.toString=function(){return void 0===this._string&&(this._string=r.Format.display(this)),this._string},t.empty=function(){return void 0===t._empty&&(t._empty=new t(t.Scheme.undefined(),t.Authority.undefined(),t.Path.empty(),t.Query.undefined(),t.Fragment.undefined())),t._empty},t.from=function(r,e,i,n,o){return void 0===r&&(r=t.Scheme.undefined()),void 0===e&&(e=t.Authority.undefined()),void 0===i&&(i=t.Path.empty()),void 0===n&&(n=t.Query.undefined()),void 0===o&&(o=t.Fragment.undefined()),r.isDefined()||e.isDefined()||i.isDefined()||n.isDefined()||o.isDefined()?new t(r,e,i,n,o):t.empty()},t.fromAny=function(r){if(null==r)return t.empty();if(r instanceof t)return r;if("object"==typeof r){var e=t.Scheme.fromAny(r.scheme),i=t.Authority.fromAny(r.authority||r),n=t.Path.fromAny(r.path),o=t.Query.fromAny(r.query),s=t.Fragment.fromAny(r.fragment);return e.isDefined()||i.isDefined()||n.isDefined()||o.isDefined()||s.isDefined()?new t(e,i,n,o,s):t.empty()}if("string"==typeof r)return t.parse(r);throw new TypeError(""+r)},t.scheme=function(r){return r=t.Scheme.fromAny(r),t.from(r,void 0,void 0,void 0,void 0)},t.schemePart=function(r){var e=t.Scheme.parse(r);return t.from(e,void 0,void 0,void 0,void 0)},t.schemeName=function(r){var e=t.Scheme.from(r);return t.from(e,void 0,void 0,void 0,void 0)},t.authority=function(r){return r=t.Authority.fromAny(r),t.from(void 0,r,void 0,void 0,void 0)},t.authorityPart=function(r){var e=t.Authority.parse(r);return t.from(void 0,e,void 0,void 0,void 0)},t.user=function(r){var e=t.Authority.user(r);return t.from(void 0,e,void 0,void 0,void 0)},t.userPart=function(r){var e=t.Authority.userPart(r);return t.from(void 0,e,void 0,void 0,void 0)},t.username=function(r,e){var i=t.Authority.username(r,e);return t.from(void 0,i,void 0,void 0,void 0)},t.password=function(r){var e=t.Authority.password(r);return t.from(void 0,e,void 0,void 0,void 0)},t.host=function(r){var e=t.Authority.host(r);return t.from(void 0,e,void 0,void 0,void 0)},t.hostPart=function(r){var e=t.Authority.hostPart(r);return t.from(void 0,e,void 0,void 0,void 0)},t.hostName=function(r){var e=t.Authority.hostName(r);return t.from(void 0,e,void 0,void 0,void 0)},t.hostIPv4=function(r){var e=t.Authority.hostIPv4(r);return t.from(void 0,e,void 0,void 0,void 0)},t.hostIPv6=function(r){var e=t.Authority.hostIPv6(r);return t.from(void 0,e,void 0,void 0,void 0)},t.port=function(r){var e=t.Authority.port(r);return t.from(void 0,e,void 0,void 0,void 0)},t.portPart=function(r){var e=t.Authority.portPart(r);return t.from(void 0,e,void 0,void 0,void 0)},t.portNumber=function(r){var e=t.Authority.portNumber(r);return t.from(void 0,e,void 0,void 0,void 0)},t.path=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var i=t.Path.from.apply(void 0,r);return t.from(void 0,void 0,i,void 0,void 0)},t.pathPart=function(r){var e=t.Path.parse(r);return t.from(void 0,void 0,e,void 0,void 0)},t.query=function(r){return r=t.Query.fromAny(r),t.from(void 0,void 0,void 0,r,void 0)},t.queryPart=function(r){var e=t.Query.parse(r);return t.from(void 0,void 0,void 0,e,void 0)},t.fragment=function(r){return r=t.Fragment.fromAny(r),t.from(void 0,void 0,void 0,void 0,r)},t.fragmentPart=function(r){var e=t.Fragment.parse(r);return t.from(void 0,void 0,void 0,void 0,e)},t.fragmentIdentifier=function(r){var e=t.Fragment.from(r);return t.from(void 0,void 0,void 0,void 0,e)},t.standardParser=function(){return this._standardParser||(this._standardParser=new t.Parser),this._standardParser},t.parse=function(r){return t.standardParser().parseAbsoluteString(r)},t.isUnreservedChar=function(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||45===t||46===t||95===t||126===t},t.isSubDelimChar=function(t){return 33===t||36===t||38===t||40===t||41===t||42===t||43===t||44===t||59===t||61===t||39===t},t.isSchemeChar=function(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||43===t||45===t||46===t},t.isUserInfoChar=function(r){return t.isUnreservedChar(r)||t.isSubDelimChar(r)||58===r},t.isUserChar=function(r){return t.isUnreservedChar(r)||t.isSubDelimChar(r)},t.isHostChar=function(r){return t.isUnreservedChar(r)||t.isSubDelimChar(r)},t.isPathChar=function(r){return t.isUnreservedChar(r)||t.isSubDelimChar(r)||58===r||64===r},t.isQueryChar=function(r){return t.isUnreservedChar(r)||t.isSubDelimChar(r)||47===r||58===r||63===r||64===r},t.isParamChar=function(r){return t.isUnreservedChar(r)||33===r||36===r||40===r||41===r||42===r||43===r||44===r||47===r||58===r||59===r||63===r||64===r||39===r},t.isFragmentChar=function(r){return t.isUnreservedChar(r)||t.isSubDelimChar(r)||47===r||58===r||63===r||64===r},t.isAlpha=function(t){return t>=65&&t<=90||t>=97&&t<=122},t.toLowerCase=function(t){return t>=65&&t<=90?t+32:t},t.writeScheme=function(r,e){for(var i=0,n=r.length;i<n;i+=1){var o=r.charCodeAt(i);if(!(i>0&&t.isSchemeChar(o)||0===i&&t.isAlpha(o)))throw new s("Invalid scheme: "+r);e=e.write(o)}},t.writeUserInfo=function(r,e){for(var i=0,n=r.length;i<n;i+=1){var o=r.charCodeAt(i);t.isUserInfoChar(o)?e=e.write(o):t.writeEncoded(o,e)}},t.writeUser=function(r,e){for(var i=0,n=r.length;i<n;i+=1){var o=r.charCodeAt(i);t.isUserChar(o)?e=e.write(o):t.writeEncoded(o,e)}},t.writeHost=function(r,e){for(var i=0,n=r.length;i<n;i+=1){var o=r.charCodeAt(i);t.isHostChar(o)?e=e.write(o):t.writeEncoded(o,e)}},t.writeHostLiteral=function(r,e){for(var i=0,n=r.length;i<n;i+=1){var o=r.charCodeAt(i);t.isHostChar(o)||58===o?e=e.write(o):t.writeEncoded(o,e)}},t.writePathSegment=function(r,e){for(var i=0,n=r.length;i<n;i+=1){var o=r.charCodeAt(i);t.isPathChar(o)?e=e.write(o):t.writeEncoded(o,e)}},t.writeQuery=function(r,e){for(var i=0,n=r.length;i<n;i+=1){var o=r.charCodeAt(i);t.isQueryChar(o)?e=e.write(o):t.writeEncoded(o,e)}},t.writeParam=function(r,e){for(var i=0,n=r.length;i<n;i+=1){var o=r.charCodeAt(i);t.isParamChar(o)?e=e.write(o):t.writeEncoded(o,e)}},t.writeFragment=function(r,e){for(var i=0,n=r.length;i<n;i+=1){var o=r.charCodeAt(i);t.isFragmentChar(o)?e=e.write(o):t.writeEncoded(o,e)}},t.writeEncoded=function(r,e){0===r?(t.writePctEncoded(192,e),t.writePctEncoded(128,e)):r>=0&&r<=127?t.writePctEncoded(r,e):r>=128&&r<=2047?(t.writePctEncoded(192|r>>>6,e),t.writePctEncoded(128|63&r,e)):r>=2048&&r<=65535||r>=57344&&r<=65535?(t.writePctEncoded(224|r>>>12,e),t.writePctEncoded(128|r>>>6&63,e),t.writePctEncoded(128|63&r,e)):r>=65536&&r<=1114111?(t.writePctEncoded(240|r>>>18,e),t.writePctEncoded(128|r>>>12&63,e),t.writePctEncoded(128|r>>>6&63,e),t.writePctEncoded(128|63&r,e)):(t.writePctEncoded(239,e),t.writePctEncoded(191,e),t.writePctEncoded(189,e))},t.writePctEncoded=function(t,e){e=e.write(37).write(r.Base16.lowercase().encodeDigit(t>>>4&15)).write(r.Base16.lowercase().encodeDigit(15&t))},t.form=function(){return t._form||(t._form=new t.Form(t.empty())),t._form},t}(),u=function(){function t(t){this._name=t}return t.prototype.isDefined=function(){return 0!==this._name.length},t.prototype.name=function(){return this._name},t.prototype.toAny=function(){return 0!==this._name.length?this._name:void 0},t.prototype.compareTo=function(t){var r=this._name.localeCompare(t._name);return r<0?-1:r>0?1:0},t.prototype.equals=function(r){return this===r||r instanceof t&&this._name===r._name},t.prototype.hashCode=function(){return e.Murmur3.hash(this._name)},t.prototype.debug=function(t){t=t.write("UriScheme").write(46),t=this.isDefined()?t.write("parse").write(40).write(34).display(this).write(34).write(41):t.write("undefined").write(40).write(41)},t.prototype.display=function(t){a.writeScheme(this._name,t)},t.prototype.toString=function(){return this._name},t.undefined=function(){return void 0===t._undefined&&(t._undefined=new t("")),t._undefined},t.from=function(r){var e=t.cache(),i=e.get(r);return i||e.put(r,new t(r))},t.fromAny=function(r){if(null==r)return t.undefined();if(r instanceof t)return r;if("string"==typeof r)return t.parse(r);throw new TypeError(""+r)},t.parse=function(t){return a.standardParser().parseSchemeString(t)},t.cache=function(){if(void 0===t._cache){t._cache=new e.HashGenCacheMap(4)}return t._cache},t}();a.Scheme=u;var h=function(){function t(t,r,e){this._user=t,this._host=r,this._port=e}return t.prototype.isDefined=function(){return this._user.isDefined()||this._host.isDefined()||this._port.isDefined()},t.prototype.user=function(t){return void 0===t?this._user:(t=a.User.fromAny(t))!==this._user?this.copy(t,this._host,this._port):this},t.prototype.userPart=function(t){return void 0===t?this._user.toString():this.user(a.User.parse(t))},t.prototype.username=function(t,r){return void 0===t?this._user._username||"":void 0===r?this.user(this._user.username(t)):this.user(a.User.from(t,r))},t.prototype.password=function(t){return void 0===t?this._user.password():this.user(this._user.password(t))},t.prototype.host=function(t){return void 0===t?this._host:(t=a.Host.fromAny(t))!==this._host?this.copy(this._user,t,this._port):this},t.prototype.hostPart=function(t){return void 0===t?this._host.toString():this.host(a.Host.parse(t))},t.prototype.hostAddress=function(){return this._host.address()},t.prototype.hostName=function(t){return void 0===t?this._host.name():this.host(a.Host.from(t))},t.prototype.hostIPv4=function(t){return void 0===t?this._host.ipv4():this.host(a.Host.ipv4(t))},t.prototype.hostIPv6=function(t){return void 0===t?this._host.ipv6():this.host(a.Host.ipv6(t))},t.prototype.port=function(t){return void 0===t?this._port:(t=a.Port.fromAny(t))!==this._port?this.copy(this._user,this._host,t):this},t.prototype.portPart=function(t){return void 0===t?this._port.toString():this.port(a.Port.parse(t))},t.prototype.portNumber=function(t){return void 0===t?this._port.number():this.port(a.Port.from(t))},t.prototype.copy=function(r,e,i){return t.from(r,e,i)},t.prototype.toAny=function(t){return this.isDefined()&&(t=t||{},this._user.toAny(t),this._host.isDefined()&&(t.host=this._host.toAny()),this._port.isDefined()&&(t.port=this._port.toAny())),t},t.prototype.compareTo=function(t){var r=this.toString().localeCompare(t.toString());return r<0?-1:r>0?1:0},t.prototype.equals=function(r){return this===r||r instanceof t&&this.toString()===r.toString()},t.prototype.hashCode=function(){return void 0===this._hashCode&&(this._hashCode=e.Murmur3.hash(this.toString())),this._hashCode},t.prototype.debug=function(t){t=t.write("UriAuthority").write(46),t=this.isDefined()?t.write("parse").write(40).write(34).display(this).write(34).write(41):t.write("undefined").write(40).write(41)},t.prototype.display=function(t){void 0!==this._string?t=t.write(this._string):(this._user.isDefined()&&t.display(this._user).write(64),t.display(this._host),this._port.isDefined()&&(t=t.write(58).display(this._port)))},t.prototype.toString=function(){return void 0===this._string&&(this._string=r.Format.display(this)),this._string},t.undefined=function(){return void 0===t._undefined&&(t._undefined=new t(a.User.undefined(),a.Host.undefined(),a.Port.undefined())),t._undefined},t.from=function(r,e,i){return void 0===r&&(r=a.User.undefined()),void 0===e&&(e=a.Host.undefined()),void 0===i&&(i=a.Port.undefined()),r.isDefined()||e.isDefined()||i.isDefined()?new t(r,e,i):t.undefined()},t.fromAny=function(r){if(null==r)return t.undefined();if(r instanceof t)return r;if("object"==typeof r){var e=a.User.fromAny(r.user||r),i=a.Host.fromAny(r.host),n=a.Port.fromAny(r.port);return t.from(e,i,n)}if("string"==typeof r)return t.parse(r);throw new TypeError(""+r)},t.user=function(r){return r=a.User.fromAny(r),t.from(r,void 0,void 0)},t.userPart=function(r){var e=a.User.parse(r);return t.from(e,void 0,void 0)},t.username=function(r,e){var i=a.User.from(r,e);return t.from(i,void 0,void 0)},t.password=function(r){var e=a.User.from("",r);return t.from(e,void 0,void 0)},t.host=function(r){return r=a.Host.fromAny(r),t.from(void 0,r,void 0)},t.hostPart=function(r){var e=a.Host.parse(r);return t.from(void 0,e,void 0)},t.hostName=function(r){var e=a.Host.from(r);return t.from(void 0,e,void 0)},t.hostIPv4=function(r){var e=a.Host.ipv4(r);return t.from(void 0,e,void 0)},t.hostIPv6=function(r){var e=a.Host.ipv6(r);return t.from(void 0,e,void 0)},t.port=function(r){return r=a.Port.fromAny(r),t.from(void 0,void 0,r)},t.portPart=function(r){var e=a.Port.parse(r);return t.from(void 0,void 0,e)},t.portNumber=function(r){var e=a.Port.from(r);return t.from(void 0,void 0,e)},t.parse=function(t){return a.standardParser().parseAuthorityString(t)},t}();a.Authority=h;var p=function(){function t(t,r){this._username=t,this._password=r}return t.prototype.isDefined=function(){return null!==this._username},t.prototype.username=function(t){return void 0===t?this._username||"":t!==this._username?this.copy(t,this._password):this},t.prototype.password=function(t){return void 0===t?this._password:t!==this._password?this.copy(this._username,t):this},t.prototype.copy=function(r,e){return t.from(r,e)},t.prototype.toAny=function(t){return null!==this._username&&((t=t||{}).username=this._username,null!==this._password&&(t.password=this._password)),t},t.prototype.equals=function(r){return this===r||r instanceof t&&(this._username===r._username&&this._password===r._password)},t.prototype.hashCode=function(){return void 0===t._hashSeed&&(t._hashSeed=e.Murmur3.seed(t)),e.Murmur3.mash(e.Murmur3.mix(e.Murmur3.mix(t._hashSeed,e.Murmur3.hash(this._username)),e.Murmur3.hash(this._password)))},t.prototype.debug=function(t){t=t.write("UriUser").write(46),t=this.isDefined()?t.write("parse").write(40).write(34).display(this).write(34).write(41):t.write("undefined").write(40).write(41)},t.prototype.display=function(t){null!=this._username&&(a.writeUser(this._username,t),null!=this._password&&(t=t.write(58),a.writeUser(this._password,t)))},t.prototype.toString=function(){return r.Format.display(this)},t.undefined=function(){return void 0===t._undefined&&(t._undefined=new t(null,null)),t._undefined},t.from=function(r,e){return void 0===e&&(e=null),null!==r||null!==e?new t(r||"",e):t.undefined()},t.fromAny=function(r){if(null==r)return t.undefined();if(r instanceof t)return r;if("object"==typeof r){var e="string"==typeof r.username?r.username:null,i="string"==typeof r.password?r.password:null;return t.from(e,i)}if("string"==typeof r)return t.parse(r);throw new TypeError(""+r)},t.parse=function(t){return a.standardParser().parseUserString(t)},t}();a.User=p;var d=function(){function t(){}return t.prototype.isDefined=function(){return!0},t.prototype.name=function(){return null},t.prototype.ipv4=function(){return null},t.prototype.ipv6=function(){return null},t.prototype.toAny=function(){return this.toString()},t.prototype.compareTo=function(t){var r=this.toString().localeCompare(t.toString());return r<0?-1:r>0?1:0},t.prototype.equals=function(r){return this===r||r instanceof t&&this.toString()===r.toString()},t.prototype.hashCode=function(){return void 0===this._hashCode&&(this._hashCode=e.Murmur3.hash(this.toString())),this._hashCode},t.undefined=function(){return void 0===t._undefined&&(t._undefined=new a.HostUndefined),t._undefined},t.from=function(r){var e=t.cache(),i=e.get(r);return i instanceof a.HostName?i:e.put(r,new a.HostName(r))},t.ipv4=function(r){var e=t.cache(),i=e.get(r);return i instanceof a.HostIPv4?i:e.put(r,new a.HostIPv4(r))},t.ipv6=function(r){var e=t.cache(),i=e.get(r);return i instanceof a.HostIPv6?i:e.put(r,new a.HostIPv6(r))},t.fromAny=function(r){if(null==r)return t.undefined();if(r instanceof t)return r;if("string"==typeof r)return t.parse(r);throw new TypeError(""+r)},t.parse=function(t){return a.standardParser().parseHostString(t)},t.cache=function(){if(void 0===t._cache){t._cache=new e.HashGenCacheMap(16)}return t._cache},t}();a.Host=d;var f=function(t){function r(r){var e=t.call(this)||this;return e._address=r,e}return o(r,t),r.prototype.address=function(){return this._address},r.prototype.name=function(){return this._address},r.prototype.debug=function(t){t=t.write("UriHost").write(46).write("from").write(40).debug(this._address).write(41)},r.prototype.display=function(t){a.writeHost(this._address,t)},r.prototype.toString=function(){return this._address},r}(d);a.HostName=f;var c=function(t){function r(r){var e=t.call(this)||this;return e._address=r,e}return o(r,t),r.prototype.address=function(){return this._address},r.prototype.ipv4=function(){return this._address},r.prototype.debug=function(t){t=t.write("UriHost").write(46).write("ipv4").write(40).debug(this._address).write(41)},r.prototype.display=function(t){a.writeHost(this._address,t)},r.prototype.toString=function(){return this._address},r}(d);a.HostIPv4=c;var y=function(t){function r(r){var e=t.call(this)||this;return e._address=r,e}return o(r,t),r.prototype.address=function(){return this._address},r.prototype.ipv6=function(){return this._address},r.prototype.debug=function(t){t=t.write("UriHost").write(46).write("ipv6").write(40).debug(this._address).write(41)},r.prototype.display=function(t){null!=this._string?t=t.write(this._string):(t=t.write(91),a.writeHostLiteral(this._address,t),t=t.write(93))},r.prototype.toString=function(){return null==this._string&&(this._string="["+this.address+"]"),this._string},r}(d);a.HostIPv6=y;var m=function(t){function r(){return t.call(this)||this}return o(r,t),r.prototype.isDefined=function(){return!1},r.prototype.address=function(){return""},r.prototype.debug=function(t){t=t.write("UriHost").write(46).write("undefined").write(40).write(41)},r.prototype.display=function(t){},r.prototype.toString=function(){return""},r}(d);a.HostUndefined=m;var l=function(){function t(t){this._number=t}return t.prototype.isDefined=function(){return 0!==this._number},t.prototype.number=function(){return this._number},t.prototype.valueOf=function(){return this._number},t.prototype.toAny=function(){return this._number},t.prototype.compareTo=function(t){return this._number<t._number?-1:this._number>t._number?1:0},t.prototype.equals=function(r){return this===r||r instanceof t&&this._number===r._number},t.prototype.hashCode=function(){return void 0===t._hashSeed&&(t._hashSeed=e.Murmur3.seed(t)),e.Murmur3.mash(e.Murmur3.mix(t._hashSeed,this._number))},t.prototype.debug=function(t){t=t.write("UriPort").write(46),this.isDefined()?(t=t.write("from").write(40),r.Format.displayNumber(this._number,t),t=t.write(41)):t=t.write("undefined").write(40).write(41)},t.prototype.display=function(t){r.Format.displayNumber(this._number,t)},t.prototype.toString=function(){return""+this._number},t.undefined=function(){return void 0===t._undefined&&(t._undefined=new t(0)),t._undefined},t.from=function(r){if(r>0){var e=t.cache(),i=e.get(r);return void 0!==i?i:e.put(r,new t(r))}if(0===r)return t.undefined();throw new TypeError(""+r)},t.fromAny=function(r){if(null==r)return t.undefined();if(r instanceof t)return r;if("number"==typeof r)return t.from(r);if("string"==typeof r)return t.parse(r);throw new TypeError(""+r)},t.parse=function(t){return a.standardParser().parsePortString(t)},t.cache=function(){if(void 0===t._cache){t._cache=new e.HashGenCacheMap(4)}return t._cache},t}();a.Port=l;var v=function(){function t(){}return Object.defineProperty(t.prototype,"length",{get:function(){for(var t=0,r=this;!r.isEmpty();)t+=1,r=r.tail();return t},enumerable:!0,configurable:!0}),t.prototype.get=function(t){for(var r=0,e=this;!e.isEmpty();){if(!(r<t))return e.head();r+=1,e=e.tail()}},t.prototype.name=function(t){if(void 0!==t){var r=new a.PathBuilder;return r.addPath(this.base()),r.addSegment(t),r.bind()}if(this.isEmpty())return"";for(var e=this;;){var i=e.tail();if(i.isEmpty())return e.isRelative()?e.head():"";e=i}},t.prototype.foot=function(){if(this.isEmpty())return this;for(var t=this;;){var r=t.tail();if(r.isEmpty())return t;t=r}},t.prototype.isSubpathOf=function(r){r=t.fromAny(r);for(var e=this;!e.isEmpty()&&!r.isEmpty();){if(e.head()!==r.head())return!1;e=e.tail(),r=r.tail()}return r.isEmpty()},t.prototype.appended=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(arguments.length>0){var e=new a.PathBuilder;return e.addPath(this),e.push.apply(e,arguments),e.bind()}return this},t.prototype.appendedSlash=function(){var t=new a.PathBuilder;return t.addPath(this),t.addSlash(),t.bind()},t.prototype.appendedSegment=function(t){var r=new a.PathBuilder;return r.addPath(this),r.addSegment(t),r.bind()},t.prototype.prepended=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(arguments.length>0){var e=new a.PathBuilder;return e.push.apply(e,arguments),e.addPath(this),e.bind()}return this},t.prototype.prependedSlash=function(){return t.slash(this)},t.prototype.prependedSegment=function(r){return this.isEmpty()||this.isAbsolute()?t.segment(r,this):t.segment(r,t.slash(this))},t.prototype.resolve=function(t){return t.isEmpty()?this:t.isAbsolute()||this.isEmpty()?t.removeDotSegments():this.merge(t).removeDotSegments()},t.prototype.removeDotSegments=function(){for(var r=this,e=new a.PathBuilder;!r.isEmpty();){var i=r.head();if("."===i||".."===i)(r=r.tail()).isEmpty()||(r=r.tail());else if(r.isAbsolute()){var n=r.tail();if(n.isEmpty())e.push(r.head()),r=r.tail();else{var o=n.head();"."===o?(r=n.tail()).isEmpty()&&(r=t.slash()):".."===o?((r=n.tail()).isEmpty()&&(r=t.slash()),e.isEmpty()||e.pop().isAbsolute()||e.isEmpty()||e.pop()):(e.push(i,o),r=n.tail())}}else e.push(r.head()),r=r.tail()}return e.bind()},t.prototype.merge=function(t){if(this.isEmpty())return t;for(var r=new a.PathBuilder,e=this;;){var i=e.tail();if(i.isEmpty()){e.isAbsolute()&&r.addSlash();break}e.isAbsolute()?r.addSlash():r.addSegment(e.head()),e=i}return r.addPath(t),r.bind()},t.prototype.unmerge=function(r,e){void 0===e&&(e=r);for(var i=this;;){if(i.isEmpty())return r.isEmpty()||r.tail().isEmpty()?r:r.tail();if(i.isRelative())return r;if(r.isRelative())return t.slash(r);var n=i.tail(),o=r.tail();if(!n.isEmpty()&&o.isEmpty())return t.slash();if(n.isEmpty()||o.isEmpty()||n.head()!==o.head())return o;if(n=n.tail(),o=o.tail(),!n.isEmpty()&&o.isEmpty())return e;i=n,r=o}},t.prototype.toAny=function(){for(var t=[],r=this;!r.isEmpty();)t.push(r.head()),r=r.tail();return t},t.prototype.compareTo=function(t){var r=this.toString().localeCompare(t.toString());return r<0?-1:r>0?1:0},t.prototype.equals=function(r){return this===r||r instanceof t&&this.toString()===r.toString()},t.prototype.hashCode=function(){return void 0===this._hashCode&&(this._hashCode=e.Murmur3.hash(this.toString())),this._hashCode},t.prototype.display=function(t){for(var r=this;!r.isEmpty();)r.isAbsolute()?t=t.write(47):a.writePathSegment(r.head(),t),r=r.tail()},t.builder=function(){return new a.PathBuilder},t.empty=function(){return void 0===t._empty&&(t._empty=new a.PathEmpty),t._empty},t.slash=function(r){return void 0===r&&(r=t.empty()),r===t.empty()?(void 0===t._slash&&(t._slash=new a.PathSlash(r)),t._slash):new a.PathSlash(r)},t.segment=function(r,e){return void 0===e&&(e=t.empty()),r=this.cacheSegment(r),new a.PathSegment(r,e)},t.from=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=new a.PathBuilder;return e.push.apply(e,arguments),e.bind()},t.fromAny=function(r){if(null==r)return t.empty();if(r instanceof t)return r;if(Array.isArray(r))return t.from.apply(void 0,arguments);if("string"==typeof r)return t.parse(r);throw new TypeError(""+r)},t.parse=function(t){return a.standardParser().parsePathString(t)},t.segmentCache=function(){if(void 0===t._segmentCache){t._segmentCache=new e.HashGenCacheSet(64)}return t._segmentCache},t.cacheSegment=function(t){return t.length<=32?this.segmentCache().put(t):t},t.pathForm=function(){return t._pathForm||(t._pathForm=new a.PathForm(t.empty())),t._pathForm},t}();a.Path=v;var _=function(t){function e(r,e){var i=t.call(this)||this;return i._head=r,i._tail=e,i}return o(e,t),e.prototype.isDefined=function(){return!0},e.prototype.isAbsolute=function(){return!1},e.prototype.isRelative=function(){return!0},e.prototype.isEmpty=function(){return!1},e.prototype.head=function(){return this._head},e.prototype.tail=function(){return this._tail},e.prototype.setTail=function(t){t.isAbsolute()?this._tail=t:this._tail=v.slash(t)},e.prototype.dealias=function(){return new e(this._head,this._tail)},e.prototype.parent=function(){var t=this._tail;return t.isEmpty()?v.empty():t.tail().isEmpty()?v.empty():new e(this._head,t.parent())},e.prototype.base=function(){var t=this._tail;return t.isEmpty()?v.empty():new e(this._head,t.base())},e.prototype.prependedSegment=function(t){return v.segment(t,v.slash(this))},e.prototype.debug=function(t){t=t.write("UriPath").write(46).write("parse").write(40).write(34).display(this).write(34).write(41)},e.prototype.display=function(r){void 0!==this._string?r=r.write(this._string):t.prototype.display.call(this,r)},e.prototype.toString=function(){return void 0===this._string&&(this._string=r.Format.display(this)),this._string},e}(v);a.PathSegment=_;var g=function(t){function e(r){var e=t.call(this)||this;return e._tail=r,e}return o(e,t),e.prototype.isDefined=function(){return!0},e.prototype.isAbsolute=function(){return!0},e.prototype.isRelative=function(){return!1},e.prototype.isEmpty=function(){return!1},e.prototype.head=function(){return"/"},e.prototype.tail=function(){return this._tail},e.prototype.setTail=function(t){this._tail=t},e.prototype.dealias=function(){return new e(this._tail)},e.prototype.parent=function(){var t=this._tail;return t.isEmpty()?v.empty():t.tail().isEmpty()?v.slash():new e(t.parent())},e.prototype.base=function(){var t=this._tail;return t.isEmpty()?this:new e(t.base())},e.prototype.prependedSegment=function(t){return v.segment(t,this)},e.prototype.debug=function(t){t=t.write("UriPath").write(46).write("parse").write(40).write(34).display(this).write(34).write(41)},e.prototype.display=function(r){void 0!==this._string?r=r.write(this._string):t.prototype.display.call(this,r)},e.prototype.toString=function(){return void 0===this._string&&(this._string=r.Format.display(this)),this._string},e}(v);a.PathSlash=g;var w=function(t){function r(){return t.call(this)||this}return o(r,t),r.prototype.isDefined=function(){return!1},r.prototype.isAbsolute=function(){return!1},r.prototype.isRelative=function(){return!0},r.prototype.isEmpty=function(){return!0},r.prototype.head=function(){throw new Error("Empty UriPath")},r.prototype.tail=function(){throw new Error("Empty UriPath")},r.prototype.setTail=function(t){throw new Error("Empty UriPath")},r.prototype.dealias=function(){return this},r.prototype.parent=function(){return this},r.prototype.base=function(){return this},r.prototype.appended=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return v.from.apply(void 0,arguments)},r.prototype.appendedSlash=function(){return v.slash()},r.prototype.appendedSegment=function(t){return v.segment(t)},r.prototype.prepended=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return v.from.apply(void 0,arguments)},r.prototype.prependedSlash=function(){return v.slash()},r.prototype.prependedSegment=function(t){return v.segment(t)},r.prototype.merge=function(t){return t},r.prototype.debug=function(t){t=t.write("UriPath").write(46).write("empty").write(40).write(41)},r.prototype.display=function(t){},r.prototype.toString=function(){return""},r}(v);a.PathEmpty=w;var P=function(){function t(){this._first=a.Path.empty(),this._last=null,this._size=0,this._aliased=0}return t.prototype.isEmpty=function(){return 0===this._size},t.prototype.push=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var e=0;e<t.length;e+=1){var i=t[e];i instanceof a.Path?this.addPath(i):Array.isArray(i)?this.push.apply(this,i):"/"===i?this.addSlash():this.addSegment(i)}},t.prototype.bind=function(){return this._aliased=0,this._first},t.prototype.addSlash=function(){var t=a.Path.slash().dealias(),r=this._size;0===r?this._first=t:this.dealias(r-1).setTail(t),this._last=t,this._size=r+1,this._aliased+=1},t.prototype.addSegment=function(t){var r=a.Path.segment(t,a.Path.empty()),e=this._size;0===e?this._first=r:this.dealias(e-1).setTail(r),this._last=r,this._size=e+1,this._aliased+=1},t.prototype.addPath=function(t){if(!t.isEmpty()){var r=this._size;for(0===r?this._first=t:this.dealias(r-1).setTail(t),r+=1;;){var e=t.tail();if(e.isEmpty())break;t=e,r+=1}this._last=t,this._size=r}},t.prototype.pop=function(){var t=this._size,r=this._aliased;if(0===t)throw new Error("Empty UriPath");if(1===t){var e=this._first;return this._first=e.tail(),e.tail().isEmpty()&&(this._last=null),this._size=t-1,r>0&&(this._aliased=r-1),e}var i=this.dealias(t-2);return i.setTail(a.Path.empty()),this._last=i,this._size=t-1,this._aliased=r-1,i.tail()},t.prototype.dealias=function(t){var r=0,e=null,i=this._first;if(this._aliased<=t){for(;r<this._aliased;)e=i,i=i.tail(),r+=1;for(;r<=t;){var n=i.dealias();0===r?this._first=n:e.setTail(n),e=n,i=i.tail(),r+=1}r===this._size&&(this._last=e),this._aliased=r}else if(0===t)e=this._first;else if(t===this._size-1)e=this._last;else for(;r<=t;)e=i,i=i.tail(),r+=1;return e},t}();a.PathBuilder=P;var b=function(){function t(){}return Object.defineProperty(t.prototype,"length",{get:function(){for(var t=0,r=this;!r.isEmpty();)t+=1,r=r.tail();return t},enumerable:!0,configurable:!0}),t.prototype.has=function(t){for(var r=this;!r.isEmpty();){if(t===r.key())return!0;r=r.tail()}return!1},t.prototype.get=function(t){for(var r=this;!r.isEmpty();){if(t===r.key())return r.value();r=r.tail()}},t.prototype.updated=function(t,r){for(var e=this,i=new a.QueryBuilder,n=!1;!e.isEmpty();)t===e.key()?(i.addParam(t,r),n=!0):i.addParam(e.key(),e.value()),e=e.tail();return n||i.addParam(t,r),i.bind()},t.prototype.removed=function(t){for(var r=this,e=new a.QueryBuilder,i=!1;!r.isEmpty();)t===r.key()?i=!0:e.addParam(r.key(),r.value()),r=r.tail();return i?e.bind():this},t.prototype.appended=function(t,r){var e=new a.QueryBuilder;return e.addQuery(this),e.add(t,r),e.bind()},t.prototype.prepended=function(t,r){var e=new a.QueryBuilder;return e.add(t,r),e.addQuery(this),e.bind()},t.prototype.toAny=function(t){if(this.isDefined()){t=t||{};for(var r=this,e=0;!r.isEmpty();){var i=r.key();null!==i?t[i]=r.value():t["$"+e]=r.value(),r=r.tail(),e+=1}}return t},t.prototype.compareTo=function(t){var r=this.toString().localeCompare(t.toString());return r<0?-1:r>0?1:0},t.prototype.equals=function(r){return this===r||r instanceof t&&this.toString()===r.toString()},t.prototype.hashCode=function(){return void 0===this._hashCode&&(this._hashCode=e.Murmur3.hash(this.toString())),this._hashCode},t.prototype.display=function(t){for(var r=this,e=!0;!r.isEmpty();){e?e=!1:t=t.write(38);var i=r.key();null!==i&&(a.writeParam(i,t),t=t.write(61)),a.writeQuery(r.value(),t),r=r.tail()}},t.builder=function(){return new a.QueryBuilder},t.undefined=function(){return void 0===t._undefined&&(t._undefined=new a.QueryUndefined),t._undefined},t.param=function(r,e,i){return void 0===i?(i=e,e=r,r=null):null!==r&&(r=this.cacheKey(r)),void 0===i&&(i=t.undefined()),new a.QueryParam(r,e,i)},t.from=function(t,r){var e=new a.QueryBuilder;return e.add(t,r),e.bind()},t.fromAny=function(r){if(null==r)return t.undefined();if(r instanceof t)return r;if("object"==typeof r){var e=new a.QueryBuilder;return e.add(r),e.bind()}if("string"==typeof r)return t.parse(r);throw new TypeError(""+r)},t.parse=function(t){return a.standardParser().parseQueryString(t)},t.keyCache=function(){if(void 0===t._keyCache){t._keyCache=new e.HashGenCacheSet(64)}return t._keyCache},t.cacheKey=function(r){return r.length<=32?t.keyCache().put(r):r},t}();a.Query=b;var C=function(t){function e(r,e,i){var n=t.call(this)||this;return n._key=r,n._value=e,n._tail=i,n}return o(e,t),e.prototype.isDefined=function(){return!0},e.prototype.isEmpty=function(){return!1},e.prototype.head=function(){return[this._key,this._value]},e.prototype.key=function(){return this._key},e.prototype.value=function(){return this._value},e.prototype.tail=function(){return this._tail},e.prototype.setTail=function(t){this._tail=t},e.prototype.dealias=function(){return new e(this._key,this._value,this._tail)},e.prototype.debug=function(t){t=t.write("UriQuery").write(46).write("parse").write(40).write(34).display(this).write(34).write(41)},e.prototype.display=function(r){void 0!==this._string?r=r.write(this._string):t.prototype.display.call(this,r)},e.prototype.toString=function(){return void 0===this._string&&(this._string=r.Format.display(this)),this._string},e}(b);a.QueryParam=C;var S=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return o(r,t),r.prototype.isDefined=function(){return!1},r.prototype.isEmpty=function(){return!0},r.prototype.head=function(){throw new Error("Undefined Query")},r.prototype.key=function(){throw new Error("Undefined Query")},r.prototype.value=function(){throw new Error("Undefined Query")},r.prototype.tail=function(){throw new Error("Undefined Query")},r.prototype.setTail=function(t){throw new Error("Undefined Query")},r.prototype.dealias=function(){return this},r.prototype.updated=function(t,r){return b.param(t,r,this)},r.prototype.removed=function(t){return this},r.prototype.appended=function(t,r){return b.from(t,r)},r.prototype.prepended=function(t,r){return b.from(t,r)},r.prototype.debug=function(t){t=t.write("UriQuery").write(46).write("undefined").write(40).write(41)},r.prototype.display=function(t){},r.prototype.toString=function(){return""},r}(b);a.QueryUndefined=S;var E=function(){function t(){this._first=a.Query.undefined(),this._last=null,this._size=0,this._aliased=0}return t.prototype.isEmpty=function(){return 0===this._size},t.prototype.add=function(t,r){if(void 0!==r)this.addParam(t,r);else if("string"==typeof t)this.addParam(null,t);else if(t instanceof a.Query)this.addQuery(t);else{var e=t;for(var i in e){var n=i,o=e[i];36===i.charCodeAt(0)&&(n=null),this.addParam(n,o)}}},t.prototype.bind=function(){return this._aliased=0,this._first},t.prototype.addParam=function(t,r){void 0===r&&(r=t,t=null);var e=a.Query.param(t,r,a.Query.undefined()),i=this._size;0===i?this._first=e:this.dealias(i-1).setTail(e),this._last=e,this._size=i+1,this._aliased+=1},t.prototype.addQuery=function(t){if(!t.isEmpty()){var r=this._size;for(0===r?this._first=t:this.dealias(r-1).setTail(t),r+=1;;){var e=t.tail();if(e.isEmpty())break;t=e,r+=1}this._last=t,this._size=r}},t.prototype.dealias=function(t){var r=0,e=null,i=this._first;if(this._aliased<=t){for(;r<this._aliased;)e=i,i=i.tail(),r+=1;for(;r<=t;){var n=i.dealias();0===r?this._first=n:e.setTail(n),e=n,i=i.tail(),r+=1}r===this._size&&(this._last=e),this._aliased=r}else if(0===t)e=this._first;else if(t===this._size-1)e=this._last;else for(;r<=t;)e=i,i=i.tail(),r+=1;return e},t}();a.QueryBuilder=E;var D=function(){function t(t){this._identifier=t}return t.prototype.isDefined=function(){return null!==this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.toAny=function(){return null!==this._identifier?this._identifier:void 0},t.prototype.compareTo=function(t){var r=this.toString().localeCompare(t.toString());return r<0?-1:r>0?1:0},t.prototype.equals=function(r){return this===r||r instanceof t&&this._identifier===r._identifier},t.prototype.hashCode=function(){return e.Murmur3.hash(this._identifier)},t.prototype.debug=function(t){t=t.write("UriFragment").write(46),t=this.isDefined()?t.write("parse").write(40).write(34).display(this).write(34).write(41):t.write("undefined").write(40).write(41)},t.prototype.display=function(t){void 0!==this._string?t=t.write(this._string):null!==this._identifier&&a.writeFragment(this._identifier,t)},t.prototype.toString=function(){return null==this._string&&(this._string=r.Format.display(this)),this._string},t.undefined=function(){return void 0===t._undefined&&(t._undefined=new t(null)),t._undefined},t.from=function(r){if(null!==r){var e=t.cache(),i=e.get(r);return i||e.put(r,new t(r))}return t.undefined()},t.fromAny=function(r){if(null==r)return t.undefined();if(r instanceof t)return r;if("string"==typeof r)return t.parse(r);throw new TypeError(""+r)},t.parse=function(t){return a.standardParser().parseFragmentString(t)},t.cache=function(){if(void 0===t._cache){t._cache=new e.HashGenCacheMap(32)}return t._cache},t}();a.Fragment=D;var A=function(){function t(){}return t.prototype.absolute=function(t,r,e,i,n){return a.from(t,r,e,i,n)},t.prototype.scheme=function(t){return a.Scheme.from(t)},t.prototype.authority=function(t,r,e){return a.Authority.from(t,r,e)},t.prototype.user=function(t,r){return a.User.from(t,r)},t.prototype.hostName=function(t){return a.Host.from(t)},t.prototype.hostIPv4=function(t){return a.Host.ipv4(t)},t.prototype.hostIPv6=function(t){return a.Host.ipv6(t)},t.prototype.port=function(t){return a.Port.from(t)},t.prototype.pathEmpty=function(){return a.Path.empty()},t.prototype.pathBuilder=function(){return new a.PathBuilder},t.prototype.queryBuilder=function(){return new a.QueryBuilder},t.prototype.fragment=function(t){return a.Fragment.from(t)},t.prototype.absoluteParser=function(){return new t.AbsoluteParser(this)},t.prototype.parseAbsolute=function(r){return t.AbsoluteParser.parse(r,this)},t.prototype.parseAbsoluteString=function(t){var e=r.Unicode.stringInput(t),i=this.parseAbsolute(e);return e.isCont()&&!i.isError()&&(i=r.Parser.error(r.Diagnostic.unexpected(e))),i.bind()},t.prototype.schemeParser=function(){return new t.SchemeParser(this)},t.prototype.parseScheme=function(r){return t.SchemeParser.parse(r,this)},t.prototype.parseSchemeString=function(t){var e=r.Unicode.stringInput(t),i=this.parseScheme(e);return e.isCont()&&!i.isError()&&(i=r.Parser.error(r.Diagnostic.unexpected(e))),i.bind()},t.prototype.authorityParser=function(){return new t.AuthorityParser(this)},t.prototype.parseAuthority=function(r){return t.AuthorityParser.parse(r,this)},t.prototype.parseAuthorityString=function(t){var e=r.Unicode.stringInput(t),i=this.parseAuthority(e);return e.isCont()&&!i.isError()&&(i=r.Parser.error(r.Diagnostic.unexpected(e))),i.bind()},t.prototype.userParser=function(){return new t.UserParser(this)},t.prototype.parseUser=function(r){return t.UserParser.parse(r,this)},t.prototype.parseUserString=function(t){var e=r.Unicode.stringInput(t),i=this.parseUser(e);return e.isCont()&&!i.isError()&&(i=r.Parser.error(r.Diagnostic.unexpected(e))),i.bind()},t.prototype.hostParser=function(){return new t.HostParser(this)},t.prototype.parseHost=function(r){return t.HostParser.parse(r,this)},t.prototype.parseHostString=function(t){var e=r.Unicode.stringInput(t),i=this.parseHost(e);return e.isCont()&&!i.isError()&&(i=r.Parser.error(r.Diagnostic.unexpected(e))),i.bind()},t.prototype.hostAddressParser=function(){return new t.HostAddressParser(this)},t.prototype.parseHostAddress=function(r){return t.HostAddressParser.parse(r,this)},t.prototype.hostLiteralParser=function(){return new t.HostLiteralParser(this)},t.prototype.parseHostLiteral=function(r){return t.HostLiteralParser.parse(r,this)},t.prototype.portParser=function(){return new t.PortParser(this)},t.prototype.parsePort=function(r){return t.PortParser.parse(r,this)},t.prototype.parsePortString=function(t){var e=r.Unicode.stringInput(t),i=this.parsePort(e);return e.isCont()&&!i.isError()&&(i=r.Parser.error(r.Diagnostic.unexpected(e))),i.bind()},t.prototype.pathParser=function(r){return new t.PathParser(this,r)},t.prototype.parsePath=function(r,e){return t.PathParser.parse(r,this,e)},t.prototype.parsePathString=function(t){var e=r.Unicode.stringInput(t),i=this.parsePath(e);return e.isCont()&&!i.isError()&&(i=r.Parser.error(r.Diagnostic.unexpected(e))),i.bind()},t.prototype.queryParser=function(r){return new t.QueryParser(this,r)},t.prototype.parseQuery=function(r,e){return t.QueryParser.parse(r,this,e)},t.prototype.parseQueryString=function(t){var e=r.Unicode.stringInput(t),i=this.parseQuery(e);return e.isCont()&&!i.isError()&&(i=r.Parser.error(r.Diagnostic.unexpected(e))),i.bind()},t.prototype.fragmentParser=function(){return new t.FragmentParser(this)},t.prototype.parseFragment=function(r){return t.FragmentParser.parse(r,this)},t.prototype.parseFragmentString=function(t){var e=r.Unicode.stringInput(t),i=this.parseFragment(e);return e.isCont()&&!i.isError()&&(i=r.Parser.error(r.Diagnostic.unexpected(e))),i.bind()},t}();a.Parser=A;var U=function(t){function e(r,e,i,n,o,s,a){var u=t.call(this)||this;return u.uri=r,u.schemeParser=e,u.authorityParser=i,u.pathParser=n,u.queryParser=o,u.fragmentParser=s,u.step=a,u}return o(e,t),e.prototype.feed=function(t){return e.parse(t,this.uri,this.schemeParser,this.authorityParser,this.pathParser,this.queryParser,this.fragmentParser,this.step)},e.parse=function(t,i,n,o,s,u,h,p){void 0===p&&(p=1);var d=0;if(1===p)if(t.isCont()){for(var f=t.clone();f.isCont()&&(d=f.head(),a.isSchemeChar(d));)f.step();p=f.isCont()&&58===d?2:3}else t.isDone()&&(p=3);if(2===p)if((n=n?n.feed(t):i.parseScheme(t)).isDone()){if(t.isCont()&&58===t.head())t=t.step(),p=3;else if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected(58,t))}else if(n.isError())return n.asError();if(3===p)if(t.isCont())47===(d=t.head())?(t=t.step(),p=4):63===d?(t=t.step(),p=7):35===d?(t=t.step(),p=8):p=6;else if(t.isDone())return r.Parser.done(i.absolute(n&&n.bind()));if(4===p)if(t.isCont()&&47===t.head())t=t.step(),p=5;else if(t.isCont()){var c=i.pathBuilder();c.addSlash(),s=i.parsePath(t,c),p=6}else if(t.isDone())return r.Parser.done(i.absolute(n&&n.bind(),void 0,a.Path.slash()));if(5===p)if((o=o?o.feed(t):i.parseAuthority(t)).isDone()){if(t.isCont())63===(d=t.head())?(t=t.step(),p=7):35===d?(t=t.step(),p=8):p=6;else if(t.isDone())return r.Parser.done(i.absolute(n&&n.bind(),o&&o.bind()))}else if(o.isError())return o.asError();if(6===p)if((s=s?s.feed(t):i.parsePath(t)).isDone()){if(t.isCont()&&63===t.head())t=t.step(),p=7;else if(t.isCont()&&35===t.head())t=t.step(),p=8;else if(!t.isEmpty())return r.Parser.done(i.absolute(n&&n.bind(),o&&o.bind(),s.bind()))}else if(s.isError())return s.asError();if(7===p)if((u=u?u.feed(t):i.parseQuery(t)).isDone()){if(t.isCont()&&35===t.head())t=t.step(),p=8;else if(!t.isEmpty())return r.Parser.done(i.absolute(n&&n.bind(),o&&o.bind(),s&&s.bind(),u.bind()))}else if(u.isError())return u.asError();if(8===p){if((h=h?h.feed(t):i.parseFragment(t)).isDone())return r.Parser.done(i.absolute(n&&n.bind(),o&&o.bind(),s&&s.bind(),u&&u.bind(),h.bind()));if(h.isError())return h.asError()}return new e(i,n,o,s,u,h,p)},e}(r.Parser);A.AbsoluteParser=U;var H=function(t){function e(r,e,i){var n=t.call(this)||this;return n.uri=r,n.output=e,n.step=i,n}return o(e,t),e.prototype.feed=function(t){return e.parse(t,this.uri,this.output,this.step)},e.parse=function(t,i,n,o){void 0===o&&(o=1);var s=0;if(1===o)if(t.isCont()&&(s=t.head(),a.isAlpha(s)))t=t.step(),n=(n=n||r.Utf8.decodedString()).write(a.toLowerCase(s)),o=2;else if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("scheme",t));if(2===o){for(;t.isCont()&&(s=t.head(),a.isSchemeChar(s));)t=t.step(),n.write(a.toLowerCase(s));if(!t.isEmpty())return r.Parser.done(i.scheme(n.bind()))}return new e(i,n,o)},e}(r.Parser);A.SchemeParser=H;var B=function(t){function e(r,e,i,n,o){var s=t.call(this)||this;return s.uri=r,s.userParser=e,s.hostParser=i,s.portParser=n,s.step=o,s}return o(e,t),e.prototype.feed=function(t){return e.parse(t,this.uri,this.userParser,this.hostParser,this.portParser,this.step)},e.parse=function(t,i,n,o,s,a){void 0===a&&(a=1);var u=0;if(1===a)if(t.isCont()){for(var h=t.clone();h.isCont()&&(64!==(u=h.head())&&47!==u);)h.step();a=h.isCont()&&64===u?2:3}else t.isDone()&&(a=3);if(2===a)if((n=n?n.feed(t):i.parseUser(t)).isDone()){if(t.isCont()&&64===t.head())t=t.step(),a=3;else if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected(64,t))}else if(n.isError())return n.asError();if(3===a)if((o=o?o.feed(t):i.parseHost(t)).isDone()){if(t.isCont()&&58===t.head())t=t.step(),a=4;else if(!t.isEmpty())return r.Parser.done(i.authority(n&&n.bind(),o.bind()))}else if(o.isError())return o.asError();if(4===a){if((s=s?s.feed(t):i.parsePort(t)).isDone())return r.Parser.done(i.authority(n&&n.bind(),o.bind(),s.bind()));if(s.isError())return s.asError()}return new e(i,n,o,s,a)},e}(r.Parser);A.AuthorityParser=B;var q=function(t){function e(r,e,i,n,o){var s=t.call(this)||this;return s.uri=r,s.usernameOutput=e,s.passwordOutput=i,s.c1=n,s.step=o,s}return o(e,t),e.prototype.feed=function(t){return e.parse(t,this.uri,this.usernameOutput,this.passwordOutput,this.c1,this.step)},e.parse=function(t,i,n,o,s,u){void 0===s&&(s=0),void 0===u&&(u=1);for(var h=0;;){if(1===u){for(n=n||r.Utf8.decodedString();t.isCont()&&(h=t.head(),a.isUserChar(h));)t=t.step(),n.write(h);if(t.isCont()&&58===h)t=t.step(),u=4;else if(t.isCont()&&37===h)t=t.step(),u=2;else if(!t.isEmpty())return r.Parser.done(i.user(n.bind()))}if(2===u)if(t.isCont()&&(h=t.head(),r.Base16.isDigit(h)))t=t.step(),s=h,u=3;else if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t));if(3===u){if(t.isCont()&&(h=t.head(),r.Base16.isDigit(h))){t=t.step(),n.write(r.Base16.decodeDigit(s)<<4|r.Base16.decodeDigit(h)),s=0,u=1;continue}if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t))}if(4===u){for(o=o||r.Utf8.decodedString();t.isCont()&&(h=t.head(),a.isUserInfoChar(h));)t=t.step(),o.write(h);if(t.isCont()&&37===h)t=t.step(),u=5;else if(!t.isEmpty())return r.Parser.done(i.user(n.bind(),o.bind()))}if(5===u)if(t.isCont()&&(h=t.head(),r.Base16.isDigit(h)))t=t.step(),s=h,u=6;else if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t));if(6===u){if(t.isCont()&&(h=t.head(),r.Base16.isDigit(h))){t=t.step(),o.write(r.Base16.decodeDigit(s)<<4|r.Base16.decodeDigit(h)),s=0,u=4;continue}if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t))}break}return new e(i,n,o,s,u)},e}(r.Parser);A.UserParser=q;var Q=function(t){function e(r){var e=t.call(this)||this;return e.uri=r,e}return o(e,t),e.prototype.feed=function(t){return e.parse(t,this.uri)},e.parse=function(t,i){return t.isCont()?91===t.head()?i.parseHostLiteral(t):i.parseHostAddress(t):t.isDone()?r.Parser.done(i.hostName("")):new e(i)},e}(r.Parser);A.HostParser=Q;var x=function(t){function e(r,e,i,n,o){var s=t.call(this)||this;return s.uri=r,s.output=e,s.c1=i,s.x=n,s.step=o,s}return o(e,t),e.prototype.feed=function(t){return e.parse(t,this.uri,this.output,this.c1,this.x,this.step)},e.parse=function(t,i,n,o,s,u){void 0===o&&(o=0),void 0===s&&(s=0),void 0===u&&(u=1);var h=0;for(n=n||r.Utf8.decodedString();u<=4;){for(;t.isCont()&&(h=t.head(),r.Base10.isDigit(h));)t=t.step(),n=n.write(h),s=10*s+r.Base10.decodeDigit(h);if(!t.isCont()){if(t.isEmpty())break;return 4===u&&s<=255?r.Parser.done(i.hostIPv4(n.bind())):r.Parser.done(i.hostName(n.bind()))}if(!(46===h&&u<4&&s<=255)){if(!a.isHostChar(h)&&37!==h&&4===u&&s<=255)return r.Parser.done(i.hostIPv4(n.bind()));s=0,u=5;break}t=t.step(),n=n.write(h),s=0,u+=1}for(;;){if(5===u){for(;t.isCont()&&(h=t.head(),a.isHostChar(h));)t=t.step(),n.write(a.toLowerCase(h));if(t.isCont()&&37===h)t=t.step(),u=6;else if(!t.isEmpty())return r.Parser.done(i.hostName(n.bind()))}if(6===u)if(t.isCont()&&(h=t.head(),r.Base16.isDigit(h)))t=t.step(),o=h,u=7;else if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t));if(7===u){if(t.isCont()&&(h=t.head(),r.Base16.isDigit(h))){t=t.step(),n.write(r.Base16.decodeDigit(o)<<4|r.Base16.decodeDigit(h)),o=0,u=5;continue}if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t))}break}return new e(i,n,o,s,u)},e}(r.Parser);A.HostAddressParser=x;var F=function(t){function e(r,e,i){var n=t.call(this)||this;return n.uri=r,n.output=e,n.step=i,n}return o(e,t),e.prototype.feed=function(t){return e.parse(t,this.uri,this.output,this.step)},e.parse=function(t,i,n,o){void 0===o&&(o=1);var s=0;if(1===o)if(t.isCont()&&91===t.head())t=t.step(),o=2;else if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected(91,t));if(2===o){for(n=n||r.Utf8.decodedString();t.isCont()&&(s=t.head(),a.isHostChar(s)||58===s);)t=t.step(),n=n.write(a.toLowerCase(s));if(t.isCont()&&93===s)return t=t.step(),r.Parser.done(i.hostIPv6(n.bind()));if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected(93,t))}return new e(i,n,o)},e}(r.Parser);A.HostLiteralParser=F;var I=function(t){function e(r,e){var i=t.call(this)||this;return i.uri=r,i.number=e,i}return o(e,t),e.prototype.feed=function(t){return e.parse(t,this.uri,this.number)},e.parse=function(t,i,n){void 0===n&&(n=0);for(var o=0;t.isCont()&&(o=t.head(),r.Base10.isDigit(o));)t=t.step(),n=10*n+r.Base10.decodeDigit(o);return t.isEmpty()?new e(i,n):r.Parser.done(i.port(n))},e}(r.Parser);A.PortParser=I;var T=function(t){function e(r,e,i,n,o){var s=t.call(this)||this;return s.uri=r,s.builder=e,s.output=i,s.c1=n,s.step=o,s}return o(e,t),e.prototype.feed=function(t){return e.parse(t,this.uri,this.builder,this.output,this.c1,this.step)},e.parse=function(t,i,n,o,s,u){void 0===s&&(s=0),void 0===u&&(u=1);for(var h=0;;){if(1===u){for(;t.isCont()&&(h=t.head(),a.isPathChar(h));)o=o||r.Utf8.decodedString(),t=t.step(),o=o.write(h);if(t.isCont()&&47===h){t=t.step(),n=n||i.pathBuilder(),o&&(n.addSegment(o.bind()),o=void 0),n.addSlash();continue}if(t.isCont()&&37===h)t=t.step(),u=2;else if(!t.isEmpty())return o&&(n=n||i.pathBuilder()).addSegment(o.bind()),n?r.Parser.done(n.bind()):r.Parser.done(i.pathEmpty())}if(2===u)if(t.isCont()&&(h=t.head(),r.Base16.isDigit(h)))t=t.step(),s=h,u=3;else if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t));if(3===u){if(t.isCont()&&(h=t.head(),r.Base16.isDigit(h))){o=o||r.Utf8.decodedString(),t=t.step(),o=o.write(r.Base16.decodeDigit(s)<<4|r.Base16.decodeDigit(h)),s=0,u=1;continue}if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t))}break}return new e(i,n,o,s,u)},e}(r.Parser);A.PathParser=T;var k=function(t){function e(r,e,i,n,o,s){var a=t.call(this)||this;return a.uri=r,a.builder=e,a.keyOutput=i,a.valueOutput=n,a.c1=o,a.step=s,a}return o(e,t),e.prototype.feed=function(t){return e.parse(t,this.uri,this.builder,this.keyOutput,this.valueOutput,this.c1,this.step)},e.parse=function(t,i,n,o,s,u,h){void 0===u&&(u=0),void 0===h&&(h=1);for(var p=0;;){if(1===h){for(o=o||r.Utf8.decodedString();t.isCont()&&(p=t.head(),a.isParamChar(p));)t=t.step(),o.write(p);if(t.isCont()&&61===p)t=t.step(),h=4;else{if(t.isCont()&&38===p){t=t.step(),(n=n||i.queryBuilder()).addParam(o.bind()),o=void 0;continue}if(t.isCont()&&37===p)t=t.step(),h=2;else if(!t.isEmpty())return(n=n||i.queryBuilder()).addParam(o.bind()),r.Parser.done(n.bind())}}if(2===h)if(t.isCont()&&(p=t.head(),r.Base16.isDigit(p)))t=t.step(),u=p,h=3;else if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t));if(3===h){if(t.isCont()&&(p=t.head(),r.Base16.isDigit(p))){t=t.step(),o.write(r.Base16.decodeDigit(u)<<4|r.Base16.decodeDigit(p)),u=0,h=1;continue}if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t))}if(4===h){for(s=s||r.Utf8.decodedString();t.isCont()&&(p=t.head(),a.isParamChar(p)||61===p);)t=t.step(),s.write(p);if(t.isCont()&&38===p){t=t.step(),(n=n||i.queryBuilder()).addParam(o.bind(),s.bind()),o=void 0,s=void 0,h=1;continue}if(t.isCont()&&38===p)t=t.step(),h=5;else if(!t.isEmpty())return(n=n||i.queryBuilder()).addParam(o.bind(),s.bind()),r.Parser.done(n.bind())}if(5===h)if(t.isCont()&&(p=t.head(),r.Base16.isDigit(p)))t=t.step(),u=p,h=6;else if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t));if(6===h){if(t.isCont()&&(p=t.head(),r.Base16.isDigit(p))){t=t.step(),s.write(r.Base16.decodeDigit(u)<<4|r.Base16.decodeDigit(p)),u=0,h=4;continue}if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t))}break}return new e(i,n,o,s,u,h)},e}(r.Parser);A.QueryParser=k;var N=function(t){function e(r,e,i,n){var o=t.call(this)||this;return o.uri=r,o.output=e,o.c1=i,o.step=n,o}return o(e,t),e.prototype.feed=function(t){return e.parse(t,this.uri,this.output,this.c1,this.step)},e.parse=function(t,i,n,o,s){void 0===o&&(o=0),void 0===s&&(s=1);var u=0;for(n=n||r.Utf8.decodedString();;){if(1===s){for(;t.isCont()&&(u=t.head(),a.isFragmentChar(u));)t=t.step(),n=n.write(u);if(t.isCont()&&37===u)t=t.step(),s=2;else if(!t.isEmpty())return r.Parser.done(i.fragment(n.bind()))}if(2===s)if(t.isCont()&&(u=t.head(),r.Base16.isDigit(u)))t=t.step(),o=u,s=3;else if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t));if(3===s){if(t.isCont()&&(u=t.head(),r.Base16.isDigit(u))){t=t.step(),n=n.write(r.Base16.decodeDigit(o)<<4|r.Base16.decodeDigit(u)),o=0,s=1;continue}if(!t.isEmpty())return r.Parser.error(r.Diagnostic.expected("hex digit",t))}break}return new e(i,n,o,s)},e}(r.Parser);A.FragmentParser=N;var M=function(t){function r(r){var e=t.call(this)||this;return e._unit=r,e}return o(r,t),r.prototype.unit=function(t){return 0===arguments.length?this._unit:new r(t)},r.prototype.mold=function(t,r){return void 0===r?i.Text.from(t.toString()):r.concat(i.Text.from(t.toString()))},r.prototype.cast=function(t,r){var e=t.target();try{var i=e.stringValue();if("string"==typeof i)return a.parse(i)}catch(t){}},r}(i.Form);a.Form=M;var z=function(){function t(t,r){void 0===r&&(r=32),this._base=t,this._resolveCache=new e.HashGenCacheMap(r),this._unresolveCache=new e.HashGenCacheMap(r)}return t.prototype.resolve=function(t){t=a.fromAny(t);var r=this._resolveCache.get(t);return void 0===r&&(r=this._base.resolve(t),this._resolveCache.put(t,r)),r},t.prototype.unresolve=function(t){t=a.fromAny(t);var r=this._unresolveCache.get(t);return void 0===r&&(r=this._base.unresolve(t),this._unresolveCache.put(t,r)),r},t}();t.Uri=a,t.UriAbsoluteParser=U,t.UriAuthority=h,t.UriAuthorityParser=B,t.UriCache=z,t.UriException=s,t.UriForm=M,t.UriFragment=D,t.UriFragmentParser=N,t.UriHost=d,t.UriHostAddressParser=x,t.UriHostIPv4=c,t.UriHostIPv6=y,t.UriHostLiteralParser=F,t.UriHostName=f,t.UriHostParser=Q,t.UriHostUndefined=m,t.UriParser=A,t.UriPath=v,t.UriPathBuilder=P,t.UriPathEmpty=w,t.UriPathParser=T,t.UriPathSegment=_,t.UriPathSlash=g,t.UriPort=l,t.UriPortParser=I,t.UriQuery=b,t.UriQueryBuilder=E,t.UriQueryParam=C,t.UriQueryParser=k,t.UriQueryUndefined=S,t.UriScheme=u,t.UriSchemeParser=H,t.UriUser=p,t.UriUserParser=q,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=swim-uri.min.js.map