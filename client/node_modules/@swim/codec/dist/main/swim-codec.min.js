// swim-codec-3.10.2; copyright 2015-2020 SWIM.AI inc.
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@swim/util")):"function"==typeof define&&define.amd?define(["exports","@swim/util"],r):r((t=t||self).swim=t.swim||{},t.swim)}(this,(function(t,r){"use strict";var e=function(){},i=function(t,r){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function n(t,r){function e(){this.constructor=t}i(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var o=function(t){function i(r,e,i,n){var o=t.call(this)||this;return o._offset=r,o._line=e,o._column=i,o._note=n,o}return n(i,t),i.prototype.offset=function(){return this._offset},i.prototype.line=function(){return this._line},i.prototype.column=function(){return this._column},i.prototype.note=function(){return this._note},i.prototype.min=function(t){return this._offset<=t._offset?this:t},i.prototype.max=function(t){return this._offset>=t._offset?this:t},i.prototype.start=function(){return this},i.prototype.end=function(){return this},i.prototype.union=function(t){if(t instanceof i)return this._offset===t._offset&&this._line===t._line&&this._column===t._column?this:e.Span.from(this,t);if(t instanceof e.Span){var r=this.min(t._start),n=this.max(t._end);return r===t._start&&n===t._end?t:e.Span.from(r,n)}throw new Error(t.toString())},i.prototype.shift=function(t){var r=this._offset+(this._offset-t._offset),e=this._line+(this._line-t._line),n=this._column;return 1===e&&(n+=this._column-t._column),r===this._offset&&e===this._line&&n===this._column?this:i.at(r,e,n,this._note)},i.prototype.equals=function(t){return this===t||t instanceof i&&(this._offset===t._offset&&this._line===t._line&&this._column===t._column&&this._note===t._note)},i.prototype.hashCode=function(){return void 0===i._hashSeed&&(i._hashSeed=r.Murmur3.seed(i)),r.Murmur3.mash(r.Murmur3.mix(r.Murmur3.mix(r.Murmur3.mix(r.Murmur3.mix(i._hashSeed,this._offset),this._line),this._column),r.Murmur3.hash(this._note)))},i.prototype.display=function(t){e.Format.displayNumber(this._line,t),t=t.write(58),e.Format.displayNumber(this._column,t),null!==this._note&&(t=t.write(58).write(32).write(this._note))},i.prototype.debug=function(t){t=t.write("Mark").write(".").write("at").write("("),e.Format.debugNumber(this._offset,t),t=t.write(", "),e.Format.debugNumber(this._line,t),t=t.write(", "),e.Format.debugNumber(this._column,t),null!==this._note&&(t=t.write(", "),e.Format.debugString(this._note,t)),t=t.write(")")},i.prototype.toString=function(){return e.Format.display(this)},i.zero=function(){return i._zero||(i._zero=new i(0,1,1,null)),i._zero},i.at=function(t,r,e,n){return void 0===n&&(n=null),new i(t,r,e,n)},i}(e);e.Mark=o;var s=function(t){function i(r,e){var i=t.call(this)||this;return i._start=r,i._end=e,i}return n(i,t),i.prototype.start=function(){return this._start},i.prototype.end=function(){return this._end},i.prototype.union=function(t){if(t instanceof e.Mark){var r=this._start.min(t),n=this._end.max(t);return r===this._start&&n===this._end?this:i.from(r,n)}if(t instanceof i){r=this._start.min(t._start),n=this._end.max(t._end);return r===this._start&&n===this._end?this:i.from(r,n)}throw new Error(t.toString())},i.prototype.shift=function(t){var r=this._start.shift(t),e=this._end.shift(t);return r===this._start&&e===this._end?this:i.from(r,e)},i.prototype.equals=function(t){return this===t||t instanceof i&&(this._start.equals(t._start)&&this._end.equals(t._end))},i.prototype.hashCode=function(){return void 0===i._hashSeed&&(i._hashSeed=r.Murmur3.seed(i)),r.Murmur3.mash(r.Murmur3.mix(r.Murmur3.mix(i._hashSeed,this._start.hashCode()),this._end.hashCode()))},i.prototype.display=function(t){null!==this._start._note&&(t=t.write(this._start._note).write(58).write(32)),e.Format.displayNumber(this._start._line,t),t=t.write(58),e.Format.displayNumber(this._start._column,t),t=t.write(45),e.Format.displayNumber(this._end._line,t),t=t.write(58),e.Format.displayNumber(this._end._column,t),null!==this._end._note&&(t=t.write(58).write(32).write(this._end._note))},i.prototype.debug=function(t){t=t.write("Span").write(".").write("from").write("("),this._start.debug(t),t=t.write(", "),this._end.debug(t),t=t.write(")")},i.prototype.toString=function(){return e.Format.display(this)},i.from=function(t,r){if(t._offset>r._offset){var e=t;t=r,r=e}return new i(t,r)},i}(e);e.Span=s;var u=function(t){function r(e){var i=t.call(this,e)||this;return i.__proto__=r.prototype,i}return n(r,t),r}(Error),p=function(){function t(t,r,e){this._lineSeparator=t,this._isPretty=r,this._isStyled=e}return t.prototype.lineSeparator=function(t){return void 0===t?this._lineSeparator:this.copy(t,this._isPretty,this._isStyled)},t.prototype.isPretty=function(t){return void 0===t?this._isPretty:this.copy(this._lineSeparator,t,this._isStyled)},t.prototype.isStyled=function(t){return void 0===t?this._isStyled:this.copy(this._lineSeparator,this._isPretty,t)},t.prototype.copy=function(r,e,i){return t.create(r,e,i)},t.prototype.canEqual=function(r){return r instanceof t},t.prototype.equals=function(r){return this===r||r instanceof t&&(r.canEqual(this)&&this._lineSeparator===r._lineSeparator&&this._isPretty===r._isPretty&&this._isStyled===r._isStyled)},t.prototype.hashCode=function(){return void 0===t._hashSeed&&(t._hashSeed=r.Murmur3.seed(t)),r.Murmur3.mash(r.Murmur3.mix(r.Murmur3.mix(r.Murmur3.mix(t._hashSeed,r.Murmur3.hash(this._lineSeparator)),r.Murmur3.hash(this._isPretty)),r.Murmur3.hash(this._isStyled)))},t.prototype.debug=function(t){t=t.write("OutputSettings").write(46),t=(t=this._isPretty||this._isStyled?this._isPretty&&!this._isStyled?t.write("pretty"):!this._isPretty&&this._isStyled?t.write("styled"):t.write("prettyStyled"):t.write("standard")).write(40).write(41),D.lineSeparator()!==this._lineSeparator&&(t=t.write(46).write("lineSeparator").write(40).display(this._lineSeparator).write(41))},t.prototype.toString=function(){return D.debug(this)},t.standard=function(){return t._standard||(t._standard=new t(D.lineSeparator(),!1,!1)),t._standard},t.pretty=function(){return t._pretty||(t._pretty=new t(D.lineSeparator(),!0,!1)),t._pretty},t.styled=function(){return t._styled||(t._styled=new t(D.lineSeparator(),!1,!0)),t._styled},t.prettyStyled=function(){return t._prettyStyled||(t._prettyStyled=new t(D.lineSeparator(),!0,!0)),t._prettyStyled},t.create=function(r,e,i){return"string"!=typeof r&&(r=D.lineSeparator()),"boolean"!=typeof e&&(e=!1),"boolean"!=typeof i&&(i=!1),D.lineSeparator()===r?e||i?e&&!i?t.pretty():!e&&i?t.styled():t.prettyStyled():t.standard():new t(r,e,i)},t.fromAny=function(r){return r instanceof t?r:"object"==typeof r&&r?t.create(r.lineSeparator,r.isPretty,r.isStyled):t.standard()},t}(),a=function(t){function r(e){var i=t.call(this,e)||this;return i.__proto__=r.prototype,i}return n(r,t),r}(Error),f=function(){function t(){}return t.prototype.writeln=function(t){return"string"==typeof t&&this.write(t),this.write(this.settings().lineSeparator())},t.prototype.display=function(t){return D.display(t,this),this},t.prototype.debug=function(t){return D.debug(t,this),this},t.prototype.flush=function(){return this},t.prototype.push=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var e=t.length,i=0;i<e;i+=1)this.write(t[i])},t.prototype.trap=function(){throw new a},t.prototype.clone=function(){throw new Error},t.full=function(r,e){return void 0===r&&(r=null),void 0===e&&(e=p.standard()),null===r&&e===p.standard()?(t._full||(t._full=new h(r,p.standard())),t._full):new h(r,e)},t.done=function(r,e){return void 0===r&&(r=null),void 0===e&&(e=p.standard()),null===r&&e===p.standard()?(t._done||(t._done=new d(r,p.standard())),t._done):new d(r,e)},t.error=function(t,r){return void 0===r&&(r=p.standard()),new c(t,r)},t}(),h=function(t){function r(r,e){var i=t.call(this)||this;return i._value=r,i._settings=e,i}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isFull=function(){return!0},r.prototype.isDone=function(){return!1},r.prototype.isError=function(){return!1},r.prototype.isPart=function(t){return void 0===t||(t?f.done(this._value,this._settings):this)},r.prototype.write=function(t){return f.error(new a("full"),this._settings)},r.prototype.writeln=function(t){return f.error(new a("full"),this._settings)},r.prototype.bind=function(){return this._value},r.prototype.settings=function(t){return void 0===t?this._settings:f.full(this._value,t)},r.prototype.clone=function(){return this},r}(f),d=function(t){function r(r,e){var i=t.call(this)||this;return i._value=r,i._settings=e,i}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isFull=function(){return!1},r.prototype.isDone=function(){return!0},r.prototype.isError=function(){return!1},r.prototype.isPart=function(t){return void 0!==t&&(t?this:f.full(this._value,this._settings))},r.prototype.write=function(t){return f.error(new a("done"),this._settings)},r.prototype.writeln=function(t){return f.error(new a("done"),this._settings)},r.prototype.bind=function(){return this._value},r.prototype.settings=function(t){return void 0===t?this._settings:f.done(this._value,t)},r.prototype.clone=function(){return this},r}(f),c=function(t){function r(r,e){var i=t.call(this)||this;return i._error=r,i._settings=e,i}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isFull=function(){return!1},r.prototype.isDone=function(){return!1},r.prototype.isError=function(){return!0},r.prototype.isPart=function(t){return void 0!==t&&this},r.prototype.write=function(t){return this},r.prototype.writeln=function(t){return this},r.prototype.bind=function(){throw new a},r.prototype.trap=function(){return this._error},r.prototype.settings=function(t){return void 0===t?this._settings:f.error(this._error,t)},r.prototype.clone=function(){return this},r}(f),_=function(){function t(){}return t.prototype.trap=function(){throw new u},t.prototype.offset=function(){return this.mark()._offset},t.prototype.line=function(){return this.mark()._line},t.prototype.column=function(){return this.mark()._column},t.empty=function(r,e,i){return void 0===r&&(r=null),void 0===e&&(e=o.zero()),void 0===i&&(i=P.standard()),null===r&&e===o.zero()&&i===P.standard()?(t._empty||(t._empty=new l(null,o.zero(),P.standard())),t._empty):new l(r,e,i)},t.done=function(r,e,i){return void 0===r&&(r=null),void 0===e&&(e=o.zero()),void 0===i&&(i=P.standard()),null===r&&e===o.zero()&&i===P.standard()?(t._done||(t._done=new w(null,o.zero(),P.standard())),t._done):new w(r,e,i)},t.error=function(t,r,e,i){return void 0===r&&(r=null),void 0===e&&(e=o.zero()),void 0===i&&(i=P.standard()),new y(t,r,e,i)},t}(),l=function(t){function r(r,e,i){var n=t.call(this)||this;return n._id=r,n._mark=e,n._settings=i,n}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isEmpty=function(){return!0},r.prototype.isDone=function(){return!1},r.prototype.isError=function(){return!1},r.prototype.isPart=function(t){return void 0===t||(t?this:_.done(this._id,this._mark,this._settings))},r.prototype.head=function(){throw new u},r.prototype.step=function(){var t=new u("empty step");return _.error(t,this._id,this._mark,this._settings)},r.prototype.seek=function(t){var r=new u("empty seek");return _.error(r,this._id,this._mark,this._settings)},r.prototype.id=function(t){return void 0===t?this._id:_.empty(t,this._mark,this._settings)},r.prototype.mark=function(t){return void 0===t?this._mark:_.empty(this._id,t,this._settings)},r.prototype.settings=function(t){return void 0===t?this._settings:_.empty(this._id,this._mark,t)},r.prototype.clone=function(){return this},r}(_),w=function(t){function r(r,e,i){var n=t.call(this)||this;return n._id=r,n._mark=e,n._settings=i,n}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isEmpty=function(){return!1},r.prototype.isDone=function(){return!0},r.prototype.isError=function(){return!1},r.prototype.isPart=function(t){return void 0!==t&&(t?_.empty(this._id,this._mark,this._settings):this)},r.prototype.head=function(){throw new u},r.prototype.step=function(){var t=new u("done step");return _.error(t,this._id,this._mark,this._settings)},r.prototype.seek=function(t){var r=new u("empty seek");return _.error(r,this._id,this._mark,this._settings)},r.prototype.id=function(t){return void 0===t?this._id:_.done(t,this._mark,this._settings)},r.prototype.mark=function(t){return void 0===t?this._mark:_.done(this._id,t,this._settings)},r.prototype.settings=function(t){return void 0===t?this._settings:_.done(this._id,this._mark,t)},r.prototype.clone=function(){return this},r}(_),y=function(t){function r(r,e,i,n){var o=t.call(this)||this;return o._error=r,o._id=e,o._mark=i,o._settings=n,o}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isEmpty=function(){return!1},r.prototype.isDone=function(){return!1},r.prototype.isError=function(){return!0},r.prototype.isPart=function(t){return void 0!==t&&this},r.prototype.head=function(){throw new u},r.prototype.step=function(){var t=new u("error step");return _.error(t,this._id,this._mark,this._settings)},r.prototype.trap=function(){return this._error},r.prototype.seek=function(t){var r=new u("error seek");return _.error(r,this._id,this._mark,this._settings)},r.prototype.id=function(t){return void 0===t?this._id:_.error(this._error,t,this._mark,this._settings)},r.prototype.mark=function(t){return void 0===t?this._mark:_.error(this._error,this._id,t,this._settings)},r.prototype.settings=function(t){return void 0===t?this._settings:_.error(this._error,this._id,this._mark,t)},r.prototype.clone=function(){return this},r}(_),v=function(t){function r(r,e,i,n,o,s,u,p){void 0===e&&(e=null),void 0===i&&(i=0),void 0===n&&(n=1),void 0===o&&(o=1),void 0===s&&(s=P.standard()),void 0===u&&(u=0),void 0===p&&(p=!1);var a=t.call(this)||this;return a._string=r,a._id=e,a._offset=i,a._line=n,a._column=o,a._settings=s,a._index=u,a._isPart=p,a}return n(r,t),r.prototype.isCont=function(){return this._index<this._string.length},r.prototype.isEmpty=function(){return this._isPart&&this._index>=this._string.length},r.prototype.isDone=function(){return!this._isPart&&this._index>=this._string.length},r.prototype.isError=function(){return!1},r.prototype.isPart=function(t){return void 0===t?this._isPart:(this._isPart=t,this)},r.prototype.head=function(){if(this._index<this._string.length){var t=this._string.codePointAt(this._index);return void 0!==t?t:this._string.charCodeAt(this._index)}throw new u},r.prototype.step=function(){var t=this._index;if(t<this._string.length){var r=this._string.codePointAt(t);return this._index=this._string.offsetByCodePoints(t,1),this._offset+=this._index-t,10===r?(this._line+=1,this._column=1):this._column+=1,this}var e=new u("invalid step");return _.error(e,this._id,this.mark(),this._settings)},r.prototype.seek=function(t){if(void 0!==t){var r=this._index+(t._offset-this._offset);if(0<=r&&r<=this._string.length)return this._offset=t._offset,this._line=t._line,this._column=t._column,this._index=r,this;var e=new u("invalid seek to "+t);return _.error(e,this._id,this.mark(),this._settings)}return this._offset=0,this._line=1,this._column=1,this._index=0,this},r.prototype.id=function(t){return void 0===t?this._id:(this._id=t,this)},r.prototype.mark=function(t){return void 0===t?o.at(this._offset,this._line,this._column):(this._offset=t._offset,this._line=t._line,this._column=t._column,this)},r.prototype.offset=function(){return this._offset},r.prototype.line=function(){return this._line},r.prototype.column=function(){return this._column},r.prototype.settings=function(t){return void 0===t?this._settings:(this._settings=P.fromAny(t),this)},r.prototype.clone=function(){return new r(this._string,this._id,this._offset,this._line,this._column,this._settings,this._index,this._isPart)},r}(_),g=function(t){function r(r,e){var i=t.call(this)||this;return i._string=r,i._settings=e,i}return n(r,t),r.prototype.isCont=function(){return!0},r.prototype.isFull=function(){return!1},r.prototype.isDone=function(){return!1},r.prototype.isError=function(){return!1},r.prototype.isPart=function(t){return void 0!==t&&this},r.prototype.write=function(t){if("number"==typeof t)if(t>=0&&t<=55295||t>=57344&&t<=65535)t=String.fromCharCode(t);else if(t>=65536&&t<=1114111){var r=t-65536;t=String.fromCharCode(55296|r>>>10,56320|1023&r)}else t="�";return this._string+=t,this},r.prototype.writeln=function(t){return void 0===t?(this._string=this._string.concat(this._settings._lineSeparator),this):(this._string=this._string.concat(t).concat(this._settings._lineSeparator),this)},r.prototype.settings=function(t){return void 0===t?this._settings:(this._settings=p.fromAny(t),this)},r.prototype.bind=function(){return this._string},r.prototype.clone=function(){return new r(this._string,this._settings)},r.prototype.toString=function(){return this._string},r}(f),m=function(t){function r(e){var i=t.call(this,e)||this;return i.__proto__=r.prototype,i}return n(r,t),r}(Error),b=function(){function t(){}return t.prototype.isCont=function(){return!0},t.prototype.isDone=function(){return!1},t.prototype.isError=function(){return!1},t.prototype.feed=function(t){throw new Error},t.prototype.fork=function(t){return this},t.prototype.bind=function(){throw new Error},t.prototype.trap=function(){throw new Error},t.prototype.asDone=function(){throw new Error},t.prototype.asError=function(){throw new Error},t.prototype.andThen=function(t){return new C(this,t)},t.done=function(r){return void 0===r?(t._done||(t._done=new S(void 0)),t._done):new S(r)},t.error=function(t){return new x(t)},t}(),S=function(t){function r(r){var e=t.call(this)||this;return e._output=r,e}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isDone=function(){return!0},r.prototype.pull=function(t){return this},r.prototype.bind=function(){return this._output},r.prototype.asDone=function(){return this},r.prototype.andThen=function(t){return t},r}(b),x=function(t){function r(r){var e=t.call(this)||this;return e._error=r,e}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isError=function(){return!0},r.prototype.pull=function(t){return this},r.prototype.bind=function(){throw this._error},r.prototype.trap=function(){return this._error},r.prototype.asError=function(){return this},r.prototype.andThen=function(t){return this},r}(b),C=function(t){function r(r,e){var i=t.call(this)||this;return i._head=r,i._tail=e,i}return n(r,t),r.prototype.pull=function(t){var e=this._head;return e.isCont()&&(e=e.pull(t)),e.isError()?e.asError():e.isDone()?this._tail.pull(t):new r(e,this._tail)},r}(b),E=function(t){function r(r,e,i){void 0===i&&(i=0);var n=t.call(this)||this;return n._value=r,n._input=e,n._index=i,n}return n(r,t),r.prototype.feed=function(t){return new r(t,""+t)},r.prototype.pull=function(t){return r.write(t,this._value,this._input,this._index)},r.write=function(t,e,i,n){void 0===n&&(n=0);for(var o=i.length;n<o&&t.isCont();){var s=i.codePointAt(n);void 0===s&&(s=i.charCodeAt(n)),t=t.write(s),n=i.offsetByCodePoints(n,1)}return n===o?b.done(e):t.isDone()?b.error(new m("truncated")):t.isError()?b.error(t.trap()):new r(e,i,n)},r}(b),k=function(){function t(){}return t.stringInput=function(t){return new v(t)},t.stringOutput=function(t,r){return void 0===r&&"string"!=typeof t?(r=t,t=""):"string"!=typeof t&&(t=""),r=p.fromAny(r),new g(t,r)},t.stringWriter=function(t){return void 0===t?new E(void 0,""):new E(t,""+t)},t.writeString=function(t,r){return E.write(r,void 0,""+t)},t.isAlpha=function(t){return t>=65&&t<=90||t>=97&&t<=122},t.isSpace=function(t){return 32===t||9===t},t.isNewline=function(t){return 10===t||13===t},t.isWhitespace=function(r){return t.isSpace(r)||t.isNewline(r)},t}(),D=function(){function t(){}return t.display=function(r,e){var i=!(e instanceof f);if(void 0===r){if(void 0===e)return"undefined";e instanceof f||(e=k.stringOutput(e)),e=e.write("undefined")}else if(null===r){if(void 0===e)return"null";e instanceof f||(e=k.stringOutput(e)),e=e.write("null")}else if("number"==typeof r){if(void 0===e)return""+r;e instanceof f||(e=k.stringOutput(e)),t.displayNumber(r,e)}else if("string"==typeof r){if(void 0===e)return r;e instanceof f||(e=k.stringOutput(e)),e=e.write(r)}else if(r&&"function"==typeof r.display)e instanceof f||(e=k.stringOutput(e)),r.display(e);else{if(void 0===e)return""+r;e instanceof f||(e=k.stringOutput(e)),e=e.write(""+r)}if(i)return e.toString()},t.debug=function(r,e){var i=!(e instanceof f);if(void 0===r){if(void 0===e)return"undefined";e instanceof f||(e=k.stringOutput(e)),e=e.write("undefined")}else if(null===r){if(void 0===e)return"null";e instanceof f||(e=k.stringOutput(e)),e=e.write("null")}else if("number"==typeof r){if(void 0===e)return""+r;e instanceof f||(e=k.stringOutput(e)),t.debugNumber(r,e)}else if("string"==typeof r)e instanceof f||(e=k.stringOutput(e)),t.debugString(r,e);else if("function"==typeof r.debug)e instanceof f||(e=k.stringOutput(e)),r.debug(e);else{if(void 0===e)return""+r;e instanceof f||(e=k.stringOutput(e)),e=e.write(""+r)}if(i)return e.toString()},t.displayNumber=function(t,r){if(isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<2147483648)if(t<0&&(r=r.write(45)),t>-10&&t<10)r=r.write(48+Math.abs(t));else{for(var e=new Array(19),i=t,n=18;i;)e[n]=Math.abs(i%10|0),i=i/10|0,n-=1;for(n+=1;n<19;)r=r.write(48+e[n]),n+=1}else r=r.write(""+t)},t.debugNumber=function(r,e){t.displayNumber(r,e)},t.debugChar=function(r,e){switch(e=e.write(39),r){case 8:e.write(92).write(98);break;case 9:e.write(92).write(116);break;case 10:e.write(92).write(110);break;case 12:e.write(92).write(102);break;case 13:e.write(92).write(114);break;case 34:e.write(92).write(34);break;case 39:e.write(92).write(39);break;case 92:e.write(92).write(92);break;default:e=r>=0&&r<=31||r>=127&&r<=159?e.write(92).write(117).write(t.encodeHex(r>>>12&15)).write(t.encodeHex(r>>>8&15)).write(t.encodeHex(r>>>4&15)).write(t.encodeHex(15&r)):e.write(r)}e=e.write(39)},t.debugString=function(r,e){e=e.write(34);for(var i=k.stringInput(r);i.isCont();){var n=i.head();switch(n){case 8:e.write(92).write(98);break;case 9:e.write(92).write(116);break;case 10:e.write(92).write(110);break;case 12:e.write(92).write(102);break;case 13:e.write(92).write(114);break;case 34:e.write(92).write(34);break;case 92:e.write(92).write(92);break;default:e=n>=0&&n<=31||n>=127&&n<=159?e.write(92).write(117).write(t.encodeHex(n>>>12&15)).write(t.encodeHex(n>>>8&15)).write(t.encodeHex(n>>>4&15)).write(t.encodeHex(15&n)):e.write(n)}i=i.step()}e=e.write(34)},t.encodeHex=function(t){return t<10?48+t:t-10+65},t.lineSeparator=function(){if(!t._lineSeparator){if("function"==typeof require){var r=require("os");r&&(t._lineSeparator=r.EOL)}t._lineSeparator||(t._lineSeparator="\n")}return t._lineSeparator},t.prefix=function(r,e){if(void 0===e&&(e=1),isFinite(r)){var i=Math.abs(r).toExponential(),n=i.indexOf("e"),o=n>=0?+i.slice(n+1):NaN,s=3*Math.min(Math.max(-8,Math.floor(o/3)),8),u=Math.pow(10,-s)*r,p=t.trimTrailingZeros(Math.abs(u).toFixed(e));return u<0&&0!=+p&&(p="-"+p),p+=t.Prefixes[8+s/3]}return""+r},t.trimTrailingZeros=function(t){for(var r,e=-1,i=1,n=t.length;i<n;i+=1){var o=t.charCodeAt(i);if(46===o)e=i,r=i;else if(48===o)0===e&&(e=i),r=i;else if(o>=49&&o<=57)e>0&&(e=0);else if(e>0)break}return e>0&&(t=t.slice(0,e)+t.slice(r+1)),t},t.duration=function(t,r){if(void 0===r&&(r=" "),isFinite(t)){var e=void 0;t>6048e5&&(e=Math.floor(t/6048e5),t%=6048e5);var i=void 0;t>864e5&&(i=Math.floor(t/864e5),t%=864e5);var n=void 0;t>36e5&&(n=Math.floor(t/36e5),t%=36e5);var o=void 0;t>6e4&&(o=Math.floor(t/6e4),t%=6e4);var s=void 0;t>1e3&&(s=Math.floor(t/1e3),t%=1e3);var u="";return void 0!==e&&(u+=e+"w"),void 0!==i&&(u+=(u?r:"")+i+"d"),void 0!==n&&(u+=(u?r:"")+n+"h"),void 0!==o&&(u+=(u?r:"")+o+"m"),void 0===s&&t||(u+=(u?r:"")+(s||0)+"s"),t&&!u&&(u+=t+"ms"),u}return""+t},t.Prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E"," Z","Y"],t}();e.Format=D;var P=function(){function t(t){this._isStrict=t}return t.prototype.isStripped=function(t){return void 0===t?this._isStrict:this.copy(t)},t.prototype.copy=function(r){return t.create(r)},t.prototype.canEqual=function(r){return r instanceof t},t.prototype.equals=function(r){return this===r||r instanceof t&&(r.canEqual(this)&&this._isStrict===r._isStrict)},t.prototype.hashCode=function(){return void 0===t._hashSeed&&(t._hashSeed=r.Murmur3.seed(t)),r.Murmur3.mash(r.Murmur3.mix(t._hashSeed,r.Murmur3.hash(this._isStrict)))},t.prototype.debug=function(t){t=t.write("InputSettings").write(46),t=(t=this._isStrict?t.write("stripped"):t.write("standard")).write(40).write(41)},t.prototype.toString=function(){return D.debug(this)},t.standard=function(){return t._standard||(t._standard=new t(!1)),t._standard},t.stripped=function(){return t._stripped||(t._stripped=new t(!1)),t._stripped},t.create=function(r){return r?t.stripped():t.standard()},t.fromAny=function(r){return r instanceof t?r:"object"==typeof r&&r?t.create(r.isStripped):t.standard()},t}(),L=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.empty=function(t,e,i){return void 0===t&&(t=null),void 0===e&&(e=o.zero()),void 0===i&&(i=P.standard()),null===t&&e===o.zero()&&i===P.standard()?(r._emptyBuffer||(r._emptyBuffer=new M(null,o.zero(),P.standard())),r._emptyBuffer):new M(t,e,i)},r.done=function(t,e,i){return void 0===t&&(t=null),void 0===e&&(e=o.zero()),void 0===i&&(i=P.standard()),null===t&&e===o.zero()&&i===P.standard()?(r._doneBuffer||(r._doneBuffer=new N(null,o.zero(),P.standard())),r._doneBuffer):new N(t,e,i)},r.error=function(t,r,e,i){return void 0===r&&(r=null),void 0===e&&(e=o.zero()),void 0===i&&(i=P.standard()),new A(t,r,e,i)},r}(_),M=function(t){function r(r,e,i){var n=t.call(this)||this;return n._id=r,n._mark=e,n._settings=i,n}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isEmpty=function(){return!0},r.prototype.isDone=function(){return!1},r.prototype.isError=function(){return!1},r.prototype.isPart=function(t){return void 0===t||(t?this:L.done(this._id,this._mark,this._settings))},r.prototype.index=function(t){if(void 0===t)return 0;if(0===t)return this;var r=new u("invalid index");return L.error(r,this._id,this._mark,this._settings)},r.prototype.limit=function(t){if(void 0===t)return 0;if(0===t)return this;var r=new u("invalid limit");return L.error(r,this._id,this._mark,this._settings)},r.prototype.capacity=function(){return 0},r.prototype.remaining=function(){return 0},r.prototype.has=function(t){return!1},r.prototype.get=function(t){throw new u},r.prototype.set=function(t,r){throw new u},r.prototype.head=function(){throw new u},r.prototype.step=function(t){var r=new u("empty step");return L.error(r,this._id,this._mark,this._settings)},r.prototype.seek=function(t){var r=new u("empty seek");return L.error(r,this._id,this._mark,this._settings)},r.prototype.id=function(t){return void 0===t?this._id:L.empty(t,this._mark,this._settings)},r.prototype.mark=function(t){return void 0===t?this._mark:L.empty(this._id,t,this._settings)},r.prototype.settings=function(t){return void 0===t?this._settings:L.empty(this._id,this._mark,t)},r.prototype.clone=function(){return this},r}(L),N=function(t){function r(r,e,i){var n=t.call(this)||this;return n._id=r,n._mark=e,n._settings=i,n}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isEmpty=function(){return!1},r.prototype.isDone=function(){return!0},r.prototype.isError=function(){return!1},r.prototype.isPart=function(t){return void 0!==t&&(t?L.empty(this._id,this._mark,this._settings):this)},r.prototype.index=function(t){if(void 0===t)return 0;if(0===t)return this;var r=new u("invalid index");return L.error(r,this._id,this._mark,this._settings)},r.prototype.limit=function(t){if(void 0===t)return 0;if(0===t)return this;var r=new u("invalid limit");return L.error(r,this._id,this._mark,this._settings)},r.prototype.capacity=function(){return 0},r.prototype.remaining=function(){return 0},r.prototype.has=function(t){return!1},r.prototype.get=function(t){throw new u},r.prototype.set=function(t,r){throw new u},r.prototype.head=function(){throw new u},r.prototype.step=function(t){var r=new u("done step");return L.error(r,this._id,this._mark,this._settings)},r.prototype.seek=function(t){var r=new u("done seek");return L.error(r,this._id,this._mark,this._settings)},r.prototype.id=function(t){return void 0===t?this._id:L.done(t,this._mark,this._settings)},r.prototype.mark=function(t){return void 0===t?this._mark:L.done(this._id,t,this._settings)},r.prototype.settings=function(t){return void 0===t?this._settings:L.done(this._id,this._mark,t)},r.prototype.clone=function(){return this},r}(L),A=function(t){function r(r,e,i,n){var o=t.call(this)||this;return o._error=r,o._id=e,o._mark=i,o._settings=n,o}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isEmpty=function(){return!1},r.prototype.isDone=function(){return!1},r.prototype.isError=function(){return!0},r.prototype.isPart=function(t){return void 0!==t&&this},r.prototype.index=function(t){if(void 0===t)return 0;if(0===t)return this;var r=new u("invalid index");return L.error(r,this._id,this._mark,this._settings)},r.prototype.limit=function(t){if(void 0===t)return 0;if(0===t)return this;var r=new u("invalid limit");return L.error(r,this._id,this._mark,this._settings)},r.prototype.capacity=function(){return 0},r.prototype.remaining=function(){return 0},r.prototype.has=function(t){return!1},r.prototype.get=function(t){throw new u},r.prototype.set=function(t,r){throw new u},r.prototype.head=function(){throw new u},r.prototype.step=function(t){var r=new u("error step");return L.error(r,this._id,this._mark,this._settings)},r.prototype.trap=function(){return this._error},r.prototype.seek=function(t){var r=new u("error seek");return L.error(r,this._id,this._mark,this._settings)},r.prototype.id=function(t){return void 0===t?this._id:L.error(this._error,t,this._mark,this._settings)},r.prototype.mark=function(t){return void 0===t?this._mark:L.error(this._error,this._id,t,this._settings)},r.prototype.settings=function(t){return void 0===t?this._settings:L.error(this._error,this._id,this._mark,t)},r.prototype.clone=function(){return this},r}(L),B=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.writeln=function(t){return"string"==typeof t&&this.write(t),this.write(this.settings().lineSeparator())},r.prototype.display=function(t){return D.display(t,this),this},r.prototype.debug=function(t){return D.debug(t,this),this},r.prototype.flush=function(){return this},r.prototype.clone=function(){throw new Error},r.full=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=p.standard()),null===t&&e===p.standard()?(r._fullBuffer||(r._fullBuffer=new O(t,p.standard())),r._fullBuffer):new O(t,e)},r.done=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=p.standard()),null===t&&e===p.standard()?(r._doneBuffer||(r._doneBuffer=new F(t,p.standard())),r._doneBuffer):new F(t,e)},r.error=function(t,r){return void 0===r&&(r=p.standard()),new Z(t,r)},r}(f),O=function(t){function r(r,e){var i=t.call(this)||this;return i._value=r,i._settings=e,i}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isFull=function(){return!0},r.prototype.isDone=function(){return!1},r.prototype.isError=function(){return!1},r.prototype.isPart=function(t){return void 0===t||(t?B.done(this._value,this._settings):this)},r.prototype.index=function(t){return void 0===t?0:0===t?this:B.error(new a("invalid index"),this._settings)},r.prototype.limit=function(t){return void 0===t?0:0===t?this:B.error(new a("invalid index"),this._settings)},r.prototype.capacity=function(){return 0},r.prototype.remaining=function(){return 0},r.prototype.has=function(t){return!1},r.prototype.get=function(t){throw new a},r.prototype.set=function(t,r){throw new a},r.prototype.write=function(t){return B.error(new a("full"),this._settings)},r.prototype.writeln=function(t){return B.error(new a("full"),this._settings)},r.prototype.step=function(t){return void 0===t&&(t=1),0===t?this:B.error(new a("invalid step"),this._settings)},r.prototype.bind=function(){return this._value},r.prototype.settings=function(t){return void 0===t?this._settings:B.full(this._value,t)},r.prototype.clone=function(){return this},r}(B),F=function(t){function r(r,e){var i=t.call(this)||this;return i._value=r,i._settings=e,i}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isFull=function(){return!1},r.prototype.isDone=function(){return!0},r.prototype.isError=function(){return!1},r.prototype.isPart=function(t){return void 0!==t&&(t?this:B.full(this._value,this._settings))},r.prototype.index=function(t){return void 0===t?0:0===t?this:B.error(new a("invalid index"),this._settings)},r.prototype.limit=function(t){return void 0===t?0:0===t?this:B.error(new a("invalid index"),this._settings)},r.prototype.capacity=function(){return 0},r.prototype.remaining=function(){return 0},r.prototype.has=function(t){return!1},r.prototype.get=function(t){throw new a},r.prototype.set=function(t,r){throw new a},r.prototype.write=function(t){return B.error(new a("done"),this._settings)},r.prototype.writeln=function(t){return B.error(new a("done"),this._settings)},r.prototype.step=function(t){return void 0===t&&(t=1),0===t?this:B.error(new a("invalid step"),this._settings)},r.prototype.bind=function(){return this._value},r.prototype.settings=function(t){return void 0===t?this._settings:B.done(this._value,t)},r.prototype.clone=function(){return this},r}(B),Z=function(t){function r(r,e){var i=t.call(this)||this;return i._error=r,i._settings=e,i}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isFull=function(){return!1},r.prototype.isDone=function(){return!1},r.prototype.isError=function(){return!0},r.prototype.isPart=function(t){return void 0!==t&&this},r.prototype.index=function(t){return void 0===t?0:0===t?this:B.error(new a("invalid index"),this._settings)},r.prototype.limit=function(t){return void 0===t?0:0===t?this:B.error(new a("invalid index"),this._settings)},r.prototype.capacity=function(){return 0},r.prototype.remaining=function(){return 0},r.prototype.has=function(t){return!1},r.prototype.get=function(t){throw new a},r.prototype.set=function(t,r){throw new a},r.prototype.write=function(t){return this},r.prototype.writeln=function(t){return this},r.prototype.step=function(t){return void 0===t&&(t=1),0===t?this:B.error(new a("invalid step"),this._settings)},r.prototype.bind=function(){throw new a},r.prototype.trap=function(){return this._error},r.prototype.settings=function(t){return void 0===t?this._settings:B.error(this._error,t)},r.prototype.clone=function(){return this},r}(B),I=function(){function t(){}return t.reset=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(48).write(109))},t.bold=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(49).write(109))},t.faint=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(50).write(109))},t.black=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(48).write(59).write(51).write(48).write(109))},t.red=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(48).write(59).write(51).write(49).write(109))},t.green=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(48).write(59).write(51).write(50).write(109))},t.yellow=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(48).write(59).write(51).write(51).write(109))},t.blue=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(48).write(59).write(51).write(52).write(109))},t.magenta=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(48).write(59).write(51).write(53).write(109))},t.cyan=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(48).write(59).write(51).write(54).write(109))},t.gray=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(48).write(59).write(51).write(55).write(109))},t.blackBold=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(49).write(59).write(51).write(48).write(109))},t.redBold=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(49).write(59).write(51).write(49).write(109))},t.greenBold=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(49).write(59).write(51).write(50).write(109))},t.yellowBold=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(49).write(59).write(51).write(51).write(109))},t.blueBold=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(49).write(59).write(51).write(52).write(109))},t.magentaBold=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(49).write(59).write(51).write(53).write(109))},t.cyanBold=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(49).write(59).write(51).write(54).write(109))},t.grayBold=function(t){t.settings().isStyled()&&(t=t.write(27).write(91).write(49).write(59).write(51).write(55).write(109))},t}(),z=function(){function t(){}return t.isDigit=function(t){return t>=48&&t<=57},t.decodeDigit=function(t){if(t>=48&&t<=57)return t-48;var r=k.stringOutput();throw r.write("Invalid base-10 digit: "),D.debugChar(t,r),new Error(r.bind())},t.encodeDigit=function(t){if(t>=0&&t<=9)return 48+t;throw new Error(""+t)},t.countDigits=function(t){var r=0;do{r+=1,t=t/10|0}while(t);return r},t.integerParser=function(){return new t.NumberParser(void 0,void 0,0)},t.parseInteger=function(r){return t.NumberParser.parse(r,void 0,void 0,0)},t.decimalParser=function(){return new t.NumberParser(void 0,void 0,1)},t.parseDecimal=function(r){return t.NumberParser.parse(r,void 0,void 0,1)},t.numberParser=function(){return new t.NumberParser},t.parseNumber=function(r){return t.NumberParser.parse(r)},t.integerWriter=function(r){return void 0===r?new t.IntegerWriter(void 0,0):new t.IntegerWriter(void 0,r)},t.writeInteger=function(r,e){return t.IntegerWriter.write(e,void 0,r)},t}(),T=function(){function t(t,r,e,i,n,o){this._input=t,this._tag=r,this._severity=e,this._message=i,this._note=n,this._cause=o}return t.prototype.input=function(){return this._input.clone()},t.prototype.tag=function(){return this._tag},t.prototype.severity=function(){return this._severity},t.prototype.message=function(){return this._message},t.prototype.note=function(){return this._note},t.prototype.cause=function(){return this._cause},t.prototype.lineDigits=function(){var t=z.countDigits(this._tag.end().line());return null!==this._cause&&(t=Math.max(t,this._cause.lineDigits())),t},t.prototype.display=function(r){var e=this._input.clone(),i=this._tag.start(),n=this._tag.end(),o=this._severity,s=this._message,u=this._note,p=this._cause,a=this.lineDigits();t.displayDiagnostic(e,i,n,o,s,u,p,2,a,r)},t.prototype.toString=function(t){return D.display(this,t)},t.from=function(r,e,i,n,o,s){return n instanceof t?(s=n,o=null,n=null):o instanceof t&&(s=o,o=null),void 0===n&&(n=null),void 0===o&&(o=null),void 0===s&&(s=null),new t(r=r.clone(),e,i,n,o,s)},t.message=function(e,i,n,o,s){null===n||n instanceof t?(s=n,n=void 0):"string"==typeof n&&(o=n,n=void 0),(null===o||o instanceof t)&&(s=o,o=void 0),void 0===o&&(o=null),void 0===n&&(n=r.Severity.error());var u=i.mark(),p=i.clone();return p.seek(),t.from(p,u,n,e,o,s)},t.unexpected=function(e,i,n,o){var s;if(null===i||i instanceof t?(o=i,i=void 0):"string"==typeof i&&(n=i,i=void 0),(null===n||n instanceof t)&&(o=n,n=void 0),void 0===n&&(n=null),void 0===i&&(i=r.Severity.error()),e.isCont()){var u=k.stringOutput().write("unexpected").write(32);D.debugChar(e.head(),u),s=u.bind()}else s="unexpected end of input";var p=e.mark(),a=e.clone();return a.seek(),t.from(a,p,i,s,n,o)},t.expected=function(e,i,n,o,s){null===n||n instanceof t?(s=n,n=void 0):"string"==typeof n&&(o=n,n=void 0),(null===o||o instanceof t)&&(s=o,o=void 0),void 0===o&&(o=null),void 0===n&&(n=r.Severity.error());var u=k.stringOutput().write("expected").write(32);"number"==typeof e?D.debugChar(e,u):u=u.write(e),u=u.write(44).write(32).write("but found").write(32),i.isCont()?D.debugChar(i.head(),u):u=u.write("end of input");var p=u.bind(),a=i.mark(),f=i.clone();return f.seek(),t.from(f,a,n,p,o,s)},t.displayDiagnostic=function(r,e,i,n,o,s,u,p,a,f){for(;;){null!==o&&(t.displayMessage(n,o,f),f=f.writeln()),t.displayAnchor(r,e,a,f),f=f.writeln();var h=t.displayContext(r,e,i,n,s,u,p,a,f);if(null===h)break;f=f.writeln(),r=h._input.clone(),e=h._tag.start(),i=h._tag.end(),n=h._severity,o=h._message,s=h._note,u=h._cause}},t.displayMessage=function(r,e,i){t.formatSeverity(r,i),i=i.write(r.label()),I.reset(i),I.bold(i),i=i.write(58),null!==e&&(i=i.write(32).write(e)),I.reset(i)},t.displayAnchor=function(r,e,i,n){t.displayLineLeadArrow(i,n),n=n.write(32);var o=r.id();null!==o&&D.display(o,n),n=n.write(58),D.displayNumber(e._line,n),n=n.write(58),D.displayNumber(e._column,n),n=n.writeln(),t.displayLineLead(i,n)},t.displayCause=function(r,e,i,n){var o=r._input.clone(),s=r._tag.start(),u=r._tag.end(),p=r._severity,a=r._note,f=r._cause;return t.displayContext(o,s,u,p,a,f,e,i,n)},t.displayContext=function(e,i,n,o,s,u,p,a,f){var h=u,d=null!==u&&null===u._message&&r.Objects.equal(e.id(),u._input.id())?i._offset<=u._tag.start()._offset?-1:1:0;return 1===d&&(h=t.displayCause(u,p,a,f),f=f.writeln(),t.displayLineLeadEllipsis(a,f),f=f.writeln()),t.displayLines(e,i,n,o,p,a,f),null!==s&&t.displayNote(s,a,f),-1===d&&(f=f.writeln(),t.displayLineLeadEllipsis(a,f),f=f.writeln(),h=t.displayCause(u,p,a,f)),h},t.displayLines=function(r,e,i,n,o,s,u){for(var p=e.line(),a=i.line(),f=r.line();f<p;)t.consumeLineText(r,f),f+=1;if(a-p>2*o+2){for(;f<=p+o;)t.displayLine(r,e,i,n,f,s,u),f+=1;for(t.displayLineLeadEllipsis(s,u),u=u.write(32),t.formatSeverity(n,u),u=u.write(124),I.reset(u),u=u.writeln();f<a-o;)t.consumeLineText(r,f),f+=1}for(;f<=a;)t.displayLine(r,e,i,n,f,s,u),f+=1},t.displayNote=function(r,e,i){i=i.writeln(),t.displayLineLead(e,i),i=i.writeln(),t.displayLineComment("note",r,e,i)},t.displayLine=function(r,e,i,n,o,s,u){e._line===o&&i._line===o?t.displaySingleLine(r,e,i,n,o,s,u):e._line===o?t.displayStartLine(r,e,n,o,s,u):i._line===o?t.displayEndLine(r,i,n,o,s,u):t.displayMidLine(r,n,o,s,u)},t.displaySingleLine=function(r,e,i,n,o,s,u){t.displayLineLeadNumber(o,s,u),u=u.write(32);for(var p=1;p<r.column();p+=1)u=u.write(32);t.displayLineText(r,o,u),t.displayLineLead(s,u),u=u.write(32);for(var a=1;a<e._column;)u=u.write(32),a+=1;for(t.formatSeverity(n,u);a<=i._column;)u=u.write(94),a+=1;null!==i._note&&(u=u.write(32).write(i._note)),I.reset(u)},t.displayStartLine=function(r,e,i,n,o,s){t.displayLineLeadNumber(n,o,s),s=s.write(32).write(32).write(32);for(var u=1;u<r.column();u+=1)s=s.write(32);t.displayLineText(r,n,s),t.displayLineLead(o,s),s=s.write(32).write(32),t.formatSeverity(i,s),s=s.write(95);for(var p=1;p<e._column;)s=s.write(95),p+=1;s=s.write(94),null!==e._note&&(s=s.write(32).write(e._note)),I.reset(s),s=s.writeln()},t.displayEndLine=function(r,e,i,n,o,s){t.displayLineLeadNumber(n,o,s),s=s.write(32),t.formatSeverity(i,s),s=s.write(124),I.reset(s),s=s.write(32),t.displayLineText(r,n,s),t.displayLineLead(o,s),s=s.write(32),t.formatSeverity(i,s),s=s.write(124).write(95);for(var u=1;u<e._column;)s=s.write(95),u+=1;s=s.write(94),null!==e._note&&(s=s.write(32).write(e._note)),I.reset(s)},t.displayMidLine=function(r,e,i,n,o){t.displayLineLeadNumber(i,n,o),o=o.write(32),t.formatSeverity(e,o),o=o.write(124),I.reset(o),o=o.write(32),t.displayLineText(r,i,o)},t.displayLineComment=function(r,e,i,n){t.displayLineLeadComment(i,n),n=n.write(32),I.bold(n),n=n.write(r).write(58),I.reset(n),null!=e&&(n=n.write(32).write(e))},t.displayLineLead=function(t,r){I.blueBold(r);for(var e=1+t,i=0;i<e;i+=1)r=r.write(32);r=r.write(124),I.reset(r)},t.displayLineLeadComment=function(t,r){I.blueBold(r);for(var e=1+t,i=0;i<e;i+=1)r=r.write(32);r=r.write(61),I.reset(r)},t.displayLineLeadArrow=function(t,r){for(var e=0;e<t;e+=1)r=r.write(32);I.blueBold(r),r=r.write(45).write(45).write(62),I.reset(r)},t.displayLineLeadEllipsis=function(t,r){I.blueBold(r);for(var e=0;e<t;e+=1)r=r.write(46);I.reset(r),r=r.write(32).write(32)},t.displayLineLeadNumber=function(t,r,e){for(var i=r-z.countDigits(t),n=0;n<i;n+=1)e=e.write(32);I.blueBold(e),D.displayNumber(t,e),e=e.write(32).write(124),I.reset(e)},t.displayLineText=function(t,r,e){for(;t.isCont()&&t.line()===r;)e=e.write(t.head()),t=t.step();t.line()===r&&(e=e.writeln())},t.consumeLineText=function(t,r){for(;t.isCont()&&t.line()===r;)t=t.step()},t.formatSeverity=function(t,e){switch(t.level()){case r.Severity.FATAL_LEVEL:case r.Severity.ALERT_LEVEL:case r.Severity.ERROR_LEVEL:I.redBold(e);break;case r.Severity.WARNING_LEVEL:I.yellowBold(e);break;case r.Severity.NOTE_LEVEL:I.greenBold(e);break;case r.Severity.INFO_LEVEL:I.cyanBold(e);break;case r.Severity.DEBUG_LEVEL:case r.Severity.TRACE_LEVEL:default:I.magentaBold(e)}},t}(),W=function(t){function r(e){var i=t.call(this,e instanceof T?e.message()||void 0:e)||this;return e instanceof T&&(i.diagnostic=e),i.__proto__=r.prototype,i}return n(r,t),r.prototype.toString=function(){return this.diagnostic?this.diagnostic.toString():t.prototype.toString.call(this)},r}(Error),U=function(){function t(){}return t.prototype.isCont=function(){return!0},t.prototype.isDone=function(){return!1},t.prototype.isError=function(){return!1},t.prototype.fork=function(t){return this},t.prototype.bind=function(){throw new Error},t.prototype.trap=function(){throw new Error},t.prototype.asError=function(){throw new Error},t.done=function(r){return void 0===r?(t._done||(t._done=new q(void 0)),t._done):new q(r)},t.error=function(t){return t instanceof Error?new H(t):new H(new W(t))},t}(),q=function(t){function r(r){var e=t.call(this)||this;return e._output=r,e}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isDone=function(){return!0},r.prototype.feed=function(t){return this},r.prototype.bind=function(){return this._output},r}(U),H=function(t){function r(r){var e=t.call(this)||this;return e._error=r,e}return n(r,t),r.prototype.isCont=function(){return!1},r.prototype.isError=function(){return!0},r.prototype.feed=function(t){return this},r.prototype.bind=function(){throw this._error},r.prototype.trap=function(){return this._error},r.prototype.asError=function(){return this},r}(U),R=function(){function t(){}return t.prototype.isFatal=function(){return!1},t.prototype.isReplacement=function(){return!1},t.prototype.replacementChar=function(){return 65533},t.prototype.toString=function(){return D.debug(this)},t.fatal=function(){return t._fatal||(t._fatal=new V(!1)),t._fatal},t.fatalNonZero=function(){return t._fatalNonZero||(t._fatalNonZero=new V(!0)),t._fatalNonZero},t.replacement=function(r){return void 0===r||65533===r?(t._replacement||(t._replacement=new j(65533,!1)),t._replacement):new j(r,!1)},t.replacementNonZero=function(r){return void 0===r||65533===r?(t._replacementNonZero||(t._replacementNonZero=new j(65533,!0)),t._replacementNonZero):new j(r,!0)},t}(),V=function(t){function e(r){var e=t.call(this)||this;return e._isNonZero=r,e}return n(e,t),e.prototype.isFatal=function(){return!0},e.prototype.isNonZero=function(t){return void 0===t?this._isNonZero:t?R.fatalNonZero():R.fatal()},e.prototype.equals=function(t){return this===t||t instanceof e&&this._isNonZero===t._isNonZero},e.prototype.hashCode=function(){return void 0===e._hashSeed&&(e._hashSeed=r.Murmur3.seed(e)),r.Murmur3.mash(r.Murmur3.mix(e._hashSeed,r.Murmur3.hash(this._isNonZero)))},e.prototype.debug=function(t){t=t.write("UtfErrorMode").write(46).write(this.isNonZero?"fatalNonZero":"fatal").write(40).write(41)},e}(R),j=function(t){function e(r,e){var i=t.call(this)||this;return i._replacementChar=r,i._isNonZero=e,i}return n(e,t),e.prototype.isReplacement=function(){return!0},e.prototype.replacementChar=function(){return this._replacementChar},e.prototype.isNonZero=function(t){return void 0===t?this._isNonZero:65533===this._replacementChar?t?R.replacementNonZero():R.replacement():new e(this._replacementChar,t)},e.prototype.equals=function(t){return this===t||t instanceof e&&(this.replacementChar===t.replacementChar&&this.isNonZero===t.isNonZero)},e.prototype.hashCode=function(){return void 0===e._hashSeed&&(e._hashSeed=r.Murmur3.seed(e)),r.Murmur3.mash(r.Murmur3.mix(r.Murmur3.mix(e._hashSeed,this._replacementChar),r.Murmur3.hash(this._isNonZero)))},e.prototype.debug=function(t){t=t.write("UtfErrorMode").write(46).write(this._isNonZero?"replacementNonZero":"replacement").write(40),65533!==this._replacementChar&&D.debugChar(this._replacementChar,t),t=t.write(41)},e}(R),Q=function(t){function r(r,e,i,n,o){void 0===n&&(n=p.standard()),void 0===o&&(o=!1);var s=t.call(this)||this;return s._array=r,s._index=e,s._limit=i,s._settings=n,s._isPart=o,s}return n(r,t),r.prototype.isCont=function(){return this._index<this._limit},r.prototype.isFull=function(){return this._isPart&&this._index>=this._limit},r.prototype.isDone=function(){return!this._isPart&&this._index>=this._limit},r.prototype.isError=function(){return!1},r.prototype.isPart=function(t){return void 0===t?this._isPart:(this._isPart=t,this)},r.prototype.index=function(t){return void 0===t?this._index:0<=t&&t<=this._limit?(this._index=t,this):B.error(new a("invalid index"),this._settings)},r.prototype.limit=function(t){return void 0===t?this._limit:0<=t&&t<=this._array.length?(this._limit=t,this):B.error(new a("invalid limit"),this._settings)},r.prototype.capacity=function(){return this._array.length},r.prototype.remaining=function(){return this._limit-this._index},r.prototype.has=function(t){return 0<=t&&t<this._limit},r.prototype.get=function(t){if(0<=t&&t<this._limit)return this._array[t];throw new a},r.prototype.set=function(t,r){if(!(0<=t&&t<this._limit))throw new a;this._array[t]=r},r.prototype.write=function(t){if("number"==typeof t){var r=this._index;return r<this._limit?(this._array[r]=t,this._index=r+1,this):B.error(new a("full"),this._settings)}return B.error(new a("binary output"),this._settings)},r.prototype.writeln=function(t){return B.error(new a("binary output"),this._settings)},r.prototype.step=function(t){var r=this._index+t;return 0<=r&&r<=this._limit?(this._index=r,this):B.error(new a("invalid step"),this._settings)},r.prototype.bind=function(){return new Uint8Array(this._array.buffer,0,this._index)},r.prototype.settings=function(t){return void 0===t?this._settings:(this._settings=p.fromAny(t),this)},r.prototype.clone=function(){return new r(this._array,this._index,this._limit,this._settings,this._isPart)},r}(B),G=function(t){function r(r,e,i){return t.call(this,r,e,i)||this}return n(r,t),r.prototype.bind=function(){return this.toUint8Array()},r.prototype.clone=function(){return new r(this.cloneArray(),this._size,this._settings)},r}(function(t){function r(r,e,i){var n=t.call(this)||this;return n._array=r,n._size=e,n._settings=i,n}return n(r,t),r.prototype.isCont=function(){return!0},r.prototype.isFull=function(){return!1},r.prototype.isDone=function(){return!1},r.prototype.isError=function(){return!1},r.prototype.isPart=function(t){return void 0!==t&&this},r.prototype.write=function(t){if("number"==typeof t){var e=this._size,i=this._array,n=void 0;return null===i||e+1>i.length?(n=new Uint8Array(r.expand(e+1)),null!==i&&n.set(i,0),this._array=n):n=i,n[e]=t,this._size=e+1,this}throw new TypeError(""+t)},r.prototype.writeln=function(t){throw new TypeError(""+t)},r.prototype.toUint8Array=function(){var t=this._size,r=this._array;if(null!==r&&t===r.length)return r;var e=new Uint8Array(t);return null!==r&&e.set(r.slice(0,t),0),this._array=e,e},r.prototype.cloneArray=function(){var t=this._array;return null!==t?t.slice(0,this._size):null},r.prototype.settings=function(t){return void 0===t?this._settings:(this._settings=p.fromAny(t),this)},r.expand=function(t){return t=Math.max(32,t)-1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1},r}(f)),Y=function(){function t(){}return t.outputBuffer=function(t,r,e){return void 0===r&&(r=0),void 0===e&&(e=t.length),new Q(t,r,r+e)},t.uint8ArrayOutput=function(t,r){var e;return void 0===r&&"number"!=typeof t?(r=t,t=void 0):"number"!=typeof t&&(t=void 0),e="number"==typeof t?new Uint8Array(t):null,r=p.fromAny(r),new G(e,0,r)},t}(),J=function(){function t(t){this._alphabet=t}return t.prototype.alphabet=function(){return this._alphabet},t.prototype.encodeDigit=function(t){return this._alphabet.charCodeAt(t)},t.prototype.uint8ArrayWriter=function(r){return void 0===r?new t.Writer(void 0,void 0,this):new t.Writer(r,r,this)},t.prototype.writeUint8Array=function(r,e){return t.Writer.write(e,void 0,r,this)},t.prototype.writeInteger=function(r,e,i){return void 0===i&&(i=0),t.IntegerWriter.write(e,void 0,r,i,this)},t.prototype.writeIntegerLiteral=function(r,e,i){return void 0===i&&(i=0),t.IntegerWriter.writeLiteral(e,void 0,r,i,this)},t.lowercase=function(){return t._lowercase||(t._lowercase=new t("0123456789abcdef")),t._lowercase},t.uppercase=function(){return t._uppercase||(t._uppercase=new t("0123456789ABCDEF")),t._uppercase},t.isDigit=function(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102},t.decodeDigit=function(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-65+10;if(t>=97&&t<=102)return t-97+10;var r=k.stringOutput();throw r.write("Invalid base-16 digit: "),D.debugChar(t,r),new Error(r.bind())},t.writeQuantum=function(r,e,i){var n=t.decodeDigit(r),o=t.decodeDigit(e);i=i.write(n<<4|o)},t.parser=function(r){return new t.Parser(r)},t.parse=function(r,e){return t.Parser.parse(r,e)},t.parseUint8Array=function(r){return t.Parser.parse(r,Y.uint8ArrayOutput())},t}(),K=function(t){function r(r,e,i,n,o,s){void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===o&&(o=-1),void 0===s&&(s=0);var u=t.call(this)||this;return u._output=r,u._errorMode=e,u._c1=i,u._c2=n,u._c3=o,u._have=s,u}return n(r,t),r.prototype.isCont=function(){return this._output.isCont()},r.prototype.isFull=function(){return this._output.isFull()},r.prototype.isDone=function(){return this._output.isDone()},r.prototype.isError=function(){return this._output.isError()},r.prototype.isPart=function(t){return void 0===t?this._output.isPart():(this._output=this._output.isPart(t),this)},r.prototype.write=function(t){if("number"==typeof t){var e=this._c1,i=this._c2,n=this._c3,o=-1,s=this._have;if(t>=0)switch(s){case 0:e=255&t,s=1;break;case 1:i=255&t,s=2;break;case 2:n=255&t,s=3;break;case 3:o=255&t,s=4;break;default:throw new Error("unreachable")}if(0===e&&this._errorMode.isNonZero())return f.error(new a("unexpected NUL byte"));if(e>=0&&e<=127)this._output=this._output.write(e),this._have=0;else if(e>=194&&e<=244)if(e>=194&&e<=223&&i>=128&&i<=191)this._output=this._output.write((31&e)<<6|63&i),this._c1=-1,this._have=0;else if(224===e&&i>=160&&i<=191||e>=225&&e<=236&&i>=128&&i<=191||237===e&&i>=128&&i<=159||e>=238&&e<=239&&i>=128&&i<=191)if(n>=128&&n<=191)this._output=this._output.write((15&e)<<12|(63&i)<<6|63&n),this._c1=-1,this._c2=-1,this._have=0;else if(n>=0){if(this._errorMode.isFatal())return f.error(new a(r.invalid(e,i,n)));this._output=this._output.write(this._errorMode.replacementChar()),this._c1=n,this._c2=-1,this._have=1}else{if(t<0||this._output.isDone())return f.error(new a(r.invalid(e,i)));this._c2=i,this._have=2}else if(240===e&&i>=144&&i<=191||e>=241&&e<=243&&i>=128&&i<=191||244===e&&i>=128&&i<=143)if(n>=128&&n<=191)if(o>=128&&o<=191)this._have=4,this._output=this._output.write((7&e)<<18|(63&i)<<12|(63&n)<<6|63&o),this._c1=-1,this._c2=-1,this._c3=-1,this._have=0;else if(o>=0){if(this._errorMode.isFatal())return f.error(new a(r.invalid(e,i,n,o)));this._output=this._output.write(this._errorMode.replacementChar()),this._c1=o,this._c2=-1,this._c3=-1,this._have=1}else{if(t<0||this._output.isDone())return f.error(new a(r.invalid(e,i,n)));this._c3=n,this._have=3}else if(n>=0){if(this._errorMode.isFatal())return f.error(new a(r.invalid(e,i,n)));this._output=this._output.write(this._errorMode.replacementChar()),this._c1=n,this._c2=-1,this._have=1}else{if(t<0||this._output.isDone())return f.error(new a(r.invalid(e,i)));this._c2=i,this._have=2}else if(i>=0){if(this._errorMode.isFatal())return f.error(new a(r.invalid(e,i)));this._output=this._output.write(this._errorMode.replacementChar()),this._c1=i,this._have=1}else{if(t<0||this._output.isDone())return f.error(new a(r.invalid(e)));this._c1=e,this._have=1}else if(e>=0){if(this._errorMode.isFatal())return f.error(new a(r.invalid(e)));this._output=this._output.write(this._errorMode.replacementChar()),this._have=0}return this._output.isError()?this._output:this}if("string"==typeof t)return this._output.write(t),this;throw new TypeError(""+t)},r.invalid=function(t,r,e,i){var n=k.stringOutput();return n=n.write("invalid UTF-8 code unit sequence: "),J.uppercase().writeIntegerLiteral(t,n,2),void 0!==r&&(n=n.write(" "),J.uppercase().writeIntegerLiteral(r,n,2),void 0!==e&&(n=n.write(" "),J.uppercase().writeIntegerLiteral(e,n,2),void 0!==i&&(n=n.write(" "),J.uppercase().writeIntegerLiteral(i,n,2)))),n.bind()},r.prototype.settings=function(t){return void 0===t?this._output.settings():(this._output.settings(t),this)},r.prototype.bind=function(){return 0===this._have?this._output.bind():this.write(-1).bind()},r.prototype.trap=function(){return this._output.trap()},r.prototype.clone=function(){return new r(this._output.clone(),this._errorMode,this._c1,this._c2,this._c3,this._have)},r}(f),X=function(t){function r(r,e,i,n,o,s){void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=4);var u=t.call(this)||this;return u._output=r,u._errorMode=e,u._c2=i,u._c3=n,u._c4=o,u._index=s,u}return n(r,t),r.prototype.isCont=function(){return this._output.isCont()},r.prototype.isFull=function(){return this._output.isFull()},r.prototype.isDone=function(){return this._output.isDone()},r.prototype.isError=function(){return!1},r.prototype.isPart=function(t){return void 0===t?this._output.isPart():(this._output=this._output.isPart(t),this)},r.prototype.write=function(t){if("number"==typeof t){for(var r=0,e=this._c2,i=this._c3,n=this._c4,o=this._index;o<4;){if(!this._output.isCont())return f.error(new a("unable to flush buffered code units"));switch(o){case 1:this._output=this._output.write(e),this._c2=0;break;case 2:this._output=this._output.write(i),this._c3=0;break;case 3:this._output=this._output.write(n),this._c4=0;break;default:throw new Error("unreachable")}o+=1}if(t>=0&&t<=127)n=t,o=3;else if(t>=128&&t<=2047)i=192|t>>>6,n=128|63&t,o=2;else if(t>=2048&&t<=65535||t>=57344&&t<=65535)e=224|t>>>12,i=128|t>>>6&63,n=128|63&t,o=1;else{if(!(t>=65536&&t<=1114111))return this._errorMode.isFatal()?f.error(new a("invalid code point: "+t)):this.write(this._errorMode.replacementChar());r=240|t>>>18,e=128|t>>>12&63,i=128|t>>>6&63,n=128|63&t,o=0}do{switch(o){case 0:this._output=this._output.write(r);break;case 1:this._output=this._output.write(e),this._c2=0;break;case 2:this._output=this._output.write(i),this._c3=0;break;case 3:this._output=this._output.write(n),this._c4=0;break;default:throw new Error("unreachable")}o+=1}while(o<4&&this._output.isCont());return o<4&&(o<3&&(o<2&&(this._c2=e),this._c3=i),this._c4=n),this._index=o,this}if("string"==typeof t)return this._output.write(t),this;throw new TypeError(""+t)},r.prototype.flush=function(){for(var t=this._index;t<4;){if(!this._output.isCont())return f.error(new a("unable to flush buffered code units"));switch(t){case 1:this._output=this._output.write(this._c2),this._c2=0;break;case 2:this._output=this._output.write(this._c3),this._c3=0;break;case 3:this._output=this._output.write(this._c4),this._c4=0;break;default:throw new Error("unreachable")}t+=1}return this._index=t,this},r.prototype.settings=function(t){return void 0===t?this._output.settings():(this._output.settings(t),this)},r.prototype.bind=function(){return this._output.bind()},r.prototype.clone=function(){return new r(this._output.clone(),this._errorMode,this._c2,this._c3,this._c4,this._index)},r}(f),$=function(){function t(){}return t.sizeOf=function(r,e){if("number"==typeof r||void 0===r){if("number"==typeof r){if(0===r&&void 0!==e&&e.isNonZero())return 2;if(r>=0&&r<=127)return 1;if(r>=128&&r<=2047)return 2;if(r>=2048&&r<=65535||r>=57344&&r<=65535)return 3;if(r>=65536&&r<=1114111)return 4}return void 0===e?3:e.isReplacement()?t.sizeOf(e.replacementChar()):0}if("string"==typeof r){for(var i=0,n=0,o=r.length;n<o;n=r.offsetByCodePoints(n,1))i+=t.sizeOf(r.charCodeAt(n),e);return i}throw new TypeError(""+r)},t.decodedOutput=function(t,r){return void 0===r&&(r=R.fatal()),new K(t,r)},t.encodedOutput=function(t,r){return void 0===r&&(r=R.fatal()),new X(t,r)},t.decodedString=function(){return t.decodedOutput(k.stringOutput())},t}(),tt=function(t){function r(r,e,i,n){var o=t.call(this)||this;return o._sign=r,o._value=e,o._mode=i,o._step=n,o}return n(r,t),r.prototype.feed=function(t){return r.parse(t,this._sign,this._value,this._mode,this._step)},r.parse=function(t,e,i,n,o){void 0===e&&(e=1),void 0===i&&(i=0),void 0===n&&(n=2),void 0===o&&(o=1);var s=0;if(1===o)if(t.isCont())45===(s=t.head())&&(t=t.step(),e=-1),o=2;else if(t.isDone())return U.error(T.expected("number",t));if(2===o)if(t.isCont())if(48===(s=t.head()))t=t.step(),o=4;else{if(!(s>=49&&s<=57)){if(n>0&&46===s){var u=k.stringOutput();return e<0&&(u=u.write(45)),rt.parse(t,u,n)}return U.error(T.expected("number",t))}t=t.step(),i=e*(s-48),o=3}else if(t.isDone())return U.error(T.expected("number",t));if(3===o){for(;t.isCont()&&(s=t.head())>=48&&s<=57;){var p=10*i+e*(s-48);if(!(-9007199254740991<=p&&p<=9007199254740992))return U.error(T.message("integer overflow",t));i=p,t=t.step()}if(t.isCont())o=4;else if(t.isDone())return U.done(i)}if(4===o){if(t.isCont()){if(s=t.head(),n>0&&46===s||n>1&&(69===s||101===s)){u=k.stringOutput();return u=e<0&&0===i?u.write(45).write(48):u.write(""+i),rt.parse(t,u,n)}return U.done(i)}if(t.isDone())return U.done(i)}return new r(e,i,n,o)},r}(U);z.NumberParser=tt;var rt=function(t){function r(r,e,i){var n=t.call(this)||this;return n._output=r,n._mode=e,n._step=i,n}return n(r,t),r.prototype.feed=function(t){return r.parse(t,this._output,this._mode,this._step)},r.parse=function(t,e,i,n){void 0===i&&(i=2),void 0===n&&(n=1);var o=0;if(1===n)if(t.isCont())if(46===(o=t.head()))t=t.step(),e=e.write(o),n=2;else{if(!(i>1)||69!==o&&101!==o)return U.error(T.expected("decimal or exponent",t));t=t.step(),e=e.write(o),n=5}else if(t.isDone())return U.error(T.expected("decimal or exponent",t));if(2===n)if(t.isCont()){if(!((o=t.head())>=48&&o<=57))return U.error(T.expected("digit",t));t=t.step(),e=e.write(o),n=3}else if(t.isDone())return U.error(T.expected("digit",t));if(3===n){for(;t.isCont()&&(o=t.head())>=48&&o<=57;)t=t.step(),e=e.write(o);if(t.isCont()){if(!(i>1))return U.done(+e.bind());n=4}else if(t.isDone())return U.done(+e.bind())}if(4===n){if(69!==(o=t.head())&&101!==o)return U.done(+e.bind());t=t.step(),e=e.write(o),n=5}if(5===n)if(t.isCont())43!==(o=t.head())&&45!==o||(t=t.step(),e=e.write(o)),n=6;else if(t.isDone())return U.error(T.unexpected(t));if(6===n)if(t.isCont()){if(!((o=t.head())>=48&&o<=57))return U.error(T.expected("digit",t));t=t.step(),e=e.write(o),n=7}else if(t.isDone())return U.error(T.expected("digit",t));if(7===n){for(;t.isCont()&&(o=t.head())>=48&&o<=57;)t=t.step(),e=e.write(o);if(!t.isEmpty())return U.done(+e.bind())}return new r(e,i,n)},r}(U),et=function(t){function r(r,e,i,n){void 0===i&&(i=0),void 0===n&&(n=1);var o=t.call(this)||this;return o._value=r,o._input=e,o._index=i,o._step=n,o}return n(r,t),r.prototype.pull=function(t){return r.write(t,this._value,this._input,this._index,this._step)},r.write=function(t,e,i,n,o){if(void 0===n&&(n=0),void 0===o&&(o=1),0===o)return b.done();if(1===o&&(i<0?t.isCont()&&(t=t.write(45),o=2):o=2),2===o)if(i>-10&&i<10){if(t.isCont())return t=t.write(z.encodeDigit(Math.abs(0|i))),b.done(e)}else{for(var s=new Array(19),u=i,p=18;u;)s[p]=Math.abs(u%10|0),u=u/10|0,p-=1;for(p+=1+n;p<19&&t.isCont();)t=t.write(z.encodeDigit(s[p])),n+=1,p+=1;if(19===p)return b.done(e)}return t.isDone()?b.error(new m("truncated")):t.isError()?b.error(t.trap()):new r(e,i,n,o)},r}(b);z.IntegerWriter=et;var it=function(t){function r(r,e,i){void 0===e&&(e=0),void 0===i&&(i=1);var n=t.call(this)||this;return n._output=r,n._p=e,n._step=i,n}return n(r,t),r.prototype.feed=function(t){return r.parse(t,this._output.clone(),this._p,this._step)},r.parse=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=1);for(var o=0;!t.isEmpty();){if(1===n)if(t.isCont()&&(o=t.head(),J.isDigit(o)))t=t.step(),i=o,n=2;else if(!t.isEmpty())return U.done(e.bind());if(2===n)if(t.isCont()&&(o=t.head(),J.isDigit(o)))t=t.step(),J.writeQuantum(i,o,e),i=0,n=1;else if(!t.isEmpty())return U.error(T.expected("base16 digit",t))}return new r(e,i,n)},r}(U);J.Parser=it;var nt=function(t){function r(r,e,i,n,o){void 0===n&&(n=0),void 0===o&&(o=1);var s=t.call(this)||this;return s._value=r,s._input=e,s._base16=i,s._index=n,s._step=o,s}return n(r,t),r.prototype.feed=function(t){if(t instanceof Uint8Array)return new r(void 0,t,this._base16);throw new TypeError(""+t)},r.prototype.pull=function(t){return r.write(t,this._value,this._input,this._base16,this._index,this._step)},r.write=function(t,e,i,n,o,s){for(void 0===o&&(o=0),void 0===s&&(s=1);o<i.length;){var u=i[o];1===s&&t.isCont()&&(t=t.write(n.encodeDigit(u>>>4)),s=2),2===s&&t.isCont()&&(t=t.write(n.encodeDigit(15&u)),o+=1,s=1)}return o===i.length?b.done(e):t.isDone()?b.error(new m("truncated")):t.isError()?b.error(t.trap()):new r(e,i,n,o,s)},r}(b);J.Writer=nt;var ot=function(t){function r(r,e,i,n,o,s){var u=t.call(this)||this;return u._value=r,u._input=e,u._width=i,u._base16=n,u._index=o,u._step=s,u}return n(r,t),r.prototype.pull=function(t){return r.write(t,this._value,this._input,this._width,this._base16,this._index,this._step)},r.write=function(t,e,i,n,o,s,u){if(void 0===s&&(s=0),void 0===u&&(u=3),u<=0)return b.done();if(1===u&&t.isCont()&&(t=t.write(48),u=2),2===u&&t.isCont()&&(t=t.write(120),u=3),3===u)if(i>=0&&i<16&&n<=1){if(t.isCont())return t=t.write(o.encodeDigit(i)),b.done(e)}else{for(var p=15,a=new Array(16),f=i;0!==f||p>=16-n;)a[p]=15&f,f>>>=4,p-=1;for(p+=1+s;p<16&&t.isCont();)t=t.write(o.encodeDigit(a[p])),s+=1,p+=1;if(16===p)return b.done(e)}return t.isDone()?b.error(new m("truncated")):t.isError()?b.error(t.trap()):new r(e,i,n,o,s,u)},r.writeLiteral=function(t,e,i,n,o){return r.write(t,e,i,n,o,0,1)},r}(b);J.IntegerWriter=ot;var st=function(){function t(){}return t.prototype.decodeDigit=function(t){if(t>=65&&t<=90)return t-65;if(t>=97&&t<=122)return t+-71;if(t>=48&&t<=57)return t+4;if(43===t||45===t)return 62;if(47===t||95===t)return 63;var r=k.stringOutput();throw r.write("Invalid base-64 digit: "),D.debugChar(t,r),new Error(r.bind())},t.prototype.encodeDigit=function(t){return this.alphabet().charCodeAt(t)},t.prototype.writeQuantum=function(t,r,e,i,n){var o=this.decodeDigit(t),s=this.decodeDigit(r);if(61!==e){var u=this.decodeDigit(e);if(61!==i){var p=this.decodeDigit(i);n=(n=(n=n.write(o<<2|s>>>4)).write(s<<4|u>>>2)).write(u<<6|p)}else n=(n=n.write(o<<2|s>>>4)).write(s<<4|u>>>2)}else{if(61!==i)throw new Error("Improperly padded base-64");n=n.write(o<<2|s>>>4)}},t.prototype.parser=function(r){return new t.Parser(r,this)},t.prototype.parse=function(r,e){return t.Parser.parse(r,e,this)},t.prototype.parseUint8Array=function(r){return t.Parser.parse(r,Y.uint8ArrayOutput(),this)},t.prototype.uint8ArrayWriter=function(r){return void 0===r?new t.Writer(void 0,void 0,this):new t.Writer(r,r,this)},t.prototype.writeUint8Array=function(r,e){return t.Writer.write(e,void 0,r,this)},t.standard=function(r){return void 0===r&&(r=!0),r?(t._standard||(t._standard=new ut(!0)),t._standard):(t._standardUnpadded||(t._standardUnpadded=new ut(!0)),t._standardUnpadded)},t.url=function(r){return void 0===r&&(r=!0),r?(t._url||(t._url=new pt(!0)),t._url):(t._urlUnpadded||(t._urlUnpadded=new pt(!1)),t._urlUnpadded)},t}(),ut=function(t){function r(r){var e=t.call(this)||this;return e._isPadded=r,e}return n(r,t),r.prototype.alphabet=function(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"},r.prototype.isPadded=function(t){return void 0===t?this._isPadded:t===this._isPadded?this:st.standard(t)},r.prototype.isDigit=function(t){return t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||43===t||47===t},r}(st),pt=function(t){function r(r){var e=t.call(this)||this;return e._isPadded=r,e}return n(r,t),r.prototype.alphabet=function(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},r.prototype.isPadded=function(t){return void 0===t?this._isPadded:t===this._isPadded?this:st.url(t)},r.prototype.isDigit=function(t){return t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||45===t||95===t},r}(st),at=function(t){function r(r,e,i,n,o,s){void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=1);var u=t.call(this)||this;return u._output=r,u._base64=e,u._p=i,u._q=n,u._r=o,u._step=s,u}return n(r,t),r.prototype.feed=function(t){return r.parse(t,this._output.clone(),this._base64,this._p,this._q,this._r,this._step)},r.parse=function(t,e,i,n,o,s,u){void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===u&&(u=1);for(var p=0;!t.isEmpty();){if(1===u)if(t.isCont()&&(p=t.head(),i.isDigit(p)))t=t.step(),n=p,u=2;else if(!t.isEmpty())return U.done(e.bind());if(2===u)if(t.isCont()&&(p=t.head(),i.isDigit(p)))t=t.step(),o=p,u=3;else if(!t.isEmpty())return U.error(T.expected("base64 digit",t));if(3===u)if(t.isCont()&&(p=t.head(),i.isDigit(p)||61===p))t=t.step(),s=p,u=61!==p?4:5;else if(!t.isEmpty())return i.isPadded()?U.error(T.unexpected(t)):(i.writeQuantum(n,o,61,61,e),U.done(e.bind()));if(4===u){if(t.isCont()&&(p=t.head(),i.isDigit(p)||61===p)){if(t=t.step(),i.writeQuantum(n,o,s,p,e),s=0,o=0,n=0,61===p)return U.done(e.bind());u=1}else if(!t.isEmpty())return i.isPadded()?U.error(T.unexpected(t)):(i.writeQuantum(n,o,s,61,e),U.done(e.bind()))}else if(5===u){if(t.isCont()&&61===(p=t.head()))return t=t.step(),i.writeQuantum(n,o,s,p,e),s=0,o=0,n=0,U.done(e.bind());if(!t.isEmpty())return U.error(T.expected(61,t))}}return new r(e,i,n,o,s,u)},r}(U);st.Parser=at;var ft=function(t){function r(r,e,i,n,o){void 0===n&&(n=0),void 0===o&&(o=1);var s=t.call(this)||this;return s._value=r,s._input=e,s._base64=i,s._index=n,s._step=o,s}return n(r,t),r.prototype.feed=function(t){if(t instanceof Uint8Array)return new r(void 0,t,this._base64);throw new TypeError(""+t)},r.prototype.pull=function(t){return r.write(t,this._value,this._input,this._base64,this._index,this._step)},r.write=function(t,e,i,n,o,s){for(void 0===o&&(o=0),void 0===s&&(s=1);o+2<i.length&&t.isCont();){var u=i[o],p=i[o+1],a=i[o+2];1===s&&t.isCont()&&(t=t.write(n.encodeDigit(u>>>2)),s=2),2===s&&t.isCont()&&(t=t.write(n.encodeDigit(63&(u<<4|p>>>4))),s=3),3===s&&t.isCont()&&(t=t.write(n.encodeDigit(63&(p<<2|a>>>6))),s=4),4===s&&t.isCont()&&(t=t.write(n.encodeDigit(63&a)),o+=3,s=1)}if(o+1<i.length&&t.isCont()){u=i[o],p=i[o+1];1===s&&t.isCont()&&(t=t.write(n.encodeDigit(u>>>2)),s=2),2===s&&t.isCont()&&(t=t.write(n.encodeDigit(63&(u<<4|p>>>4))),s=3),3===s&&t.isCont()&&(t=t.write(n.encodeDigit(p<<2&63)),s=4),4===s&&(n.isPadded()?t.isCont()&&(t=t.write(61),o+=2):o+=2)}else if(o<i.length&&t.isCont()){u=i[o];1===s&&t.isCont()&&(t=t.write(n.encodeDigit(u>>>2)),s=2),2===s&&t.isCont()&&(t=t.write(n.encodeDigit(u<<4&63)),s=3),3===s&&(n.isPadded()?t.isCont()&&(t=t.write(61),s=4):o+=1),4===s&&t.isCont()&&(t=t.write(61),o+=1)}return o===i.length?b.done(e):t.isDone()?b.error(new m("truncated")):t.isError()?b.error(t.trap()):new r(e,i,n,o,s)},r}(b);st.Writer=ft,t.Base10=z,t.Base10IntegerWriter=et,t.Base10NumberParser=tt,t.Base16=J,t.Base16IntegerWriter=ot,t.Base16Parser=it,t.Base16Writer=nt,t.Base64=st,t.Base64Parser=at,t.Base64Writer=ft,t.Binary=Y,t.Diagnostic=T,t.Format=D,t.Input=_,t.InputBuffer=L,t.InputException=u,t.InputSettings=P,t.Mark=o,t.Output=f,t.OutputBuffer=B,t.OutputException=a,t.OutputSettings=p,t.OutputStyle=I,t.Parser=U,t.ParserException=W,t.Span=s,t.Tag=e,t.Unicode=k,t.Utf8=$,t.UtfErrorMode=R,t.Writer=b,t.WriterException=m,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=swim-codec.min.js.map