// swim-warp-3.10.2; copyright 2015-2020 SWIM.AI inc.
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@swim/codec"),require("@swim/recon"),require("@swim/util"),require("@swim/uri"),require("@swim/structure")):"function"==typeof define&&define.amd?define(["exports","@swim/codec","@swim/recon","@swim/util","@swim/uri","@swim/structure"],e):e((t=t||self).swim=t.swim||{},t.swim,t.swim,t.swim,t.swim,t.swim)}(this,(function(t,e,n,r,o,i){"use strict";var u=function(){function t(){}return t.prototype.tag=function(){return this.constructor.tag()},t.prototype.prio=function(t){return void 0===t?0:this},t.prototype.rate=function(t){return void 0===t?0:this},t.prototype.toRecon=function(){return n.Recon.toString(this.toValue())},t.prototype.toString=function(){return e.Format.debug(this)},t.tag=function(){},t.fromValue=function(e){switch(e.tag()){case"event":return t.EventMessage.fromValue(e);case"command":return t.CommandMessage.fromValue(e);case"link":return t.LinkRequest.fromValue(e);case"linked":return t.LinkedResponse.fromValue(e);case"sync":return t.SyncRequest.fromValue(e);case"synced":return t.SyncedResponse.fromValue(e);case"unlink":return t.UnlinkRequest.fromValue(e);case"unlinked":return t.UnlinkedResponse.fromValue(e);case"auth":return t.AuthRequest.fromValue(e);case"authed":return t.AuthedResponse.fromValue(e);case"deauth":return t.DeauthRequest.fromValue(e);case"deauthed":return t.DeauthedResponse.fromValue(e);default:return}},t.parseRecon=function(e){return t.fromValue(n.Recon.parse(e))},t}(),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function a(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var f=function(t){function e(e){var n=t.call(this)||this;return n._body=e,n}return a(e,t),e.prototype.node=function(t){return void 0===t?o.Uri.empty():this},e.prototype.lane=function(t){return void 0===t?o.Uri.empty():this},e.prototype.body=function(t){return void 0===t?this._body:(t=i.Value.fromAny(t),this.copy(t))},e.prototype.equals=function(t){return this===t||t instanceof e&&this.__proto__.constructor===t.__proto__.constructor&&this._body.equals(t._body)},e.prototype.hashCode=function(){return r.Murmur3.mash(r.Murmur3.mix(r.Murmur3.seed(this.__proto__),this._body.hashCode()))},e.prototype.debug=function(t){t=t.write(this.__proto__.constructor.name).write(46).write("of").write(40),this._body.isDefined()&&(t=t.debug(this._body)),t=t.write(41)},e.prototype.toValue=function(){return i.Attr.of(this.tag()).concat(this._body)},e.fromValue=function(t,e){if(t.header(e.tag()).isDefined())return new e(t.body())},e}(u),c=function(t){function e(e,n,r){var o=t.call(this)||this;return o._node=e,o._lane=n,o._body=r,o}return a(e,t),e.prototype.node=function(t){return void 0===t?this._node:(t=o.Uri.fromAny(t),this.copy(t,this._lane,this._body))},e.prototype.lane=function(t){return void 0===t?this._lane:(t=o.Uri.fromAny(t),this.copy(this._node,t,this._body))},e.prototype.body=function(t){return void 0===t?this._body:(t=i.Value.fromAny(t),this.copy(this._node,this._lane,t))},e.prototype.toValue=function(){var t=i.Record.create(2).slot("node",this._node.toString()).slot("lane",this._lane.toString());return i.Attr.of(this.tag(),t).concat(this._body)},e.prototype.equals=function(t){return this===t||t instanceof e&&this.__proto__.constructor===t.__proto__.constructor&&(this._node.equals(t._node)&&this._lane.equals(t._lane)&&this._body.equals(t._body))},e.prototype.hashCode=function(){return r.Murmur3.mash(r.Murmur3.mix(r.Murmur3.mix(r.Murmur3.mix(r.Murmur3.seed(this.__proto__),this._node.hashCode()),this._lane.hashCode()),this._body.hashCode()))},e.prototype.debug=function(t){t=t.write(this.__proto__.constructor.name).write(46).write("of").write(40).debug(this._node.toString()).write(", ").debug(this._lane.toString()),this._body.isDefined()&&(t=t.write(", ").debug(this._body)),t=t.write(41)},e.fromValue=function(t,e){var n,r;if(t.header(e.tag()).forEach((function(t,e){var u=t.key.stringValue(void 0);void 0!==u?"node"===u?n=o.Uri.parse(t.toValue().stringValue("")):"lane"===u&&(r=o.Uri.parse(t.toValue().stringValue(""))):t instanceof i.Value&&(0===e?n=o.Uri.parse(t.stringValue("")):1===e&&(r=o.Uri.parse(t.stringValue(""))))})),n&&r){var u=t.body();return new e(n,r,u)}},e}(u),h=function(t){function e(e,n,r,o,i){var u=t.call(this)||this;return u._node=e,u._lane=n,u._prio=r,u._rate=o,u._body=i,u}return a(e,t),e.prototype.node=function(t){return void 0===t?this._node:(t=o.Uri.fromAny(t),this.copy(t,this._lane,this._prio,this._rate,this._body))},e.prototype.lane=function(t){return void 0===t?this._lane:(t=o.Uri.fromAny(t),this.copy(this._node,t,this._prio,this._rate,this._body))},e.prototype.prio=function(t){return void 0===t?this._prio:this.copy(this._node,this._lane,t,this._rate,this._body)},e.prototype.rate=function(t){return void 0===t?this._rate:this.copy(this._node,this._lane,this._prio,t,this._body)},e.prototype.body=function(t){return void 0===t?this._body:(t=i.Value.fromAny(t),this.copy(this._node,this._lane,this._prio,this._rate,t))},e.prototype.equals=function(t){return this===t||t instanceof e&&this.__proto__.constructor===t.__proto__.constructor&&(this._node.equals(t._node)&&this._lane.equals(t._lane)&&this._prio===t._prio&&this._rate===t._rate&&this._body.equals(t._body))},e.prototype.hashCode=function(){return r.Murmur3.mash(r.Murmur3.mix(r.Murmur3.mix(r.Murmur3.mix(r.Murmur3.mix(r.Murmur3.mix(r.Murmur3.seed(this.__proto__),this._node.hashCode()),this._lane.hashCode()),r.Murmur3.hash(this._prio)),r.Murmur3.hash(this._rate)),this._body.hashCode()))},e.prototype.debug=function(t){t=t.write(this.__proto__.constructor.name).write(46).write("of").write(40).debug(this._node.toString()).write(", ").debug(this._lane.toString()),(this._prio||this._rate)&&(t=t.write(", ").debug(this._prio).write(", ").debug(this._rate)),this._body.isDefined()&&(t=t.write(", ").debug(this._body)),t=t.write(41)},e.prototype.toValue=function(){var t=i.Record.create(4).slot("node",this._node.toString()).slot("lane",this._lane.toString());return this._prio&&t.slot("prio",this._prio),this._rate&&t.slot("rate",this._rate),i.Attr.of(this.tag(),t).concat(this._body)},e.fromValue=function(t,e){var n,r,u=0,s=0;if(t.header(e.tag()).forEach((function(t,e){var a=t.key.stringValue(void 0);void 0!==a?"node"===a?n=o.Uri.parse(t.toValue().stringValue("")):"lane"===a?r=o.Uri.parse(t.toValue().stringValue("")):"prio"===a?u=t.numberValue(u):"rate"===a&&(s=t.numberValue(s)):t instanceof i.Value&&(0===e?n=o.Uri.parse(t.stringValue("")):1===e&&(r=o.Uri.parse(t.stringValue(""))))})),n&&r){var a=t.body();return new e(n,r,u,s,a)}},e}(u),d=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return a(e,t),e.prototype.copy=function(t,n,r){return new e(t,n,r)},e.tag=function(){return"event"},e.fromValue=function(t){return c.fromValue(t,e)},e.of=function(t,n,r){return void 0===r&&(r=i.Value.absent()),new e(t=o.Uri.fromAny(t),n=o.Uri.fromAny(n),r=i.Value.fromAny(r))},e}(c);u.EventMessage=d;var l=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return a(e,t),e.prototype.copy=function(t,n,r){return new e(t,n,r)},e.tag=function(){return"command"},e.fromValue=function(t){return c.fromValue(t,e)},e.of=function(t,n,r){return void 0===r&&(r=i.Value.absent()),new e(t=o.Uri.fromAny(t),n=o.Uri.fromAny(n),r=i.Value.fromAny(r))},e}(c);u.CommandMessage=l;var p=function(t){function e(e,n,r,o,i){return t.call(this,e,n,r,o,i)||this}return a(e,t),e.prototype.copy=function(t,n,r,o,i){return new e(t,n,r,o,i)},e.tag=function(){return"link"},e.fromValue=function(t){return h.fromValue(t,e)},e.of=function(t,n,r,u,s){return void 0===r&&(r=0),void 0===u&&(u=0),void 0===s&&(s=i.Value.absent()),new e(t=o.Uri.fromAny(t),n=o.Uri.fromAny(n),r,u,s=i.Value.fromAny(s))},e}(h);u.LinkRequest=p;var y=function(t){function e(e,n,r,o,i){return t.call(this,e,n,r,o,i)||this}return a(e,t),e.prototype.copy=function(t,n,r,o,i){return new e(t,n,r,o,i)},e.tag=function(){return"linked"},e.fromValue=function(t){return h.fromValue(t,e)},e.of=function(t,n,r,u,s){return void 0===r&&(r=0),void 0===u&&(u=0),void 0===s&&(s=i.Value.absent()),new e(t=o.Uri.fromAny(t),n=o.Uri.fromAny(n),r,u,s=i.Value.fromAny(s))},e}(h);u.LinkedResponse=y;var _=function(t){function e(e,n,r,o,i){return t.call(this,e,n,r,o,i)||this}return a(e,t),e.prototype.copy=function(t,n,r,o,i){return new e(t,n,r,o,i)},e.tag=function(){return"sync"},e.fromValue=function(t){return h.fromValue(t,e)},e.of=function(t,n,r,u,s){return void 0===r&&(r=0),void 0===u&&(u=0),void 0===s&&(s=i.Value.absent()),new e(t=o.Uri.fromAny(t),n=o.Uri.fromAny(n),r,u,s=i.Value.fromAny(s))},e}(h);u.SyncRequest=_;var m=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return a(e,t),e.prototype.copy=function(t,n,r){return new e(t,n,r)},e.tag=function(){return"synced"},e.fromValue=function(t){return c.fromValue(t,e)},e.of=function(t,n,r){return void 0===r&&(r=i.Value.absent()),new e(t=o.Uri.fromAny(t),n=o.Uri.fromAny(n),r=i.Value.fromAny(r))},e}(c);u.SyncedResponse=m;var V=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return a(e,t),e.prototype.copy=function(t,n,r){return new e(t,n,r)},e.tag=function(){return"unlink"},e.fromValue=function(t){return c.fromValue(t,e)},e.of=function(t,n,r){return void 0===r&&(r=i.Value.absent()),new e(t=o.Uri.fromAny(t),n=o.Uri.fromAny(n),r=i.Value.fromAny(r))},e}(c);u.UnlinkRequest=V;var w=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return a(e,t),e.prototype.copy=function(t,n,r){return new e(t,n,r)},e.tag=function(){return"unlinked"},e.fromValue=function(t){return c.fromValue(t,e)},e.of=function(t,n,r){return void 0===r&&(r=i.Value.absent()),new e(t=o.Uri.fromAny(t),n=o.Uri.fromAny(n),r=i.Value.fromAny(r))},e}(c);u.UnlinkedResponse=w;var b=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.copy=function(t){return new e(t)},e.tag=function(){return"auth"},e.fromValue=function(t){return f.fromValue(t,e)},e.of=function(t){return void 0===t&&(t=i.Value.absent()),new e(t=i.Value.fromAny(t))},e}(f);u.AuthRequest=b;var v=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.copy=function(t){return new e(t)},e.tag=function(){return"authed"},e.fromValue=function(t){return f.fromValue(t,e)},e.of=function(t){return void 0===t&&(t=i.Value.absent()),new e(t=i.Value.fromAny(t))},e}(f);u.AuthedResponse=v;var g=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.copy=function(t){return new e(t)},e.tag=function(){return"deauth"},e.fromValue=function(t){return f.fromValue(t,e)},e.of=function(t){return void 0===t&&(t=i.Value.absent()),new e(t=i.Value.fromAny(t))},e}(f);u.DeauthRequest=g;var A=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.copy=function(t){return new e(t)},e.tag=function(){return"deauthed"},e.fromValue=function(t){return f.fromValue(t,e)},e.of=function(t){return void 0===t&&(t=i.Value.absent()),new e(t=i.Value.fromAny(t))},e}(f);u.DeauthedResponse=A,t.AuthRequest=b,t.AuthedResponse=v,t.CommandMessage=l,t.DeauthRequest=g,t.DeauthedResponse=A,t.Envelope=u,t.EventMessage=d,t.HostAddressed=f,t.LaneAddressed=c,t.LinkAddressed=h,t.LinkRequest=p,t.LinkedResponse=y,t.SyncRequest=_,t.SyncedResponse=m,t.UnlinkRequest=V,t.UnlinkedResponse=w,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=swim-warp.min.js.map